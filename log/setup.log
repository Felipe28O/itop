2022-11-02 10:34:14 | Info    | 5     | iTop is configured to use the <b>SMTP</b> transport. | SetupLog |||
2022-11-02 10:34:14 | Info    | 5     | SMTP configuration (from config-itop.php): host: mail.qvision.com.co, port: 25, user: qvimd@qvision.com.co, password: ********, encryption: <em>no encryption</em> . | SetupLog |||
2022-11-02 10:34:14 | Ok      | 5     | PHP settings are ok to proceed with a test of the email | SetupLog |||
2022-11-02 10:34:31 | Ok      | 5     | The email has been sent, check your inbox for the incoming mail... | SetupLog |||
2022-11-10 09:46:12 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-11-10 09:46:17 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:46:17 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:46:17 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-11-10 09:46:18 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-11-10 09:46:18 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:46:18 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-11-10 09:46:18 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:46:18 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-11-10 09:46:18 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-11-10 09:46:18 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-11-10 09:46:18 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-11-10 09:46:18 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-11-10 09:48:53 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:48:53 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:48:53 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-11-10 09:48:53 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-11-10 09:48:53 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:48:53 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-11-10 09:48:53 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:48:53 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-11-10 09:48:53 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-11-10 09:48:53 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-11-10 09:48:53 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-11-10 09:50:31 | Error   |       | <b>Error:</b> the configuration file 'conf/production/config-itop.php' already exists and cannot be overwritten. | SetupLog |||
2022-11-10 09:50:45 | Error   |       | <b>Error:</b> the configuration file 'conf/production/config-itop.php' already exists and cannot be overwritten. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-11-10 09:51:19 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-11-10 09:51:21 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-11-10 09:51:21 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-11-10 09:51:21 | Ok      |       | Info - mysqldump -V said: mysqldump  Ver 10.19 Distrib 10.3.34-MariaDB, for debian-linux-gnu (x86_64) | SetupLog |||
2022-11-10 09:51:22 | Info    |       | operation 'async_action', peak memory usage. 3068752 | SetupLog |||
2022-11-10 09:51:28 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-11-10 09:51:30 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-11-10 09:51:30 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-11-10 09:51:30 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-11-10 09:51:30 | Info    |       | operation 'async_action', peak memory usage. 3068032 | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ##### STEP  start | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
    <backup>
      <destination>/var/www/html/itop/data/backups/manual/setup-2022-11-10_15_51</destination>
      <configuration_file>/var/www/html/itop//conf/production/config-itop.php</configuration_file>
    </backup>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>mysql</server>
    <user>app_user</user>
    <pwd>**removed**</pwd>
    <name>itop</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>https://app.q-vision.co/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>sample-itop-logos</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ##### STEP  duration: 0.01s | SetupLog |||
2022-11-10 09:51:54 | Info    |       | operation 'async_action', peak memory usage. 3079368 | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ##### STEP copy start | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ##### STEP copy duration: 0s | SetupLog |||
2022-11-10 09:51:54 | Info    |       | operation 'async_action', peak memory usage. 3078848 | SetupLog |||
2022-11-10 15:51:54 | Info    |       | ##### STEP backup start | SetupLog |||
2022-11-10 15:51:54 | Ok      |       | Info - Creating backup: '/var/www/html/itop/data/backups/manual/setup-2022-11-10_15_51.tar.gz' | SetupLog |||
2022-11-10 15:51:54 | Ok      |       | Info - backup: creating tmp dir '/var/www/html/itop/data/tmp-backup-2043262654' | SetupLog |||
2022-11-10 15:51:54 | Ok      |       | Info - backup: adding resource '/var/www/html/itop//conf/production/config-itop.php' | SetupLog |||
2022-11-10 15:51:54 | Ok      |       | Info - Starting backup of mysql/itop(suffix:'') | SetupLog |||
2022-11-10 15:51:54 | Ok      |       | Info - backup: generate data file with command: mysqldump --defaults-extra-file="/tmp/itop-mysqldump-gwi5pK" --opt --skip-lock-tables --default-character-set=utf8mb4 --add-drop-database --single-transaction --host='mysql'  --port='3306' --user=xxxxx  --result-file='/var/www/html/itop/data/tmp-backup-2043262654/itop-dump.sql' 'itop'  | SetupLog |||
2022-11-10 15:51:55 | Ok      |       | Info - backup: adding to archive files 'array (
  0 => '/var/www/html/itop/data/tmp-backup-2043262654/config-itop.php',
  1 => '/var/www/html/itop/data/tmp-backup-2043262654/itop-dump.sql',
)' | SetupLog |||
2022-11-10 15:51:55 | Ok      |       | Info - backup: removing tmp folder '/var/www/html/itop/data/tmp-backup-2043262654' | SetupLog |||
2022-11-10 15:51:55 | Info    |       | ##### STEP backup duration: 0.55s | SetupLog |||
2022-11-10 09:51:55 | Info    |       | operation 'async_action', peak memory usage. 5596368 | SetupLog |||
2022-11-10 15:51:55 | Info    |       | ##### STEP compile start | SetupLog |||
2022-11-10 15:51:55 | Info    |       | Compiling data model. | SetupLog |||
2022-11-10 15:51:55 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-11-10 09:52:00 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:52:00 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:52:00 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-11-10 09:52:00 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-11-10 09:52:00 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:52:00 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-11-10 09:52:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:52:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-11-10 09:52:00 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-11-10 09:52:00 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-11-10 09:52:00 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-11-10 09:52:00 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-11-10 09:52:00 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-11-10 09:52:00 | Info    |       | ##### STEP compile duration: 5.31s | SetupLog |||
2022-11-10 09:52:00 | Info    |       | operation 'async_action', peak memory usage. 26344568 | SetupLog |||
2022-11-10 15:52:00 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-11-10 15:52:00 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-11-10 15:52:00 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming 'priv_internalUser' failed (already done in a previous upgrade?) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-11-10 15:52:01 | Info    |       | There is a total of 429 records in priv_change. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | There are 42 useless records in priv_change (9.79%) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Removing the orphan records... | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | No orphan attachment found. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Creating the structure in 'itop'. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-11-10 15:52:01 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-11-10 15:52:01 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-11-10 15:52:01 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-11-10 15:52:01 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-11-10 15:52:01 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-11-10 15:52:01 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | ##### STEP db-schema duration: 0.64s | SetupLog |||
2022-11-10 15:52:01 | Info    |       | operation 'async_action', peak memory usage. 20221880 | SetupLog |||
2022-11-10 15:52:01 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-11-10 15:52:01 | Info    |       | After Database Creation | SetupLog |||
2022-11-10 15:52:01 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-11-10 15:52:01 | Info    |       | ##### STEP after-db-create duration: 0.14s | SetupLog |||
2022-11-10 15:52:01 | Info    |       | operation 'async_action', peak memory usage. 16800360 | SetupLog |||
2022-11-10 15:52:02 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-11-10 15:52:02 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | starting data load session | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-11-10 15:52:02 | Info    |       | ending data load session | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-11-10 15:52:02 | Info    |       | ##### STEP load-data duration: 0.44s | SetupLog |||
2022-11-10 15:52:02 | Info    |       | operation 'async_action', peak memory usage. 13369552 | SetupLog |||
2022-11-10 15:52:02 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-11-10 15:52:02 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-11-10 09:52:03 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-11-10 09:52:03 | Info    |       | ##### STEP create-config duration: 0.38s | SetupLog |||
2022-11-10 09:52:03 | Info    |       | operation 'async_action', peak memory usage. 15428216 | SetupLog |||
2022-11-10 09:52:03 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-11-10 09:57:57 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-11-10 09:58:00 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:58:00 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-11-10 09:58:00 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-11-10 09:58:00 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-11-10 09:58:00 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:58:00 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-11-10 09:58:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-11-10 09:58:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-11-10 09:58:00 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-11-10 09:58:00 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-11-10 09:58:00 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-11-10 09:58:00 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-27 16:21:26 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-27 16:21:29 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-27 16:21:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-27 16:21:29 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-27 16:21:31 | Info    |       | operation 'async_action', peak memory usage. 3636512 | SetupLog |||
2022-12-27 16:21:48 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-27 16:21:50 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-27 16:21:50 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-27 16:21:50 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-27 16:21:50 | Info    |       | operation 'async_action', peak memory usage. 3067400 | SetupLog |||
2022-12-27 22:22:35 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-27 22:22:35 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-27 22:22:35 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-27 22:22:35 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2022-12-27 16:22:35 | Info    |       | operation 'async_action', peak memory usage. 3077728 | SetupLog |||
2022-12-27 22:22:36 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-27 22:22:36 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-27 16:22:36 | Info    |       | operation 'async_action', peak memory usage. 3077288 | SetupLog |||
2022-12-27 22:22:36 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-27 22:22:36 | Info    |       | Compiling data model. | SetupLog |||
2022-12-27 22:22:36 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-27 16:23:33 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-27 16:23:33 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-27 16:23:33 | Info    |       | For theme 'darkmoon' precompiled file used: '/tmp/itop-jQfqg4//combodo-backoffice-darkmoon-theme/precompiled-themes/main.css' | SetupLog |||
2022-12-27 16:23:40 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-27 16:23:44 | Info    |       | Compiling theme darkmoon... | SetupLog |||
2022-12-27 16:23:48 | Info    |       | darkmoon theme compilation done. | SetupLog |||
2022-12-27 16:23:48 | Info    |       | Replacing theme 'darkmoon' precompiled file in file /var/www/html/itop/data/precompiled_styles/darkmoon.css for next setup. | SetupLog |||
2022-12-27 16:23:48 | Info    |       | For theme 'fullmoon' precompiled file used: '/tmp/itop-jQfqg4//itop-structure/precompiled-themes/fullmoon/main.css' | SetupLog |||
2022-12-27 16:23:59 | Info    |       | Compiling theme fullmoon... | SetupLog |||
2022-12-27 16:24:02 | Info    |       | fullmoon theme compilation done. | SetupLog |||
2022-12-27 16:24:02 | Info    |       | Replacing theme 'fullmoon' precompiled file in file /var/www/html/itop/data/precompiled_styles/fullmoon.css for next setup. | SetupLog |||
2022-12-27 16:24:02 | Info    |       | For theme 'test-red' precompiled file used: '/tmp/itop-jQfqg4//itop-structure/precompiled-themes/test-red/main.css' | SetupLog |||
2022-12-27 16:24:11 | Info    |       | Compiling theme test-red... | SetupLog |||
2022-12-27 16:24:14 | Info    |       | test-red theme compilation done. | SetupLog |||
2022-12-27 16:24:14 | Info    |       | Replacing theme 'test-red' precompiled file in file /var/www/html/itop/data/precompiled_styles/test-red.css for next setup. | SetupLog |||
2022-12-27 16:24:24 | Info    |       | Compiling theme light-grey... | SetupLog |||
2022-12-27 16:24:26 | Info    |       | light-grey theme compilation done. | SetupLog |||
2022-12-27 16:24:26 | Info    |       | Replacing theme 'light-grey' precompiled file in file /var/www/html/itop/data/precompiled_styles/light-grey.css for next setup. | SetupLog |||
2022-12-27 16:24:45 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-27 16:24:48 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-27 16:24:48 | Info    |       | ##### STEP compile duration: 132.02s | SetupLog |||
2022-12-27 16:24:48 | Info    |       | operation 'async_action', peak memory usage. 70357488 | SetupLog |||
2022-12-27 22:24:50 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-27 22:24:50 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-27 22:24:52 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-27 22:25:04 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-27 22:25:04 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-27 22:25:04 | Info    |       | There is a total of 607 records in priv_change. | SetupLog |||
2022-12-27 22:25:04 | Info    |       | There are 2 useless records in priv_change (0.33%) | SetupLog |||
2022-12-27 22:25:04 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-27 22:25:04 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-27 22:25:06 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-27 22:25:07 | Info    |       | 0.026s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-27 22:25:12 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-27 22:25:12 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-27 22:25:12 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-27 22:25:12 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-27 22:25:12 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-27 22:25:12 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-27 22:25:12 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-27 22:25:12 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-27 22:25:12 | Info    |       | ##### STEP db-schema duration: 23.1s | SetupLog |||
2022-12-27 22:25:13 | Info    |       | operation 'async_action', peak memory usage. 16278664 | SetupLog |||
2022-12-27 22:25:14 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-27 22:25:14 | Info    |       | After Database Creation | SetupLog |||
2022-12-27 22:25:16 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-27 22:25:21 | Info    |       | ##### STEP after-db-create duration: 7.43s | SetupLog |||
2022-12-27 22:25:22 | Info    |       | operation 'async_action', peak memory usage. 12243080 | SetupLog |||
2022-12-27 22:25:22 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-27 22:25:24 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-27 22:25:58 | Info    |       | starting data load session | SetupLog |||
2022-12-27 22:25:58 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-27 22:25:58 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-27 22:25:58 | Info    |       | ending data load session | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-27 22:25:59 | Info    |       | ##### STEP load-data duration: 36.74s | SetupLog |||
2022-12-27 22:25:59 | Info    |       | operation 'async_action', peak memory usage. 13218856 | SetupLog |||
2022-12-27 22:25:59 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-27 22:26:01 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-27 16:26:10 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-27 16:26:10 | Info    |       | ##### STEP create-config duration: 10.76s | SetupLog |||
2022-12-27 16:26:11 | Info    |       | operation 'async_action', peak memory usage. 15313744 | SetupLog |||
2022-12-27 16:26:14 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-29 14:03:26 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-29 14:03:29 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-29 14:03:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 14:03:29 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-29 14:03:30 | Info    |       | operation 'async_action', peak memory usage. 3068200 | SetupLog |||
2022-12-29 14:03:33 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-29 14:03:35 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-29 14:03:35 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 14:03:35 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-29 14:03:35 | Info    |       | operation 'async_action', peak memory usage. 3066904 | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-29 14:04:31 | Info    |       | operation 'async_action', peak memory usage. 3078096 | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-29 14:04:31 | Info    |       | operation 'async_action', peak memory usage. 3077656 | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 20:04:31 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 20:04:31 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-29 14:05:28 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 14:05:28 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 14:05:28 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-29 14:05:36 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-29 14:05:39 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-29 14:05:39 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-29 14:05:50 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-29 14:05:50 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-29 14:06:00 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-29 14:06:00 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-29 14:06:10 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-29 14:06:30 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-29 14:06:34 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-29 14:06:34 | Info    |       | ##### STEP compile duration: 122.39s | SetupLog |||
2022-12-29 14:06:34 | Info    |       | operation 'async_action', peak memory usage. 26362920 | SetupLog |||
2022-12-29 20:06:37 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-29 20:06:37 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-29 20:06:38 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 20:06:52 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-29 20:06:52 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-29 20:06:52 | Info    |       | There is a total of 615 records in priv_change. | SetupLog |||
2022-12-29 20:06:52 | Info    |       | There are 5 useless records in priv_change (0.81%) | SetupLog |||
2022-12-29 20:06:52 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-29 20:06:52 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:54 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:54 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:06:55 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-29 20:06:55 | Info    |       | 0.015s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-29 20:07:01 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-29 20:07:01 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-29 20:07:01 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-29 20:07:01 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-29 20:07:01 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-29 20:07:01 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-29 20:07:01 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-29 20:07:01 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-29 20:07:01 | Info    |       | ##### STEP db-schema duration: 25.42s | SetupLog |||
2022-12-29 20:07:03 | Info    |       | operation 'async_action', peak memory usage. 16354256 | SetupLog |||
2022-12-29 20:07:04 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-29 20:07:04 | Info    |       | After Database Creation | SetupLog |||
2022-12-29 20:07:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:07:13 | Info    |       | ##### STEP after-db-create duration: 9.72s | SetupLog |||
2022-12-29 20:07:13 | Info    |       | operation 'async_action', peak memory usage. 12246840 | SetupLog |||
2022-12-29 20:07:14 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-29 20:07:16 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | starting data load session | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-29 20:07:56 | Info    |       | ending data load session | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:07:56 | Info    |       | ##### STEP load-data duration: 42.68s | SetupLog |||
2022-12-29 20:07:57 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-29 20:07:57 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-29 20:07:59 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 14:08:10 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-29 14:08:10 | Info    |       | ##### STEP create-config duration: 13.42s | SetupLog |||
2022-12-29 14:08:12 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-29 14:08:14 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-29 14:18:07 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-29 14:18:10 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-29 14:18:10 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 14:18:10 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-29 14:18:10 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-29 14:18:11 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-29 14:18:12 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-29 14:18:12 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 14:18:12 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-29 14:18:12 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-29 14:18:59 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-29 14:18:59 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 20:18:59 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 20:18:59 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-29 20:19:21 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": /itop_design/module_designs/module_design[itop-portal]/form[ticket-create] at line 5: could not be modified (not found) - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-29 20:19:21 | Ok      |       | Call stack: | SetupLog |||
2022-12-29 20:19:21 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-29 20:19:21 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-29 20:19:21 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-29 20:19:21 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-29 20:19:21 | Info    |       | ##### STEP compile duration: 22.19s | SetupLog |||
2022-12-29 14:19:21 | Info    |       | operation 'async_action', peak memory usage. 15748504 | SetupLog |||
2022-12-29 20:23:59 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 20:23:59 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 20:23:59 | Info    |       | ##### STEP  duration: 0.06s | SetupLog |||
2022-12-29 14:23:59 | Info    |       | operation 'async_action', peak memory usage. 3077808 | SetupLog |||
2022-12-29 20:23:59 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 20:23:59 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-29 14:23:59 | Info    |       | operation 'async_action', peak memory usage. 3077840 | SetupLog |||
2022-12-29 20:23:59 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 20:23:59 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 20:24:05 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": /itop_design/module_designs/module_design[itop-portal]/form[ticket-create] at line 5: could not be modified (not found) - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-29 20:24:05 | Ok      |       | Call stack: | SetupLog |||
2022-12-29 20:24:05 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-29 20:24:05 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-29 20:24:05 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-29 20:24:05 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-29 20:24:05 | Info    |       | ##### STEP compile duration: 5.42s | SetupLog |||
2022-12-29 14:24:05 | Info    |       | operation 'async_action', peak memory usage. 15651832 | SetupLog |||
2022-12-29 20:36:39 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 20:36:40 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 20:36:40 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2022-12-29 14:36:40 | Info    |       | operation 'async_action', peak memory usage. 3077808 | SetupLog |||
2022-12-29 20:36:41 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 20:36:41 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-29 14:36:41 | Info    |       | operation 'async_action', peak memory usage. 3077840 | SetupLog |||
2022-12-29 20:36:41 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 20:36:41 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 14:37:12 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 14:37:12 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 14:37:12 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-29 14:37:18 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-29 14:37:22 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-29 14:37:22 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-29 14:37:30 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-29 14:37:30 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-29 14:37:39 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-29 14:37:39 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-29 14:37:47 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-29 14:38:04 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-29 14:38:06 | Info    |       | ##### STEP compile duration: 85.51s | SetupLog |||
2022-12-29 14:38:07 | Info    |       | operation 'async_action', peak memory usage. 26266208 | SetupLog |||
2022-12-29 20:38:08 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-29 20:38:08 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-29 20:38:10 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 20:38:18 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-29 20:38:18 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-29 20:38:18 | Info    |       | There is a total of 613 records in priv_change. | SetupLog |||
2022-12-29 20:38:18 | Info    |       | There are 2 useless records in priv_change (0.33%) | SetupLog |||
2022-12-29 20:38:18 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-29 20:38:18 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:38:20 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-29 20:38:21 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-29 20:38:26 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-29 20:38:26 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-29 20:38:26 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-29 20:38:26 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-29 20:38:26 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-29 20:38:26 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-29 20:38:26 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-29 20:38:26 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-29 20:38:26 | Info    |       | ##### STEP db-schema duration: 18.38s | SetupLog |||
2022-12-29 20:38:27 | Info    |       | operation 'async_action', peak memory usage. 16424696 | SetupLog |||
2022-12-29 20:38:27 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-29 20:38:27 | Info    |       | After Database Creation | SetupLog |||
2022-12-29 20:38:29 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:38:34 | Info    |       | ##### STEP after-db-create duration: 6.9s | SetupLog |||
2022-12-29 20:38:35 | Info    |       | operation 'async_action', peak memory usage. 12246840 | SetupLog |||
2022-12-29 20:38:35 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-29 20:38:37 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | starting data load session | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-29 20:39:10 | Info    |       | ending data load session | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 20:39:10 | Info    |       | ##### STEP load-data duration: 35.68s | SetupLog |||
2022-12-29 20:39:11 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-29 20:39:11 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-29 20:39:13 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 14:39:23 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-29 14:39:23 | Info    |       | ##### STEP create-config duration: 11.59s | SetupLog |||
2022-12-29 14:39:24 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-29 14:39:26 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-29 15:47:14 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-29 15:47:16 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-29 15:47:16 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 15:47:16 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-29 15:47:17 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-29 15:47:21 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-29 15:47:23 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-29 15:47:23 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 15:47:23 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-29 15:47:23 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-29 15:48:05 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-29 15:48:05 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 21:48:05 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 21:48:05 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-29 15:48:56 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 15:48:56 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 15:48:57 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-29 15:49:04 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-29 15:49:08 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-29 15:49:08 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-29 15:49:16 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-29 15:49:16 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-29 15:49:25 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-29 15:49:25 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-29 15:49:34 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-29 15:49:51 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-29 15:49:54 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-29 15:49:54 | Info    |       | ##### STEP compile duration: 108.54s | SetupLog |||
2022-12-29 15:49:55 | Info    |       | operation 'async_action', peak memory usage. 26362920 | SetupLog |||
2022-12-29 21:49:56 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-29 21:49:56 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-29 21:49:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 21:50:09 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-29 21:50:09 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-29 21:50:09 | Info    |       | There is a total of 614 records in priv_change. | SetupLog |||
2022-12-29 21:50:09 | Info    |       | There are 2 useless records in priv_change (0.33%) | SetupLog |||
2022-12-29 21:50:09 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-29 21:50:09 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:50:12 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-29 21:50:13 | Info    |       | 0.022s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-29 21:50:17 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-29 21:50:17 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-29 21:50:18 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-29 21:50:18 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-29 21:50:18 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-29 21:50:18 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-29 21:50:18 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-29 21:50:18 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-29 21:50:18 | Info    |       | ##### STEP db-schema duration: 21.94s | SetupLog |||
2022-12-29 21:50:19 | Info    |       | operation 'async_action', peak memory usage. 16474656 | SetupLog |||
2022-12-29 21:50:19 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-29 21:50:19 | Info    |       | After Database Creation | SetupLog |||
2022-12-29 21:50:21 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 21:50:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:26 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-29 21:50:26 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:50:27 | Info    |       | ##### STEP after-db-create duration: 7.58s | SetupLog |||
2022-12-29 21:50:27 | Info    |       | operation 'async_action', peak memory usage. 12288024 | SetupLog |||
2022-12-29 21:50:28 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-29 21:50:29 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-29 21:51:05 | Info    |       | starting data load session | SetupLog |||
2022-12-29 21:51:05 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-29 21:51:06 | Info    |       | ending data load session | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:51:06 | Info    |       | ##### STEP load-data duration: 38.19s | SetupLog |||
2022-12-29 21:51:06 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-29 21:51:06 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-29 21:51:08 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 15:51:16 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-29 15:51:16 | Info    |       | ##### STEP create-config duration: 10.23s | SetupLog |||
2022-12-29 15:51:17 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-29 15:51:20 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-29 15:55:17 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-29 15:55:19 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-29 15:55:19 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 15:55:19 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-29 15:55:20 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-29 15:55:21 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-29 15:55:22 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-29 15:55:22 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 15:55:22 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-29 15:55:22 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-29 21:56:01 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 21:56:01 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-29 21:56:01 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 21:56:01 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-29 15:56:02 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-29 21:56:02 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 21:56:02 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-29 15:56:02 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-29 21:56:02 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 21:56:02 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 21:56:02 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-29 15:56:48 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 15:56:48 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 15:56:48 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-29 15:56:56 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-29 15:57:01 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-29 15:57:01 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-29 15:57:10 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-29 15:57:10 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-29 15:57:19 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-29 15:57:19 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-29 15:57:27 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-29 15:57:44 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-29 15:57:47 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-29 15:57:47 | Info    |       | ##### STEP compile duration: 104.89s | SetupLog |||
2022-12-29 15:57:47 | Info    |       | operation 'async_action', peak memory usage. 26317864 | SetupLog |||
2022-12-29 21:57:49 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-29 21:57:49 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-29 21:57:51 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 21:57:59 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-29 21:57:59 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-29 21:57:59 | Info    |       | There is a total of 615 records in priv_change. | SetupLog |||
2022-12-29 21:57:59 | Info    |       | There are 2 useless records in priv_change (0.33%) | SetupLog |||
2022-12-29 21:57:59 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-29 21:57:59 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:01 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:58:02 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-29 21:58:02 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-29 21:58:07 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-29 21:58:07 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-29 21:58:07 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-29 21:58:07 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-29 21:58:07 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-29 21:58:07 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-29 21:58:07 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-29 21:58:07 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-29 21:58:07 | Info    |       | ##### STEP db-schema duration: 18.9s | SetupLog |||
2022-12-29 21:58:08 | Info    |       | operation 'async_action', peak memory usage. 16541000 | SetupLog |||
2022-12-29 21:58:09 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-29 21:58:09 | Info    |       | After Database Creation | SetupLog |||
2022-12-29 21:58:11 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:58:15 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:58:16 | Info    |       | ##### STEP after-db-create duration: 7s | SetupLog |||
2022-12-29 21:58:16 | Info    |       | operation 'async_action', peak memory usage. 12354368 | SetupLog |||
2022-12-29 21:58:16 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-29 21:58:18 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | starting data load session | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-29 21:58:50 | Info    |       | ending data load session | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 21:58:50 | Info    |       | ##### STEP load-data duration: 33.96s | SetupLog |||
2022-12-29 21:58:51 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-29 21:58:51 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-29 21:58:53 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 15:59:02 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-29 15:59:02 | Info    |       | ##### STEP create-config duration: 10.73s | SetupLog |||
2022-12-29 15:59:03 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-29 15:59:05 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-29 16:01:17 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-29 16:01:36 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-29 16:01:36 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 16:01:36 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-29 16:01:38 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-29 16:01:40 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-29 16:01:41 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-29 16:01:41 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-29 16:01:41 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-29 16:01:41 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-29 22:02:39 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-29 22:02:39 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-29 22:02:39 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-29 22:02:39 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2022-12-29 16:02:39 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-29 22:02:39 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-29 22:02:39 | Info    |       | ##### STEP copy duration: 0.03s | SetupLog |||
2022-12-29 16:02:39 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-29 22:02:40 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-29 22:02:40 | Info    |       | Compiling data model. | SetupLog |||
2022-12-29 22:02:40 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-29 16:03:30 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 16:03:30 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-29 16:03:30 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-29 16:03:36 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-29 16:03:40 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-29 16:03:40 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-29 16:03:49 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-29 16:03:49 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-29 16:03:57 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-29 16:03:57 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-29 16:04:06 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-29 16:04:23 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-29 16:04:25 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-29 16:04:25 | Info    |       | ##### STEP compile duration: 105.77s | SetupLog |||
2022-12-29 16:04:26 | Info    |       | operation 'async_action', peak memory usage. 26362920 | SetupLog |||
2022-12-29 22:04:27 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-29 22:04:27 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-29 22:04:29 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 22:04:38 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-29 22:04:38 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-29 22:04:38 | Info    |       | There is a total of 616 records in priv_change. | SetupLog |||
2022-12-29 22:04:38 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-29 22:04:38 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-29 22:04:38 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 22:04:41 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-29 22:04:42 | Info    |       | 0.017s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-29 22:04:46 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-29 22:04:46 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-29 22:04:46 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-29 22:04:46 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-29 22:04:46 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-29 22:04:46 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-29 22:04:46 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-29 22:04:46 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-29 22:04:46 | Info    |       | ##### STEP db-schema duration: 19.53s | SetupLog |||
2022-12-29 22:04:48 | Info    |       | operation 'async_action', peak memory usage. 16590960 | SetupLog |||
2022-12-29 22:04:48 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-29 22:04:48 | Info    |       | After Database Creation | SetupLog |||
2022-12-29 22:04:50 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 22:04:56 | Info    |       | ##### STEP after-db-create duration: 8.42s | SetupLog |||
2022-12-29 22:04:57 | Info    |       | operation 'async_action', peak memory usage. 12404328 | SetupLog |||
2022-12-29 22:04:58 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-29 22:05:00 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | starting data load session | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-29 22:05:38 | Info    |       | ending data load session | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-29 22:05:38 | Info    |       | ##### STEP load-data duration: 40.74s | SetupLog |||
2022-12-29 22:05:39 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-29 22:05:39 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-29 22:05:41 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-29 16:05:52 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-29 16:05:52 | Info    |       | ##### STEP create-config duration: 13.01s | SetupLog |||
2022-12-29 16:05:53 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-29 16:05:56 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 09:47:56 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 09:47:57 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 09:47:59 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 09:47:59 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 09:47:59 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 09:48:00 | Info    |       | operation 'async_action', peak memory usage. 3069136 | SetupLog |||
2022-12-30 09:48:01 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 09:48:03 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 09:48:03 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 09:48:03 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 09:48:03 | Info    |       | operation 'async_action', peak memory usage. 3067680 | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 09:48:51 | Info    |       | operation 'async_action', peak memory usage. 3078872 | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 09:48:51 | Info    |       | operation 'async_action', peak memory usage. 3078432 | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 15:48:51 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 15:48:51 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 15:49:20 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": `/form[ticket-create]` at line 22 could not be added : already exists in `/itop_design/module_designs/module_design[itop-portal]/forms/form[ticket-create]` at line 1096 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-30 15:49:20 | Ok      |       | Call stack: | SetupLog |||
2022-12-30 15:49:20 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-30 15:49:20 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-30 15:49:20 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-30 15:49:20 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-30 15:49:20 | Info    |       | ##### STEP compile duration: 29.37s | SetupLog |||
2022-12-30 09:49:21 | Info    |       | operation 'async_action', peak memory usage. 15749080 | SetupLog |||
2022-12-30 15:51:42 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 15:51:42 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 15:51:42 | Info    |       | ##### STEP  duration: 0.06s | SetupLog |||
2022-12-30 09:51:43 | Info    |       | operation 'async_action', peak memory usage. 3078384 | SetupLog |||
2022-12-30 15:51:43 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 15:51:43 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 09:51:43 | Info    |       | operation 'async_action', peak memory usage. 3078416 | SetupLog |||
2022-12-30 15:51:43 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 15:51:43 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 09:52:18 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 09:52:18 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 09:52:18 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 09:52:25 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 09:52:28 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 09:52:28 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 09:52:37 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 09:52:37 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 09:52:45 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 09:52:45 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 09:52:54 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 09:53:11 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 09:53:13 | Info    |       | ##### STEP compile duration: 90.52s | SetupLog |||
2022-12-30 09:53:14 | Info    |       | operation 'async_action', peak memory usage. 26266984 | SetupLog |||
2022-12-30 15:53:15 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 15:53:15 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 15:53:17 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 15:53:28 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 15:53:28 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 15:53:28 | Info    |       | There is a total of 617 records in priv_change. | SetupLog |||
2022-12-30 15:53:28 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 15:53:28 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 15:53:28 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 15:53:30 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 15:53:31 | Info    |       | 0.018s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 15:53:35 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 15:53:35 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 15:53:35 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 15:53:36 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 15:53:36 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 15:53:36 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 15:53:36 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 15:53:36 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 15:53:36 | Info    |       | ##### STEP db-schema duration: 20.91s | SetupLog |||
2022-12-30 15:53:37 | Info    |       | operation 'async_action', peak memory usage. 16657304 | SetupLog |||
2022-12-30 15:53:37 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 15:53:37 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 15:53:39 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 15:53:44 | Info    |       | ##### STEP after-db-create duration: 7.05s | SetupLog |||
2022-12-30 15:53:45 | Info    |       | operation 'async_action', peak memory usage. 12470672 | SetupLog |||
2022-12-30 15:53:45 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 15:53:47 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | starting data load session | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 15:54:20 | Info    |       | ending data load session | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 15:54:20 | Info    |       | ##### STEP load-data duration: 35s | SetupLog |||
2022-12-30 15:54:20 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-30 15:54:20 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 15:54:22 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 09:54:31 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 09:54:31 | Info    |       | ##### STEP create-config duration: 10.49s | SetupLog |||
2022-12-30 09:54:32 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-30 09:54:35 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:00:30 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:00:31 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:00:34 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 10:00:34 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:00:34 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 10:00:34 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 10:00:35 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 10:00:37 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 10:00:37 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:00:37 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 10:00:37 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 16:01:48 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:01:48 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 16:01:48 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:01:48 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 10:01:49 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 16:01:49 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:01:49 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:01:49 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 16:01:49 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:01:49 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 16:01:49 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 10:02:34 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:02:34 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:02:34 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 10:02:40 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 10:02:43 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:02:43 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 10:02:52 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:02:52 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 10:03:00 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 10:03:00 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 10:03:08 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 10:03:26 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 10:03:28 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 10:03:29 | Info    |       | ##### STEP compile duration: 99.85s | SetupLog |||
2022-12-30 10:03:29 | Info    |       | operation 'async_action', peak memory usage. 26362920 | SetupLog |||
2022-12-30 16:03:31 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 16:03:31 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 16:03:33 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:03:41 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 16:03:41 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 16:03:41 | Info    |       | There is a total of 618 records in priv_change. | SetupLog |||
2022-12-30 16:03:41 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 16:03:41 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 16:03:41 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:43 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:03:43 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:03:44 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 16:03:44 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 16:03:49 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 16:03:49 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 16:03:49 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 16:03:49 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 16:03:49 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 16:03:49 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:03:49 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:03:49 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 16:03:49 | Info    |       | ##### STEP db-schema duration: 19.24s | SetupLog |||
2022-12-30 16:03:50 | Info    |       | operation 'async_action', peak memory usage. 16707264 | SetupLog |||
2022-12-30 16:03:51 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 16:03:51 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 16:03:53 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:03:58 | Info    |       | ##### STEP after-db-create duration: 7.46s | SetupLog |||
2022-12-30 16:03:59 | Info    |       | operation 'async_action', peak memory usage. 12520632 | SetupLog |||
2022-12-30 16:03:59 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 16:04:01 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 16:04:34 | Info    |       | starting data load session | SetupLog |||
2022-12-30 16:04:34 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 16:04:34 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 16:04:34 | Info    |       | ending data load session | SetupLog |||
2022-12-30 16:04:34 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:04:35 | Info    |       | ##### STEP load-data duration: 35.71s | SetupLog |||
2022-12-30 16:04:35 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-30 16:04:35 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 16:04:37 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:04:46 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 10:04:46 | Info    |       | ##### STEP create-config duration: 10.87s | SetupLog |||
2022-12-30 10:04:47 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-30 10:04:50 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:07:12 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:07:14 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:07:16 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 10:07:16 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:07:16 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 10:07:17 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 10:07:18 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 10:07:19 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 10:07:19 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:07:19 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 10:07:19 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 10:08:15 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:08:15 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:08:15 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 16:08:15 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 10:09:00 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:09:00 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:09:00 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 10:09:06 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 10:09:10 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:09:10 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 10:09:18 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:09:18 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 10:09:28 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 10:09:28 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 10:09:45 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 10:10:08 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 10:10:10 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 10:10:10 | Info    |       | ##### STEP compile duration: 114.71s | SetupLog |||
2022-12-30 10:10:11 | Info    |       | operation 'async_action', peak memory usage. 26362920 | SetupLog |||
2022-12-30 16:10:12 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 16:10:12 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 16:10:14 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:10:23 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 16:10:23 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 16:10:23 | Info    |       | There is a total of 619 records in priv_change. | SetupLog |||
2022-12-30 16:10:23 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 16:10:23 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 16:10:23 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:25 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:25 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:10:26 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 16:10:26 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 16:10:26 | Info    |       | 0.022s - query: ALTER TABLE `ticket` ADD `project_name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT 1  | SetupLog |||
2022-12-30 16:10:31 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 16:10:31 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 16:10:31 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 16:10:31 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 16:10:31 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 16:10:31 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:10:31 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:10:31 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 16:10:31 | Info    |       | ##### STEP db-schema duration: 19.99s | SetupLog |||
2022-12-30 16:10:33 | Info    |       | operation 'async_action', peak memory usage. 16805344 | SetupLog |||
2022-12-30 16:10:33 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 16:10:33 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 16:10:35 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:10:40 | Info    |       | ##### STEP after-db-create duration: 7.18s | SetupLog |||
2022-12-30 16:10:41 | Info    |       | operation 'async_action', peak memory usage. 12618712 | SetupLog |||
2022-12-30 16:10:41 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 16:10:43 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | starting data load session | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 16:11:17 | Info    |       | ending data load session | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:11:17 | Info    |       | ##### STEP load-data duration: 36.51s | SetupLog |||
2022-12-30 16:11:18 | Info    |       | operation 'async_action', peak memory usage. 13250352 | SetupLog |||
2022-12-30 16:11:18 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 16:11:20 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:11:29 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 10:11:29 | Info    |       | ##### STEP create-config duration: 11.29s | SetupLog |||
2022-12-30 10:11:30 | Info    |       | operation 'async_action', peak memory usage. 15349760 | SetupLog |||
2022-12-30 10:11:33 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:16:23 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:16:25 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:16:29 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 10:16:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:16:29 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 10:16:30 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 10:16:31 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 10:16:33 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 10:16:33 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:16:33 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 10:16:33 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 16:18:02 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:18:02 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 16:18:02 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:18:02 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 10:18:02 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 16:18:02 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:18:02 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:18:03 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 16:18:03 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:18:03 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 16:18:03 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 10:18:50 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:18:50 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:18:50 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 10:18:57 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 10:19:00 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:19:00 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 10:19:09 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:19:09 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 10:19:18 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 10:19:18 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 10:19:27 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 10:19:45 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 10:19:48 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 10:19:48 | Info    |       | ##### STEP compile duration: 105.15s | SetupLog |||
2022-12-30 10:19:48 | Info    |       | operation 'async_action', peak memory usage. 26317864 | SetupLog |||
2022-12-30 16:19:50 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 16:19:50 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 16:19:52 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:20:01 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 16:20:01 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 16:20:01 | Info    |       | There is a total of 620 records in priv_change. | SetupLog |||
2022-12-30 16:20:01 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 16:20:01 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 16:20:01 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 16:20:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:03 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:03 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 16:20:03 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:20:04 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 16:20:05 | Info    |       | 0.016s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 16:20:05 | Info    |       | 0.012s - query: ALTER TABLE `ticket` CHANGE `project_name` `project_name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT ''  | SetupLog |||
2022-12-30 16:20:10 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 16:20:10 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 16:20:10 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 16:20:10 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 16:20:10 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 16:20:10 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:20:10 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:20:10 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 16:20:10 | Info    |       | ##### STEP db-schema duration: 20.4s | SetupLog |||
2022-12-30 16:20:11 | Info    |       | operation 'async_action', peak memory usage. 16856256 | SetupLog |||
2022-12-30 16:20:12 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 16:20:12 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 16:20:14 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:20:19 | Info    |       | ##### STEP after-db-create duration: 7.61s | SetupLog |||
2022-12-30 16:20:19 | Info    |       | operation 'async_action', peak memory usage. 12668672 | SetupLog |||
2022-12-30 16:20:20 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 16:20:22 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | starting data load session | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 16:20:57 | Info    |       | ending data load session | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:20:57 | Info    |       | ##### STEP load-data duration: 37.59s | SetupLog |||
2022-12-30 16:20:58 | Info    |       | operation 'async_action', peak memory usage. 13250352 | SetupLog |||
2022-12-30 16:20:58 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 16:21:00 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:21:10 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 10:21:10 | Info    |       | ##### STEP create-config duration: 11.7s | SetupLog |||
2022-12-30 10:21:11 | Info    |       | operation 'async_action', peak memory usage. 15349760 | SetupLog |||
2022-12-30 10:21:14 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:29:21 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:29:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:29:29 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 10:29:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:29:29 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 10:29:29 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 10:29:41 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 10:29:43 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 10:29:43 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:29:43 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 10:29:43 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ##### STEP  duration: 0.13s | SetupLog |||
2022-12-30 10:30:36 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:30:36 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:30:36 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 16:30:36 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 10:31:50 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:31:50 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:31:50 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 10:31:59 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 10:32:03 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:32:03 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 10:32:13 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:32:13 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 10:32:24 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 10:32:24 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 10:32:34 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 10:32:52 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 10:32:54 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 10:32:54 | Info    |       | ##### STEP compile duration: 138.17s | SetupLog |||
2022-12-30 10:32:55 | Info    |       | operation 'async_action', peak memory usage. 26317864 | SetupLog |||
2022-12-30 16:32:56 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 16:32:56 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 16:32:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:33:07 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 16:33:07 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 16:33:07 | Info    |       | There is a total of 621 records in priv_change. | SetupLog |||
2022-12-30 16:33:07 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 16:33:07 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 16:33:07 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:33:09 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 16:33:10 | Info    |       | 0.016s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 16:33:10 | Info    |       | 0.018s - query: ALTER TABLE `ticket` ADD `client_contact_name` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT ''  | SetupLog |||
2022-12-30 16:33:16 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 16:33:16 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 16:33:16 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 16:33:16 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 16:33:16 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 16:33:17 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:33:17 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:33:17 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 16:33:17 | Info    |       | ##### STEP db-schema duration: 20.75s | SetupLog |||
2022-12-30 16:33:18 | Info    |       | operation 'async_action', peak memory usage. 16922600 | SetupLog |||
2022-12-30 16:33:19 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 16:33:19 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 16:33:21 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:33:27 | Info    |       | ##### STEP after-db-create duration: 8.53s | SetupLog |||
2022-12-30 16:33:27 | Info    |       | operation 'async_action', peak memory usage. 12735016 | SetupLog |||
2022-12-30 16:33:28 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 16:33:30 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | starting data load session | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 16:34:05 | Info    |       | ending data load session | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:34:05 | Info    |       | ##### STEP load-data duration: 37.58s | SetupLog |||
2022-12-30 16:34:06 | Info    |       | operation 'async_action', peak memory usage. 13250352 | SetupLog |||
2022-12-30 16:34:06 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 16:34:08 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:34:16 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 10:34:16 | Info    |       | ##### STEP create-config duration: 10.4s | SetupLog |||
2022-12-30 10:34:17 | Info    |       | operation 'async_action', peak memory usage. 15349760 | SetupLog |||
2022-12-30 10:34:20 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:38:15 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:38:16 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:38:16 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:38:16 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:38:16 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:38:16 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:38:17 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:38:20 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 10:38:20 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:38:20 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 10:38:21 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 10:38:22 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 10:38:24 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 10:38:24 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:38:24 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 10:38:24 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 16:39:34 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:39:34 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 16:39:34 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:39:34 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 10:39:34 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 16:39:34 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:39:34 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:39:34 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 16:39:35 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:39:35 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 16:39:35 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 10:40:24 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:40:24 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:40:24 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 10:40:31 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 10:40:35 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:40:35 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 10:40:45 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:40:45 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 10:40:55 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 10:40:55 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 10:41:05 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 10:41:25 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 10:41:30 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 10:41:31 | Info    |       | ##### STEP compile duration: 116.02s | SetupLog |||
2022-12-30 10:41:32 | Info    |       | operation 'async_action', peak memory usage. 26362920 | SetupLog |||
2022-12-30 16:41:35 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 16:41:35 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 16:41:37 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:41:46 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 16:41:46 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 16:41:46 | Info    |       | There is a total of 622 records in priv_change. | SetupLog |||
2022-12-30 16:41:46 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 16:41:46 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 16:41:46 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:48 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:41:48 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:41:49 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 16:41:49 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 16:41:54 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 16:41:54 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 16:41:54 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 16:41:54 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 16:41:54 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 16:41:54 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:41:54 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 16:41:54 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 16:41:54 | Info    |       | ##### STEP db-schema duration: 20.45s | SetupLog |||
2022-12-30 16:41:56 | Info    |       | operation 'async_action', peak memory usage. 16949976 | SetupLog |||
2022-12-30 16:41:56 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 16:41:56 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 16:41:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:42:03 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:42:04 | Info    |       | ##### STEP after-db-create duration: 7.92s | SetupLog |||
2022-12-30 16:42:04 | Info    |       | operation 'async_action', peak memory usage. 12761432 | SetupLog |||
2022-12-30 16:42:04 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 16:42:07 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | starting data load session | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 16:42:46 | Info    |       | ending data load session | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 16:42:46 | Info    |       | ##### STEP load-data duration: 41.53s | SetupLog |||
2022-12-30 16:42:46 | Info    |       | operation 'async_action', peak memory usage. 13222712 | SetupLog |||
2022-12-30 16:42:47 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 16:42:49 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:42:58 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 10:42:58 | Info    |       | ##### STEP create-config duration: 11.28s | SetupLog |||
2022-12-30 10:42:59 | Info    |       | operation 'async_action', peak memory usage. 15322120 | SetupLog |||
2022-12-30 10:43:02 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:47:10 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 10:47:13 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 10:47:16 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 10:47:16 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:47:16 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 10:47:17 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 10:47:18 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 10:47:22 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 10:47:22 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 10:47:22 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 10:47:22 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2022-12-30 10:49:30 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:49:30 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:49:30 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 16:49:30 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 16:49:56 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": /itop_design/classes/class[cmdbAbstractObject]/class[Ticket]/field[project_name] at line 5: could not be modified (not found) - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-30 16:49:56 | Ok      |       | Call stack: | SetupLog |||
2022-12-30 16:49:56 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-30 16:49:56 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-30 16:49:56 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-30 16:49:56 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-30 16:49:56 | Info    |       | ##### STEP compile duration: 25.95s | SetupLog |||
2022-12-30 10:49:56 | Info    |       | operation 'async_action', peak memory usage. 15748448 | SetupLog |||
2022-12-30 16:58:49 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 16:58:49 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 16:58:49 | Info    |       | ##### STEP  duration: 0.06s | SetupLog |||
2022-12-30 10:58:49 | Info    |       | operation 'async_action', peak memory usage. 3077808 | SetupLog |||
2022-12-30 16:58:49 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 16:58:49 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 10:58:49 | Info    |       | operation 'async_action', peak memory usage. 3077840 | SetupLog |||
2022-12-30 16:58:49 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 16:58:49 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 10:59:29 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:59:29 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 10:59:29 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 10:59:37 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 10:59:42 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:59:42 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 10:59:52 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 10:59:52 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 11:00:03 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 11:00:03 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 11:00:13 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 11:00:31 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 11:00:34 | Info    |       | ##### STEP compile duration: 105.25s | SetupLog |||
2022-12-30 11:00:35 | Info    |       | operation 'async_action', peak memory usage. 26266208 | SetupLog |||
2022-12-30 17:00:36 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 17:00:36 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 17:00:39 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:00:52 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 17:00:52 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 17:00:52 | Info    |       | There is a total of 623 records in priv_change. | SetupLog |||
2022-12-30 17:00:52 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 17:00:52 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 17:00:52 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:00:55 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 17:00:56 | Info    |       | 0.019s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 17:01:02 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 17:01:02 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 17:01:02 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 17:01:02 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 17:01:02 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 17:01:02 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:01:02 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:01:02 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 17:01:02 | Info    |       | ##### STEP db-schema duration: 26.67s | SetupLog |||
2022-12-30 17:01:04 | Info    |       | operation 'async_action', peak memory usage. 17043960 | SetupLog |||
2022-12-30 17:01:05 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 17:01:05 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 17:01:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:01:13 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:01:14 | Info    |       | ##### STEP after-db-create duration: 9.12s | SetupLog |||
2022-12-30 17:01:14 | Info    |       | operation 'async_action', peak memory usage. 12855416 | SetupLog |||
2022-12-30 17:01:15 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 17:01:17 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | starting data load session | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 17:01:49 | Info    |       | ending data load session | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:01:49 | Info    |       | ##### STEP load-data duration: 34.78s | SetupLog |||
2022-12-30 17:01:50 | Info    |       | operation 'async_action', peak memory usage. 13250352 | SetupLog |||
2022-12-30 17:01:50 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 17:01:52 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:01:59 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 11:01:59 | Info    |       | ##### STEP create-config duration: 9.47s | SetupLog |||
2022-12-30 11:02:00 | Info    |       | operation 'async_action', peak memory usage. 15349760 | SetupLog |||
2022-12-30 11:02:04 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:19:03 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:19:09 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 11:19:09 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:19:09 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 11:19:10 | Info    |       | operation 'async_action', peak memory usage. 3068192 | SetupLog |||
2022-12-30 11:19:10 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 11:19:11 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 11:19:11 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:19:11 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 11:19:12 | Info    |       | operation 'async_action', peak memory usage. 3067680 | SetupLog |||
2022-12-30 17:20:10 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 17:20:10 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 17:20:10 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 17:20:10 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2022-12-30 11:20:10 | Info    |       | operation 'async_action', peak memory usage. 3078872 | SetupLog |||
2022-12-30 17:20:10 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 17:20:10 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 11:20:10 | Info    |       | operation 'async_action', peak memory usage. 3078432 | SetupLog |||
2022-12-30 17:20:11 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 17:20:11 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 17:20:11 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 11:21:03 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:21:03 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:21:03 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 11:21:10 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 11:21:14 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:21:14 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 11:21:24 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:21:24 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 11:21:35 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 11:21:35 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 11:21:45 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 11:22:03 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 11:22:03 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 11:22:03 | Info    |       | ##### STEP compile duration: 112.42s | SetupLog |||
2022-12-30 11:22:04 | Info    |       | operation 'async_action', peak memory usage. 26318472 | SetupLog |||
2022-12-30 17:22:05 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 17:22:05 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 17:22:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:22:16 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 17:22:16 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 17:22:16 | Info    |       | There is a total of 624 records in priv_change. | SetupLog |||
2022-12-30 17:22:16 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 17:22:16 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 17:22:16 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 17:22:18 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:18 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:18 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 17:22:18 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:22:19 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 17:22:19 | Info    |       | 0.018s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 17:22:24 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 17:22:24 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 17:22:24 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 17:22:24 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 17:22:24 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 17:22:24 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:22:24 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:22:24 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 17:22:24 | Info    |       | ##### STEP db-schema duration: 19.54s | SetupLog |||
2022-12-30 17:22:25 | Info    |       | operation 'async_action', peak memory usage. 17130880 | SetupLog |||
2022-12-30 17:22:26 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 17:22:26 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 17:22:28 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:33 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:22:34 | Info    |       | ##### STEP after-db-create duration: 8.13s | SetupLog |||
2022-12-30 17:22:34 | Info    |       | operation 'async_action', peak memory usage. 12942336 | SetupLog |||
2022-12-30 17:22:34 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 17:22:36 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | starting data load session | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 17:23:21 | Info    |       | ending data load session | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:23:21 | Info    |       | ##### STEP load-data duration: 46.73s | SetupLog |||
2022-12-30 17:23:22 | Info    |       | operation 'async_action', peak memory usage. 13250400 | SetupLog |||
2022-12-30 17:23:22 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 17:23:24 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:23:34 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 11:23:34 | Info    |       | ##### STEP create-config duration: 11.68s | SetupLog |||
2022-12-30 11:23:35 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 11:23:38 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:29:01 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:29:02 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:29:03 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:29:03 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:29:05 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 11:29:05 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:29:05 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 11:29:05 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 11:29:07 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 11:29:08 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 11:29:08 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:29:08 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 11:29:08 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 11:29:54 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 11:29:54 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 17:29:54 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 17:29:54 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 11:30:39 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:30:39 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:30:39 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 11:30:48 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 11:30:53 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:30:53 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 11:31:02 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:31:02 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 11:31:10 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 11:31:10 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 11:31:19 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 11:31:38 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 11:31:42 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 11:31:42 | Info    |       | ##### STEP compile duration: 107.58s | SetupLog |||
2022-12-30 11:31:43 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 17:31:46 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 17:31:46 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 17:31:51 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:32:06 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 17:32:06 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 17:32:06 | Info    |       | There is a total of 625 records in priv_change. | SetupLog |||
2022-12-30 17:32:06 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 17:32:06 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 17:32:06 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 17:32:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:08 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:08 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 17:32:08 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:32:09 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 17:32:10 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 17:32:15 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 17:32:15 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 17:32:15 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 17:32:15 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 17:32:15 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 17:32:15 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:32:15 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:32:15 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 17:32:15 | Info    |       | ##### STEP db-schema duration: 29.67s | SetupLog |||
2022-12-30 17:32:16 | Info    |       | operation 'async_action', peak memory usage. 17180904 | SetupLog |||
2022-12-30 17:32:17 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 17:32:17 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 17:32:19 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:25 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:32:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:32:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:32:26 | Info    |       | ##### STEP after-db-create duration: 8.58s | SetupLog |||
2022-12-30 17:32:27 | Info    |       | operation 'async_action', peak memory usage. 12992360 | SetupLog |||
2022-12-30 17:32:27 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 17:32:29 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 17:33:05 | Info    |       | starting data load session | SetupLog |||
2022-12-30 17:33:05 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 17:33:06 | Info    |       | ending data load session | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:33:06 | Info    |       | ##### STEP load-data duration: 38.72s | SetupLog |||
2022-12-30 17:33:06 | Info    |       | operation 'async_action', peak memory usage. 13250400 | SetupLog |||
2022-12-30 17:33:06 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 17:33:08 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:33:17 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 11:33:17 | Info    |       | ##### STEP create-config duration: 11.18s | SetupLog |||
2022-12-30 11:33:19 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 11:33:21 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:36:11 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:36:11 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:36:12 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:36:13 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:36:15 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 11:36:15 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:36:15 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 11:36:16 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 11:36:17 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 11:36:18 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 11:36:18 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:36:18 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 11:36:18 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 17:37:46 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 17:37:46 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 17:37:46 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 17:37:46 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 11:37:47 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 17:37:47 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 17:37:47 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 11:37:47 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 17:37:47 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 17:37:47 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 17:37:47 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 11:38:35 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:38:35 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:38:35 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 11:38:42 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 11:38:46 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:38:46 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 11:38:55 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:38:55 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 11:39:06 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 11:39:06 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 11:39:13 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 11:39:29 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 11:39:32 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 11:39:32 | Info    |       | ##### STEP compile duration: 104.66s | SetupLog |||
2022-12-30 11:39:32 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 17:39:34 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 17:39:34 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 17:39:35 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:39:45 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 17:39:45 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 17:39:45 | Info    |       | There is a total of 626 records in priv_change. | SetupLog |||
2022-12-30 17:39:45 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 17:39:45 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 17:39:45 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:47 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:39:47 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:39:48 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 17:39:48 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 17:39:48 | Info    |       | 0.028s - query: ALTER TABLE `ticket` ADD `presale_close` ENUM('1','2','3','4') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '1'  | SetupLog |||
2022-12-30 17:39:53 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 17:39:53 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 17:39:53 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 17:39:53 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 17:39:53 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 17:39:53 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:39:53 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:39:54 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 17:39:54 | Info    |       | ##### STEP db-schema duration: 20.32s | SetupLog |||
2022-12-30 17:39:55 | Info    |       | operation 'async_action', peak memory usage. 17247784 | SetupLog |||
2022-12-30 17:39:55 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 17:39:55 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 17:39:57 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:40:02 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:02 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:02 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 17:40:02 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:40:03 | Info    |       | ##### STEP after-db-create duration: 8.02s | SetupLog |||
2022-12-30 17:40:04 | Info    |       | operation 'async_action', peak memory usage. 13059240 | SetupLog |||
2022-12-30 17:40:04 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 17:40:06 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | starting data load session | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 17:40:42 | Info    |       | ending data load session | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:40:42 | Info    |       | ##### STEP load-data duration: 37.79s | SetupLog |||
2022-12-30 17:40:42 | Info    |       | operation 'async_action', peak memory usage. 13250872 | SetupLog |||
2022-12-30 17:40:43 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 17:40:44 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:40:53 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 11:40:54 | Info    |       | ##### STEP create-config duration: 10.97s | SetupLog |||
2022-12-30 11:40:55 | Info    |       | operation 'async_action', peak memory usage. 15350328 | SetupLog |||
2022-12-30 11:40:57 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:46:39 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:46:40 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:46:43 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 11:46:43 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:46:43 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 11:46:44 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 11:48:06 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 11:48:15 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 11:48:15 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:48:15 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 11:48:16 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 17:49:27 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 17:49:27 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 17:49:27 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 17:49:27 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 11:49:27 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 17:49:28 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 17:49:28 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 11:49:28 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 17:49:28 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 17:49:28 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 17:49:28 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 11:50:10 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:50:10 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:50:10 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 11:50:16 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 11:50:20 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:50:20 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 11:50:29 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:50:29 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 11:50:37 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 11:50:37 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 11:50:45 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 11:51:02 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 11:51:04 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 11:51:04 | Info    |       | ##### STEP compile duration: 96.71s | SetupLog |||
2022-12-30 11:51:05 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 17:51:06 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 17:51:06 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 17:51:08 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:51:17 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 17:51:17 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 17:51:17 | Info    |       | There is a total of 627 records in priv_change. | SetupLog |||
2022-12-30 17:51:17 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 17:51:17 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 17:51:17 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:51:19 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 17:51:20 | Info    |       | 0.008s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 17:51:25 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 17:51:25 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 17:51:25 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 17:51:25 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 17:51:25 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 17:51:25 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:51:25 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:51:25 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 17:51:25 | Info    |       | ##### STEP db-schema duration: 19.17s | SetupLog |||
2022-12-30 17:51:26 | Info    |       | operation 'async_action', peak memory usage. 17298264 | SetupLog |||
2022-12-30 17:51:27 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 17:51:27 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 17:51:29 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:51:35 | Info    |       | ##### STEP after-db-create duration: 8.74s | SetupLog |||
2022-12-30 17:51:36 | Info    |       | operation 'async_action', peak memory usage. 13108792 | SetupLog |||
2022-12-30 17:51:36 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 17:51:38 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | starting data load session | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 17:52:14 | Info    |       | ending data load session | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:52:14 | Info    |       | ##### STEP load-data duration: 38.17s | SetupLog |||
2022-12-30 17:52:15 | Info    |       | operation 'async_action', peak memory usage. 13250400 | SetupLog |||
2022-12-30 17:52:15 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 17:52:17 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:52:26 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 11:52:26 | Info    |       | ##### STEP create-config duration: 11.02s | SetupLog |||
2022-12-30 11:52:27 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 11:52:30 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:55:28 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 11:55:29 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 11:55:34 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 11:55:34 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:55:34 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 11:55:35 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 11:55:40 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 11:55:41 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 11:55:41 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 11:55:41 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 11:55:41 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 17:56:54 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 17:56:54 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 17:56:54 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 17:56:54 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2022-12-30 11:56:55 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 17:56:55 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 17:56:55 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 11:56:55 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 17:56:55 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 17:56:55 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 17:56:55 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 11:57:40 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:57:40 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 11:57:40 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 11:57:47 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 11:57:50 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:57:50 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 11:57:59 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 11:57:59 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 11:58:08 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 11:58:08 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 11:58:17 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 11:58:35 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 11:58:37 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 11:58:37 | Info    |       | ##### STEP compile duration: 102.18s | SetupLog |||
2022-12-30 11:58:38 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 17:58:39 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 17:58:39 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 17:58:41 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:58:50 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 17:58:50 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 17:58:50 | Info    |       | There is a total of 628 records in priv_change. | SetupLog |||
2022-12-30 17:58:50 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 17:58:50 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 17:58:50 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:58:52 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 17:58:53 | Info    |       | 0.015s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 17:58:57 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 17:58:57 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 17:58:57 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 17:58:58 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 17:58:58 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 17:58:58 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:58:58 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 17:58:58 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 17:58:58 | Info    |       | ##### STEP db-schema duration: 19.11s | SetupLog |||
2022-12-30 17:58:59 | Info    |       | operation 'async_action', peak memory usage. 17364672 | SetupLog |||
2022-12-30 17:58:59 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 17:58:59 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 17:59:01 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:59:06 | Info    |       | ##### STEP after-db-create duration: 7.1s | SetupLog |||
2022-12-30 17:59:07 | Info    |       | operation 'async_action', peak memory usage. 13175200 | SetupLog |||
2022-12-30 17:59:07 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 17:59:09 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | starting data load session | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 17:59:42 | Info    |       | ending data load session | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 17:59:42 | Info    |       | ##### STEP load-data duration: 35.16s | SetupLog |||
2022-12-30 17:59:42 | Info    |       | operation 'async_action', peak memory usage. 13250400 | SetupLog |||
2022-12-30 17:59:43 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 17:59:45 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 11:59:53 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 11:59:53 | Info    |       | ##### STEP create-config duration: 10.5s | SetupLog |||
2022-12-30 11:59:54 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 11:59:56 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:12:20 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:12:21 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:12:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:12:23 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 12:12:23 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:12:23 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 12:12:24 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 12:12:25 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 12:12:27 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 12:12:27 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:12:27 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 12:12:27 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 18:14:15 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 18:14:15 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 18:14:15 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 18:14:15 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 12:14:16 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 18:14:16 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 18:14:16 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 12:14:16 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 18:14:16 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 18:14:16 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 18:14:16 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 18:14:34 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": /itop_design/module_designs/module_design[itop-portal]/presentation/forms/form[ticket-create] at line 18: could not be modified (not found) - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-30 18:14:34 | Ok      |       | Call stack: | SetupLog |||
2022-12-30 18:14:34 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-30 18:14:34 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-30 18:14:34 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-30 18:14:34 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-30 18:14:34 | Info    |       | ##### STEP compile duration: 18.44s | SetupLog |||
2022-12-30 12:14:35 | Info    |       | operation 'async_action', peak memory usage. 15748448 | SetupLog |||
2022-12-30 12:27:29 | Info    |       | Compiling theme fullmoon... | SetupLog |||
2022-12-30 12:27:33 | Info    |       | fullmoon theme compilation done. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:27:46 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:27:48 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:27:49 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 12:27:49 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:27:49 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 12:27:50 | Info    |       | operation 'async_action', peak memory usage. 3067600 | SetupLog |||
2022-12-30 12:27:51 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 12:27:52 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 12:27:52 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:27:52 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 12:27:52 | Info    |       | operation 'async_action', peak memory usage. 3067088 | SetupLog |||
2022-12-30 18:28:47 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 18:28:48 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 18:28:48 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2022-12-30 12:28:48 | Info    |       | operation 'async_action', peak memory usage. 3077808 | SetupLog |||
2022-12-30 18:28:48 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 18:28:48 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 12:28:48 | Info    |       | operation 'async_action', peak memory usage. 3077840 | SetupLog |||
2022-12-30 18:28:48 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 18:28:48 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 18:28:56 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: div line 40 and methods
Opening and ending tag mismatch: twig line 40 and div
Opening and ending tag mismatch: form line 40 and twig
Opening and ending tag mismatch: forms line 40 and form
Opening and ending tag mismatch: module_design line 40 and forms
Opening and ending tag mismatch: module_designs line 40 and module_design
Opening and ending tag mismatch: itop_design line 40 and module_designs
Extra content at the end of the document
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-30 18:28:56 | Ok      |       | Call stack: | SetupLog |||
2022-12-30 18:28:56 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-30 18:28:56 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-30 18:28:56 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-30 18:28:56 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-30 18:28:56 | Info    |       | ##### STEP compile duration: 7.62s | SetupLog |||
2022-12-30 12:28:56 | Info    |       | operation 'async_action', peak memory usage. 15651792 | SetupLog |||
2022-12-30 12:29:32 | Info    |       | Compiling theme fullmoon... | SetupLog |||
2022-12-30 12:29:36 | Info    |       | fullmoon theme compilation done. | SetupLog |||
2022-12-30 18:30:42 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 18:30:42 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 18:30:42 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2022-12-30 12:30:42 | Info    |       | operation 'async_action', peak memory usage. 3077808 | SetupLog |||
2022-12-30 18:30:42 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 18:30:43 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 12:30:43 | Info    |       | operation 'async_action', peak memory usage. 3077840 | SetupLog |||
2022-12-30 18:30:43 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 18:30:43 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 18:30:55 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: twig line 27 and methods
Opening and ending tag mismatch: div line 27 and presentation
Opening and ending tag mismatch: presentation line 27 and div
Opening and ending tag mismatch: form line 27 and twig
Opening and ending tag mismatch: forms line 27 and form
Opening and ending tag mismatch: module_design line 27 and forms
Opening and ending tag mismatch: module_designs line 27 and module_design
Opening and ending tag mismatch: itop_design line 27 and module_designs
Extra content at the end of the document
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2022-12-30 18:30:56 | Ok      |       | Call stack: | SetupLog |||
2022-12-30 18:30:56 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2022-12-30 18:30:56 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2022-12-30 18:30:56 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2022-12-30 18:30:56 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2022-12-30 18:30:56 | Info    |       | ##### STEP compile duration: 12.95s | SetupLog |||
2022-12-30 12:30:56 | Info    |       | operation 'async_action', peak memory usage. 15651736 | SetupLog |||
2022-12-30 12:31:03 | Info    |       | Compiling theme fullmoon... | SetupLog |||
2022-12-30 12:31:06 | Info    |       | fullmoon theme compilation done. | SetupLog |||
2022-12-30 18:32:38 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 18:32:38 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 18:32:38 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 12:32:39 | Info    |       | operation 'async_action', peak memory usage. 3077808 | SetupLog |||
2022-12-30 18:32:39 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 18:32:39 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 12:32:39 | Info    |       | operation 'async_action', peak memory usage. 3077840 | SetupLog |||
2022-12-30 18:32:39 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 18:32:39 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 12:32:57 | Info    |       | Compiling theme fullmoon... | SetupLog |||
2022-12-30 12:33:01 | Info    |       | fullmoon theme compilation done. | SetupLog |||
2022-12-30 12:33:19 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 12:33:19 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 12:33:19 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 12:33:26 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 12:33:29 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 12:33:29 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 12:33:42 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 12:33:42 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 12:33:54 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 12:33:54 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 12:34:04 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 12:34:24 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 12:34:28 | Info    |       | ##### STEP compile duration: 108.79s | SetupLog |||
2022-12-30 12:34:29 | Info    |       | operation 'async_action', peak memory usage. 26266256 | SetupLog |||
2022-12-30 18:34:31 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 18:34:31 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 18:34:33 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 18:34:43 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 18:34:44 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 18:34:44 | Info    |       | There is a total of 630 records in priv_change. | SetupLog |||
2022-12-30 18:34:44 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 18:34:44 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 18:34:44 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:34:46 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 18:34:47 | Info    |       | 0.012s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 18:34:53 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 18:34:53 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 18:34:53 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 18:34:53 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 18:34:53 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 18:34:54 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 18:34:54 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 18:34:54 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 18:34:54 | Info    |       | ##### STEP db-schema duration: 23.54s | SetupLog |||
2022-12-30 18:34:54 | Info    |       | operation 'async_action', peak memory usage. 17414696 | SetupLog |||
2022-12-30 18:34:54 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 18:34:54 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 18:34:57 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:35:06 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:35:07 | Info    |       | ##### STEP after-db-create duration: 12.54s | SetupLog |||
2022-12-30 18:35:07 | Info    |       | operation 'async_action', peak memory usage. 13225224 | SetupLog |||
2022-12-30 18:35:07 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 18:35:09 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | starting data load session | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 18:36:32 | Info    |       | ending data load session | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:36:32 | Info    |       | ##### STEP load-data duration: 85.56s | SetupLog |||
2022-12-30 18:36:33 | Info    |       | operation 'async_action', peak memory usage. 13275688 | SetupLog |||
2022-12-30 18:36:34 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 18:36:39 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 12:36:53 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 12:36:53 | Info    |       | ##### STEP create-config duration: 18.53s | SetupLog |||
2022-12-30 12:36:53 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 12:36:56 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:50:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:50:25 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:50:26 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 12:50:26 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:50:26 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 12:50:27 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 12:50:28 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 12:50:29 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 12:50:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:50:29 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 12:50:29 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 18:51:20 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 18:51:20 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 18:51:20 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 18:51:20 | Info    |       | ##### STEP  duration: 0.26s | SetupLog |||
2022-12-30 12:51:21 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 18:51:21 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 18:51:21 | Info    |       | ##### STEP copy duration: 0.02s | SetupLog |||
2022-12-30 12:51:21 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 18:51:21 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 18:51:21 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 18:51:21 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 12:52:18 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 12:52:18 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 12:52:18 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 12:52:26 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 12:52:31 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 12:52:31 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 12:52:40 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 12:52:40 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 12:52:49 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 12:52:49 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 12:52:58 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 12:53:17 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 12:53:20 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 12:53:20 | Info    |       | ##### STEP compile duration: 119.18s | SetupLog |||
2022-12-30 12:53:21 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 18:53:22 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 18:53:22 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 18:53:24 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 18:53:38 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 18:53:38 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 18:53:38 | Info    |       | There is a total of 631 records in priv_change. | SetupLog |||
2022-12-30 18:53:38 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 18:53:38 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 18:53:38 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:53:43 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 18:53:44 | Info    |       | 0.015s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 18:53:51 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 18:53:51 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 18:53:51 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 18:53:51 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 18:53:51 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 18:53:51 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 18:53:51 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 18:53:51 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 18:53:51 | Info    |       | ##### STEP db-schema duration: 28.97s | SetupLog |||
2022-12-30 18:53:53 | Info    |       | operation 'async_action', peak memory usage. 17457560 | SetupLog |||
2022-12-30 18:53:53 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 18:53:53 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 18:53:56 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:54:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:54:02 | Info    |       | ##### STEP after-db-create duration: 8.89s | SetupLog |||
2022-12-30 18:54:03 | Info    |       | operation 'async_action', peak memory usage. 13268088 | SetupLog |||
2022-12-30 18:54:03 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 18:54:06 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 18:54:44 | Info    |       | starting data load session | SetupLog |||
2022-12-30 18:54:44 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 18:54:44 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 18:54:44 | Info    |       | ending data load session | SetupLog |||
2022-12-30 18:54:44 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:44 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:44 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:44 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 18:54:45 | Info    |       | ##### STEP load-data duration: 41.62s | SetupLog |||
2022-12-30 18:54:45 | Info    |       | operation 'async_action', peak memory usage. 13318552 | SetupLog |||
2022-12-30 18:54:45 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 18:54:47 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 12:54:55 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 12:54:55 | Info    |       | ##### STEP create-config duration: 9.79s | SetupLog |||
2022-12-30 12:54:56 | Info    |       | operation 'async_action', peak memory usage. 15322216 | SetupLog |||
2022-12-30 12:54:58 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:58:20 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:58:21 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 12:58:21 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 12:58:21 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 12:58:21 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 12:58:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 12:58:24 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 12:58:24 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:58:24 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 12:58:24 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 12:58:26 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 12:58:27 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 12:58:27 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 12:58:27 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 12:58:27 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 18:59:09 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 18:59:09 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 18:59:09 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 18:59:09 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2022-12-30 12:59:09 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 18:59:09 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 18:59:09 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 12:59:09 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 18:59:10 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 18:59:10 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 18:59:10 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 12:59:51 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 12:59:51 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 12:59:51 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 12:59:57 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 13:00:00 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:00:00 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 13:00:08 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:00:08 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 13:00:16 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 13:00:16 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:00:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:00:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:00:23 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:00:23 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:00:23 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:00:23 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:00:23 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:00:24 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 13:00:26 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 13:00:26 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:00:26 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 13:00:27 | Info    |       | operation 'async_action', peak memory usage. 3067600 | SetupLog |||
2022-12-30 13:00:27 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 13:00:28 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 13:00:28 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:00:28 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 13:00:28 | Info    |       | operation 'async_action', peak memory usage. 3067088 | SetupLog |||
2022-12-30 13:00:46 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 13:00:50 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 13:00:50 | Info    |       | ##### STEP compile duration: 100.77s | SetupLog |||
2022-12-30 13:00:51 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:02:29 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:02:32 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:02:41 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 13:02:41 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:02:41 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 13:02:41 | Info    |       | operation 'async_action', peak memory usage. 3068896 | SetupLog |||
2022-12-30 13:02:42 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 13:02:43 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 13:02:43 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:02:43 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 13:02:43 | Info    |       | operation 'async_action', peak memory usage. 3067600 | SetupLog |||
2022-12-30 19:03:50 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 19:03:50 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 19:03:50 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2022-12-30 13:03:50 | Info    |       | operation 'async_action', peak memory usage. 3078320 | SetupLog |||
2022-12-30 19:03:50 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 19:03:50 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 13:03:50 | Info    |       | operation 'async_action', peak memory usage. 3078352 | SetupLog |||
2022-12-30 19:03:50 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 19:03:50 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 19:03:51 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 13:04:36 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:04:36 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:04:36 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 13:04:43 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 13:04:46 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:04:46 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 13:04:56 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:04:56 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 13:05:05 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 13:05:05 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 13:05:13 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 13:05:30 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 13:05:30 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 13:05:30 | Info    |       | ##### STEP compile duration: 99.49s | SetupLog |||
2022-12-30 13:05:31 | Info    |       | operation 'async_action', peak memory usage. 26318688 | SetupLog |||
2022-12-30 19:05:32 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 19:05:32 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 19:05:34 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:05:43 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 19:05:43 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 19:05:43 | Info    |       | There is a total of 632 records in priv_change. | SetupLog |||
2022-12-30 19:05:43 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 19:05:43 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 19:05:43 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:05:45 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 19:05:46 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 19:05:52 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 19:05:52 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 19:05:52 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 19:05:52 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 19:05:52 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 19:05:52 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:05:52 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:05:52 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 19:05:52 | Info    |       | ##### STEP db-schema duration: 20.44s | SetupLog |||
2022-12-30 19:05:53 | Info    |       | operation 'async_action', peak memory usage. 17507584 | SetupLog |||
2022-12-30 19:05:54 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 19:05:54 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 19:05:56 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:06:03 | Info    |       | ##### STEP after-db-create duration: 9.42s | SetupLog |||
2022-12-30 19:06:04 | Info    |       | operation 'async_action', peak memory usage. 13317872 | SetupLog |||
2022-12-30 19:06:04 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 19:06:06 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 19:06:08 | Info    |       | ##### STEP load-data duration: 4.14s | SetupLog |||
2022-12-30 19:06:08 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected end of file, expecting ')', no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-FRFR.php, line=204 | SetupLog |||
2022-12-30 19:08:00 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 19:08:00 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 19:08:00 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 13:08:01 | Info    |       | operation 'async_action', peak memory usage. 3078320 | SetupLog |||
2022-12-30 19:08:01 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 19:08:01 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 13:08:01 | Info    |       | operation 'async_action', peak memory usage. 3078352 | SetupLog |||
2022-12-30 19:08:01 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 19:08:01 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 19:08:01 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 13:08:49 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:08:49 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:08:49 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 13:08:55 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 13:08:59 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:08:59 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 13:09:09 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:09:09 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 13:09:17 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 13:09:17 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 13:09:26 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 13:09:44 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 13:09:44 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 13:09:44 | Info    |       | ##### STEP compile duration: 103.4s | SetupLog |||
2022-12-30 13:09:45 | Info    |       | operation 'async_action', peak memory usage. 26363504 | SetupLog |||
2022-12-30 19:09:46 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 19:09:46 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 19:09:48 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:09:58 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 19:09:58 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 19:09:58 | Info    |       | There is a total of 631 records in priv_change. | SetupLog |||
2022-12-30 19:09:58 | Info    |       | There are 1 useless records in priv_change (0.16%) | SetupLog |||
2022-12-30 19:09:58 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 19:09:58 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 19:10:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:00 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:00 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 19:10:00 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:10:01 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 19:10:02 | Info    |       | 0.013s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 19:10:08 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 19:10:08 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 19:10:08 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 19:10:08 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 19:10:08 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 19:10:08 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:10:08 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:10:08 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 19:10:08 | Info    |       | ##### STEP db-schema duration: 22.42s | SetupLog |||
2022-12-30 19:10:09 | Info    |       | operation 'async_action', peak memory usage. 17535144 | SetupLog |||
2022-12-30 19:10:10 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 19:10:10 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 19:10:12 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:10:19 | Info    |       | ##### STEP after-db-create duration: 9.39s | SetupLog |||
2022-12-30 19:10:20 | Info    |       | operation 'async_action', peak memory usage. 13345272 | SetupLog |||
2022-12-30 19:10:20 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 19:10:23 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 19:10:24 | Info    |       | ##### STEP load-data duration: 4.29s | SetupLog |||
2022-12-30 19:10:24 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected ''m_sValue";s:0' (T_ENCAPSED_AND_WHITESPACE), no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-RURU.php, line=192 | SetupLog |||
2022-12-30 19:17:14 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 19:17:14 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 19:17:14 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 13:17:15 | Info    |       | operation 'async_action', peak memory usage. 3078320 | SetupLog |||
2022-12-30 19:17:15 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 19:17:15 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 13:17:15 | Info    |       | operation 'async_action', peak memory usage. 3078352 | SetupLog |||
2022-12-30 19:17:15 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 19:17:15 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 19:17:15 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 13:18:01 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:18:01 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:18:01 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 13:18:08 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 13:18:11 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:18:11 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 13:18:23 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:18:23 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 13:18:34 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 13:18:34 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 13:18:42 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 13:19:00 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 13:19:00 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 13:19:00 | Info    |       | ##### STEP compile duration: 105.64s | SetupLog |||
2022-12-30 13:19:01 | Info    |       | operation 'async_action', peak memory usage. 26363504 | SetupLog |||
2022-12-30 19:19:03 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 19:19:03 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 19:19:05 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:19:14 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 19:19:14 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 19:19:14 | Info    |       | There is a total of 631 records in priv_change. | SetupLog |||
2022-12-30 19:19:14 | Info    |       | There are 1 useless records in priv_change (0.16%) | SetupLog |||
2022-12-30 19:19:14 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 19:19:14 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:16 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:19:16 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:19:17 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 19:19:17 | Info    |       | 0.012s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 19:19:22 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 19:19:22 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 19:19:22 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 19:19:22 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 19:19:23 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 19:19:23 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:19:23 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:19:23 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 19:19:23 | Info    |       | ##### STEP db-schema duration: 20.44s | SetupLog |||
2022-12-30 19:19:24 | Info    |       | operation 'async_action', peak memory usage. 17537208 | SetupLog |||
2022-12-30 19:19:25 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 19:19:25 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 19:19:27 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:19:32 | Info    |       | ##### STEP after-db-create duration: 7.99s | SetupLog |||
2022-12-30 19:19:33 | Info    |       | operation 'async_action', peak memory usage. 13346104 | SetupLog |||
2022-12-30 19:19:33 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 19:19:35 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | starting data load session | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 19:20:10 | Info    |       | ending data load session | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:20:10 | Info    |       | ##### STEP load-data duration: 36.81s | SetupLog |||
2022-12-30 19:20:10 | Info    |       | operation 'async_action', peak memory usage. 13396216 | SetupLog |||
2022-12-30 19:20:10 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 19:20:12 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 13:20:21 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 13:20:21 | Info    |       | ##### STEP create-config duration: 10.95s | SetupLog |||
2022-12-30 13:20:22 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 13:20:25 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:25:33 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:25:34 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:25:35 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 13:25:35 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:25:35 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 13:25:36 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 13:25:37 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 13:25:38 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 13:25:38 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:25:38 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 13:25:38 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 19:29:07 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 19:29:07 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 19:29:07 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 19:29:07 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2022-12-30 13:29:08 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 19:29:08 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 19:29:08 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 13:29:08 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 19:29:08 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 19:29:08 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 19:29:08 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 13:29:56 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:29:56 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:29:56 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 13:30:03 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 13:30:07 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:30:07 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 13:30:16 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:30:16 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 13:30:24 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 13:30:24 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 13:30:33 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 13:30:52 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 13:30:55 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 13:30:55 | Info    |       | ##### STEP compile duration: 107.36s | SetupLog |||
2022-12-30 13:30:56 | Info    |       | operation 'async_action', peak memory usage. 26317912 | SetupLog |||
2022-12-30 19:30:58 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 19:30:58 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 19:31:00 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:31:11 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 19:31:11 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 19:31:11 | Info    |       | There is a total of 633 records in priv_change. | SetupLog |||
2022-12-30 19:31:11 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 19:31:11 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 19:31:11 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:31:14 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 19:31:15 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 19:31:20 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 19:31:20 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 19:31:20 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 19:31:20 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 19:31:20 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 19:31:20 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:31:20 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:31:20 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 19:31:20 | Info    |       | ##### STEP db-schema duration: 23.12s | SetupLog |||
2022-12-30 19:31:22 | Info    |       | operation 'async_action', peak memory usage. 17573992 | SetupLog |||
2022-12-30 19:31:22 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 19:31:22 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 19:31:24 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:31:29 | Info    |       | ##### STEP after-db-create duration: 7.43s | SetupLog |||
2022-12-30 19:31:30 | Info    |       | operation 'async_action', peak memory usage. 13384520 | SetupLog |||
2022-12-30 19:31:30 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 19:31:31 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | starting data load session | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 19:32:04 | Info    |       | ending data load session | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:32:04 | Info    |       | ##### STEP load-data duration: 34.25s | SetupLog |||
2022-12-30 19:32:05 | Info    |       | operation 'async_action', peak memory usage. 13434984 | SetupLog |||
2022-12-30 19:32:05 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 19:32:07 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 13:32:16 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 13:32:16 | Info    |       | ##### STEP create-config duration: 11.43s | SetupLog |||
2022-12-30 13:32:17 | Info    |       | operation 'async_action', peak memory usage. 15322216 | SetupLog |||
2022-12-30 13:32:20 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 13:44:53 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:44:53 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:44:53 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:44:54 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 13:44:55 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 13:44:57 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 13:44:57 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:44:57 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 13:44:58 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 13:44:58 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 13:45:00 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 13:45:00 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 13:45:00 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 13:45:00 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-30 19:45:49 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ##### STEP  duration: 0.14s | SetupLog |||
2022-12-30 13:45:50 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 13:45:50 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-30 19:45:50 | Info    |       | Compiling data model. | SetupLog |||
2022-12-30 19:45:50 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 13:46:39 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:46:39 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 13:46:39 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 13:46:46 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 13:46:50 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:46:50 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 13:47:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 13:47:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 13:47:09 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 13:47:09 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 13:47:17 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 13:47:36 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 13:47:39 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 13:47:39 | Info    |       | ##### STEP compile duration: 108.96s | SetupLog |||
2022-12-30 13:47:40 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-30 19:47:41 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-30 19:47:41 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-30 19:47:43 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:47:52 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-30 19:47:52 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-30 19:47:52 | Info    |       | There is a total of 634 records in priv_change. | SetupLog |||
2022-12-30 19:47:52 | Info    |       | There are 2 useless records in priv_change (0.32%) | SetupLog |||
2022-12-30 19:47:52 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-30 19:47:52 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:54 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:47:55 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-30 19:47:55 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-30 19:48:00 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-30 19:48:00 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-30 19:48:00 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-30 19:48:00 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-30 19:48:00 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-30 19:48:00 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:48:00 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-30 19:48:00 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-30 19:48:00 | Info    |       | ##### STEP db-schema duration: 19.12s | SetupLog |||
2022-12-30 19:48:01 | Info    |       | operation 'async_action', peak memory usage. 17651656 | SetupLog |||
2022-12-30 19:48:01 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-30 19:48:01 | Info    |       | After Database Creation | SetupLog |||
2022-12-30 19:48:03 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:48:08 | Info    |       | ##### STEP after-db-create duration: 6.79s | SetupLog |||
2022-12-30 19:48:08 | Info    |       | operation 'async_action', peak memory usage. 13462184 | SetupLog |||
2022-12-30 19:48:09 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-30 19:48:11 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | starting data load session | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-30 19:48:47 | Info    |       | ending data load session | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-30 19:48:47 | Info    |       | ##### STEP load-data duration: 38.63s | SetupLog |||
2022-12-30 19:48:48 | Info    |       | operation 'async_action', peak memory usage. 13512648 | SetupLog |||
2022-12-30 19:48:48 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-30 19:48:50 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 13:49:05 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 13:49:05 | Info    |       | ##### STEP create-config duration: 16.88s | SetupLog |||
2022-12-30 13:49:06 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 13:49:10 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 19:36:07 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 19:36:11 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 19:36:11 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 19:36:11 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 19:36:14 | Info    |       | operation 'async_action', peak memory usage. 3068440 | SetupLog |||
2022-12-30 19:36:20 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 19:36:33 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 19:36:33 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 19:36:33 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 19:36:33 | Info    |       | operation 'async_action', peak memory usage. 3066984 | SetupLog |||
2022-12-31 01:38:29 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-31 01:38:29 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-31 01:38:29 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-31 01:38:29 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2022-12-30 19:38:29 | Info    |       | operation 'async_action', peak memory usage. 3078176 | SetupLog |||
2022-12-31 01:38:29 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-31 01:38:29 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 19:38:30 | Info    |       | operation 'async_action', peak memory usage. 3077736 | SetupLog |||
2022-12-31 01:38:30 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-31 01:38:30 | Info    |       | Compiling data model. | SetupLog |||
2022-12-31 01:38:30 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 19:39:26 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 19:39:26 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 19:39:26 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 19:39:35 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 19:39:40 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 19:39:40 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 19:39:50 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 19:39:50 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 19:40:00 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 19:40:00 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 19:40:11 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 19:40:30 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 19:40:33 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 19:40:33 | Info    |       | ##### STEP compile duration: 123.63s | SetupLog |||
2022-12-30 19:40:34 | Info    |       | operation 'async_action', peak memory usage. 26363048 | SetupLog |||
2022-12-31 01:40:36 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-31 01:40:36 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-31 01:40:38 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-31 01:40:49 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-31 01:40:50 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-31 01:40:50 | Info    |       | There is a total of 636 records in priv_change. | SetupLog |||
2022-12-31 01:40:50 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2022-12-31 01:40:50 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-31 01:40:50 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 01:40:52 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-31 01:40:53 | Info    |       | 0.018s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-31 01:40:58 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-31 01:40:58 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-31 01:40:58 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-31 01:40:58 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-31 01:40:58 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-31 01:40:58 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-31 01:40:58 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-31 01:40:58 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-31 01:40:58 | Info    |       | ##### STEP db-schema duration: 22.94s | SetupLog |||
2022-12-31 01:41:00 | Info    |       | operation 'async_action', peak memory usage. 17718064 | SetupLog |||
2022-12-31 01:41:00 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-31 01:41:00 | Info    |       | After Database Creation | SetupLog |||
2022-12-31 01:41:02 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 01:41:08 | Info    |       | ##### STEP after-db-create duration: 8.04s | SetupLog |||
2022-12-31 01:41:08 | Info    |       | operation 'async_action', peak memory usage. 13528592 | SetupLog |||
2022-12-31 01:41:09 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-31 01:41:11 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | starting data load session | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-31 01:41:47 | Info    |       | ending data load session | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 01:41:47 | Info    |       | ##### STEP load-data duration: 38.75s | SetupLog |||
2022-12-31 01:41:48 | Info    |       | operation 'async_action', peak memory usage. 13579056 | SetupLog |||
2022-12-31 01:41:48 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-31 01:41:50 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 19:41:59 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 19:41:59 | Info    |       | ##### STEP create-config duration: 11.42s | SetupLog |||
2022-12-30 19:42:00 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 19:42:03 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 20:32:57 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 20:32:59 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 20:33:01 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 20:33:01 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 20:33:01 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 20:33:01 | Info    |       | operation 'async_action', peak memory usage. 3067496 | SetupLog |||
2022-12-30 20:33:04 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 20:33:07 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 20:33:07 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 20:33:07 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 20:33:08 | Info    |       | operation 'async_action', peak memory usage. 3066984 | SetupLog |||
2022-12-31 02:34:05 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-31 02:34:05 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-31 02:34:05 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-31 02:34:05 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2022-12-30 20:34:06 | Info    |       | operation 'async_action', peak memory usage. 3078176 | SetupLog |||
2022-12-31 02:34:06 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-31 02:34:06 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 20:34:06 | Info    |       | operation 'async_action', peak memory usage. 3077736 | SetupLog |||
2022-12-31 02:34:06 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-31 02:34:06 | Info    |       | Compiling data model. | SetupLog |||
2022-12-31 02:34:06 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 20:34:52 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 20:34:52 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 20:34:53 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 20:34:59 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 20:35:03 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 20:35:03 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 20:35:11 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 20:35:11 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 20:35:19 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 20:35:19 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 20:35:27 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 20:35:44 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 20:35:46 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 20:35:46 | Info    |       | ##### STEP compile duration: 100.65s | SetupLog |||
2022-12-30 20:35:47 | Info    |       | operation 'async_action', peak memory usage. 26362888 | SetupLog |||
2022-12-31 02:35:48 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-31 02:35:48 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-31 02:35:50 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-31 02:35:58 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-31 02:35:58 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-31 02:35:58 | Info    |       | There is a total of 637 records in priv_change. | SetupLog |||
2022-12-31 02:35:58 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2022-12-31 02:35:58 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-31 02:35:58 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:36:00 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-31 02:36:01 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-31 02:36:07 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-31 02:36:07 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-31 02:36:07 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-31 02:36:07 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-31 02:36:08 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-31 02:36:08 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-31 02:36:08 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-31 02:36:08 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-31 02:36:08 | Info    |       | ##### STEP db-schema duration: 19.88s | SetupLog |||
2022-12-31 02:36:09 | Info    |       | operation 'async_action', peak memory usage. 17768088 | SetupLog |||
2022-12-31 02:36:10 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-31 02:36:10 | Info    |       | After Database Creation | SetupLog |||
2022-12-31 02:36:12 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:36:18 | Info    |       | ##### STEP after-db-create duration: 8.32s | SetupLog |||
2022-12-31 02:36:19 | Info    |       | operation 'async_action', peak memory usage. 13578616 | SetupLog |||
2022-12-31 02:36:19 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-31 02:36:21 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | starting data load session | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-31 02:36:59 | Info    |       | ending data load session | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:36:59 | Info    |       | ##### STEP load-data duration: 39.83s | SetupLog |||
2022-12-31 02:36:59 | Info    |       | operation 'async_action', peak memory usage. 13629080 | SetupLog |||
2022-12-31 02:36:59 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-31 02:37:01 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 20:37:11 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 20:37:11 | Info    |       | ##### STEP create-config duration: 11.48s | SetupLog |||
2022-12-30 20:37:12 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 20:37:15 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2022-12-30 20:39:23 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2022-12-30 20:39:26 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2022-12-30 20:39:26 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 20:39:26 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2022-12-30 20:39:27 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2022-12-30 20:39:29 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2022-12-30 20:39:36 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2022-12-30 20:39:36 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2022-12-30 20:39:36 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2022-12-30 20:39:36 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2022-12-31 02:40:47 | Info    |       | ##### STEP  start | SetupLog |||
2022-12-31 02:40:47 | Info    |       | ----> Entering read only mode | SetupLog |||
2022-12-31 02:40:47 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.37</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2022-12-31 02:40:47 | Info    |       | ##### STEP  duration: 0.12s | SetupLog |||
2022-12-30 20:40:48 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2022-12-31 02:40:48 | Info    |       | ##### STEP copy start | SetupLog |||
2022-12-31 02:40:48 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2022-12-30 20:40:48 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2022-12-31 02:40:48 | Info    |       | ##### STEP compile start | SetupLog |||
2022-12-31 02:40:48 | Info    |       | Compiling data model. | SetupLog |||
2022-12-31 02:40:48 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2022-12-30 20:41:37 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 20:41:37 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2022-12-30 20:41:37 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2022-12-30 20:41:44 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2022-12-30 20:41:47 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2022-12-30 20:41:47 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2022-12-30 20:41:56 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2022-12-30 20:41:56 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2022-12-30 20:42:05 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2022-12-30 20:42:05 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2022-12-30 20:42:13 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2022-12-30 20:42:29 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2022-12-30 20:42:31 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2022-12-30 20:42:31 | Info    |       | ##### STEP compile duration: 102.68s | SetupLog |||
2022-12-30 20:42:32 | Info    |       | operation 'async_action', peak memory usage. 26362968 | SetupLog |||
2022-12-31 02:42:33 | Info    |       | ##### STEP db-schema start | SetupLog |||
2022-12-31 02:42:33 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2022-12-31 02:42:35 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-31 02:42:43 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2022-12-31 02:42:43 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2022-12-31 02:42:43 | Info    |       | There is a total of 638 records in priv_change. | SetupLog |||
2022-12-31 02:42:43 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2022-12-31 02:42:43 | Info    |       | Removing the orphan records... | SetupLog |||
2022-12-31 02:42:43 | Info    |       | Cleanup completed successfully. | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | No orphan attachment found. | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:42:45 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2022-12-31 02:42:46 | Info    |       | 0.008s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2022-12-31 02:42:50 | Ok      |       | Database structure successfully updated. | SetupLog |||
2022-12-31 02:42:50 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2022-12-31 02:42:50 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2022-12-31 02:42:50 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2022-12-31 02:42:50 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2022-12-31 02:42:50 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2022-12-31 02:42:50 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2022-12-31 02:42:50 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2022-12-31 02:42:50 | Info    |       | ##### STEP db-schema duration: 18.02s | SetupLog |||
2022-12-31 02:42:52 | Info    |       | operation 'async_action', peak memory usage. 17838592 | SetupLog |||
2022-12-31 02:42:52 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2022-12-31 02:42:52 | Info    |       | After Database Creation | SetupLog |||
2022-12-31 02:42:54 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2022-12-31 02:42:58 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:58 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:58 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2022-12-31 02:42:58 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:42:59 | Info    |       | ##### STEP after-db-create duration: 6.91s | SetupLog |||
2022-12-31 02:42:59 | Info    |       | operation 'async_action', peak memory usage. 13649120 | SetupLog |||
2022-12-31 02:42:59 | Info    |       | ##### STEP load-data start | SetupLog |||
2022-12-31 02:43:01 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | starting data load session | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2022-12-31 02:43:33 | Info    |       | ending data load session | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2022-12-31 02:43:33 | Info    |       | ##### STEP load-data duration: 33.42s | SetupLog |||
2022-12-31 02:43:33 | Info    |       | operation 'async_action', peak memory usage. 13699584 | SetupLog |||
2022-12-31 02:43:33 | Info    |       | ##### STEP create-config start | SetupLog |||
2022-12-31 02:43:35 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2022-12-30 20:43:43 | Info    |       | <---- Exiting read only mode | SetupLog |||
2022-12-30 20:43:43 | Info    |       | ##### STEP create-config duration: 9.84s | SetupLog |||
2022-12-30 20:43:44 | Info    |       | operation 'async_action', peak memory usage. 15349856 | SetupLog |||
2022-12-30 20:43:47 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 08:44:02 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 08:44:23 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 08:44:44 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 08:45:05 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 08:45:26 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 08:45:47 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 08:46:08 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 08:46:29 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 08:46:50 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 08:47:11 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 08:47:32 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 08:47:53 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 08:48:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 08:48:35 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 08:48:57 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 08:53:18 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 09:17:34 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 09:30:51 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 09:30:54 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 09:30:54 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 09:30:54 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 09:30:55 | Info    |       | operation 'async_action', peak memory usage. 3067992 | SetupLog |||
2023-01-02 09:30:58 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 09:30:59 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 09:30:59 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 09:30:59 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 09:30:59 | Info    |       | operation 'async_action', peak memory usage. 3066536 | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2023-01-02 09:31:49 | Info    |       | operation 'async_action', peak memory usage. 3077728 | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 09:31:49 | Info    |       | operation 'async_action', peak memory usage. 3077288 | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 15:31:49 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 15:31:49 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 09:33:24 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 09:33:24 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 09:33:24 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 09:33:34 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 09:33:37 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 09:33:37 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 09:33:46 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 09:33:46 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 09:33:55 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 09:33:55 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 09:34:04 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 09:34:23 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 09:34:26 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 09:34:26 | Info    |       | ##### STEP compile duration: 156.73s | SetupLog |||
2023-01-02 09:34:26 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 15:34:28 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 15:34:28 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 15:34:30 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 15:34:39 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 15:34:39 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 15:34:39 | Info    |       | There is a total of 642 records in priv_change. | SetupLog |||
2023-01-02 15:34:39 | Info    |       | There are 3 useless records in priv_change (0.47%) | SetupLog |||
2023-01-02 15:34:39 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 15:34:39 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:41 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:41 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:34:42 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 15:34:42 | Info    |       | 0.015s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 15:34:47 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 15:34:47 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 15:34:47 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 15:34:47 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 15:34:47 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 15:34:47 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 15:34:47 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 15:34:47 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 15:34:47 | Info    |       | ##### STEP db-schema duration: 20s | SetupLog |||
2023-01-02 15:34:49 | Info    |       | operation 'async_action', peak memory usage. 17888248 | SetupLog |||
2023-01-02 15:34:49 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 15:34:49 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 15:34:51 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:34:57 | Info    |       | ##### STEP after-db-create duration: 7.79s | SetupLog |||
2023-01-02 15:34:57 | Info    |       | operation 'async_action', peak memory usage. 13698776 | SetupLog |||
2023-01-02 15:34:58 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 15:35:00 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | starting data load session | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 15:35:35 | Info    |       | ending data load session | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:35:35 | Info    |       | ##### STEP load-data duration: 37.78s | SetupLog |||
2023-01-02 15:35:36 | Info    |       | operation 'async_action', peak memory usage. 13749240 | SetupLog |||
2023-01-02 15:35:36 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 15:35:38 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 09:35:48 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 09:35:48 | Info    |       | ##### STEP create-config duration: 11.58s | SetupLog |||
2023-01-02 09:35:49 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 09:35:52 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 09:52:16 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 09:52:20 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 09:52:20 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 09:52:20 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 09:52:21 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 09:52:22 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 09:52:24 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 09:52:24 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 09:52:24 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 09:52:24 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 15:53:23 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 15:53:23 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 15:53:23 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 15:53:23 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 09:53:23 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 15:53:23 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 15:53:23 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 09:53:23 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 15:53:24 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 15:53:24 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 15:53:24 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 09:54:25 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 09:54:25 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 09:54:25 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 09:54:33 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 09:54:37 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 09:54:37 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 09:54:48 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 09:54:48 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 09:54:59 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 09:54:59 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 09:55:10 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 09:55:29 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 09:55:34 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 09:55:34 | Info    |       | ##### STEP compile duration: 130.16s | SetupLog |||
2023-01-02 09:55:34 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 15:55:36 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 15:55:36 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 15:55:40 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 15:55:52 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 15:55:52 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 15:55:52 | Info    |       | There is a total of 642 records in priv_change. | SetupLog |||
2023-01-02 15:55:52 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 15:55:52 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 15:55:52 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:54 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:55:55 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:55:55 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:55:55 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 15:55:55 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 15:56:00 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 15:56:00 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 15:56:00 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 15:56:01 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 15:56:01 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 15:56:01 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 15:56:01 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 15:56:01 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 15:56:01 | Info    |       | ##### STEP db-schema duration: 25.36s | SetupLog |||
2023-01-02 15:56:02 | Info    |       | operation 'async_action', peak memory usage. 17938272 | SetupLog |||
2023-01-02 15:56:03 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 15:56:03 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 15:56:05 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:10 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:56:11 | Info    |       | ##### STEP after-db-create duration: 8.26s | SetupLog |||
2023-01-02 15:56:11 | Info    |       | operation 'async_action', peak memory usage. 13748800 | SetupLog |||
2023-01-02 15:56:12 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 15:56:15 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 15:56:54 | Info    |       | starting data load session | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 15:56:55 | Info    |       | ending data load session | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 15:56:55 | Info    |       | ##### STEP load-data duration: 43.06s | SetupLog |||
2023-01-02 15:56:55 | Info    |       | operation 'async_action', peak memory usage. 13799264 | SetupLog |||
2023-01-02 15:56:55 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 15:56:59 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 09:57:13 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 09:57:13 | Info    |       | ##### STEP create-config duration: 18.12s | SetupLog |||
2023-01-02 09:57:14 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 09:57:17 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 10:06:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 10:06:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 10:06:26 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 10:06:26 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 10:06:26 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 10:06:26 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 10:06:27 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 10:06:29 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 10:06:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 10:06:29 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 10:06:29 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 16:07:40 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 16:07:40 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 16:07:40 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 16:07:40 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 10:07:41 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 16:07:41 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 16:07:41 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 10:07:41 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 16:07:41 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 16:07:41 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 16:07:41 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 10:08:28 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 10:08:28 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 10:08:28 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 10:08:34 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 10:08:38 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 10:08:38 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 10:08:47 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 10:08:47 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 10:08:56 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 10:08:56 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 10:09:04 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 10:09:23 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 10:09:26 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 10:09:26 | Info    |       | ##### STEP compile duration: 105.47s | SetupLog |||
2023-01-02 10:09:27 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 16:09:28 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 16:09:28 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 16:09:30 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 16:09:39 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 16:09:39 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 16:09:39 | Info    |       | There is a total of 644 records in priv_change. | SetupLog |||
2023-01-02 16:09:39 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 16:09:39 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 16:09:39 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:09:42 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 16:09:43 | Info    |       | 0.008s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 16:09:47 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 16:09:47 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 16:09:47 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 16:09:47 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 16:09:47 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 16:09:47 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 16:09:47 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 16:09:47 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 16:09:47 | Info    |       | ##### STEP db-schema duration: 19.34s | SetupLog |||
2023-01-02 16:09:48 | Info    |       | operation 'async_action', peak memory usage. 18004680 | SetupLog |||
2023-01-02 16:09:49 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 16:09:49 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 16:09:51 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:09:57 | Info    |       | ##### STEP after-db-create duration: 8.42s | SetupLog |||
2023-01-02 16:09:58 | Info    |       | operation 'async_action', peak memory usage. 13815208 | SetupLog |||
2023-01-02 16:09:58 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 16:10:00 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | starting data load session | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 16:10:37 | Info    |       | ending data load session | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:10:37 | Info    |       | ##### STEP load-data duration: 39.12s | SetupLog |||
2023-01-02 16:10:38 | Info    |       | operation 'async_action', peak memory usage. 13865672 | SetupLog |||
2023-01-02 16:10:38 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 16:10:41 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 10:10:53 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 10:10:53 | Info    |       | ##### STEP create-config duration: 15.23s | SetupLog |||
2023-01-02 10:10:55 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 10:10:58 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 10:22:49 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 10:22:51 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 10:22:55 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 10:22:55 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 10:22:55 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 10:22:56 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 10:22:56 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 10:23:00 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 10:23:00 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 10:23:00 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 10:23:00 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 10:23:58 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 10:23:58 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 16:23:58 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 16:23:58 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 10:24:39 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 10:24:39 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 10:24:39 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 10:24:46 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 10:24:49 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 10:24:49 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 10:24:57 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 10:24:57 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 10:25:05 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 10:25:05 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 10:25:13 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 10:25:30 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 10:25:34 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 10:25:34 | Info    |       | ##### STEP compile duration: 95.84s | SetupLog |||
2023-01-02 10:25:34 | Info    |       | operation 'async_action', peak memory usage. 26317544 | SetupLog |||
2023-01-02 16:25:36 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 16:25:36 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 16:25:38 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 16:25:47 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 16:25:47 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 16:25:47 | Info    |       | There is a total of 646 records in priv_change. | SetupLog |||
2023-01-02 16:25:47 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 16:25:47 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 16:25:47 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:25:49 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 16:25:50 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 16:25:54 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 16:25:54 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 16:25:54 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 16:25:54 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 16:25:54 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 16:25:54 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 16:25:54 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 16:25:54 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 16:25:54 | Info    |       | ##### STEP db-schema duration: 19.12s | SetupLog |||
2023-01-02 16:25:55 | Info    |       | operation 'async_action', peak memory usage. 18061616 | SetupLog |||
2023-01-02 16:25:56 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 16:25:56 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 16:25:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:26:02 | Info    |       | ##### STEP after-db-create duration: 6.34s | SetupLog |||
2023-01-02 16:26:02 | Info    |       | operation 'async_action', peak memory usage. 13872144 | SetupLog |||
2023-01-02 16:26:03 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 16:26:05 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | starting data load session | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 16:26:43 | Info    |       | ending data load session | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 16:26:43 | Info    |       | ##### STEP load-data duration: 40.47s | SetupLog |||
2023-01-02 16:26:43 | Info    |       | operation 'async_action', peak memory usage. 13922608 | SetupLog |||
2023-01-02 16:26:44 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 16:26:45 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 10:26:56 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 10:26:56 | Info    |       | ##### STEP create-config duration: 12.08s | SetupLog |||
2023-01-02 10:26:57 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 10:26:59 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 10:33:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 10:33:29 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 10:33:29 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 10:33:29 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 10:33:30 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 10:33:31 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 10:55:07 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 10:55:07 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 10:55:07 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 10:55:07 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 16:59:29 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 16:59:29 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 16:59:29 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 16:59:29 | Info    |       | ##### STEP  duration: 0.13s | SetupLog |||
2023-01-02 10:59:30 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 16:59:30 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 16:59:30 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 10:59:30 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 16:59:30 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 16:59:30 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 16:59:30 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 11:00:16 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 11:00:16 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 11:00:16 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 11:00:21 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 11:00:25 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 11:00:25 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 11:00:33 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 11:00:33 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 11:00:42 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 11:00:42 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 11:00:50 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 11:01:07 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 11:01:10 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 11:01:10 | Info    |       | ##### STEP compile duration: 100.11s | SetupLog |||
2023-01-02 11:01:11 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 17:01:13 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 17:01:13 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 17:01:16 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 17:01:30 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 17:01:30 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 17:01:30 | Info    |       | There is a total of 647 records in priv_change. | SetupLog |||
2023-01-02 17:01:30 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 17:01:30 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 17:01:30 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 17:01:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:32 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:32 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 17:01:33 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 17:01:34 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 17:01:38 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 17:01:38 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 17:01:38 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 17:01:38 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 17:01:38 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 17:01:38 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 17:01:38 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 17:01:38 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 17:01:38 | Info    |       | ##### STEP db-schema duration: 25.87s | SetupLog |||
2023-01-02 17:01:40 | Info    |       | operation 'async_action', peak memory usage. 18132120 | SetupLog |||
2023-01-02 17:01:40 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 17:01:40 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 17:01:42 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 17:01:47 | Info    |       | ##### STEP after-db-create duration: 7.54s | SetupLog |||
2023-01-02 17:01:48 | Info    |       | operation 'async_action', peak memory usage. 13942648 | SetupLog |||
2023-01-02 17:01:48 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 17:01:50 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | starting data load session | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 17:02:28 | Info    |       | ending data load session | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 17:02:28 | Info    |       | ##### STEP load-data duration: 40.02s | SetupLog |||
2023-01-02 17:02:29 | Info    |       | operation 'async_action', peak memory usage. 13993112 | SetupLog |||
2023-01-02 17:02:29 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 17:02:32 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 11:02:41 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 11:02:41 | Info    |       | ##### STEP create-config duration: 11.8s | SetupLog |||
2023-01-02 11:02:43 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 11:02:45 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:17:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:17:23 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:17:26 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 12:17:26 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:17:26 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 12:17:27 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 12:17:27 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 12:17:31 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 12:17:31 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:17:31 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 12:17:31 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 18:18:18 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 18:18:18 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 18:18:18 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 18:18:18 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 12:18:19 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 18:18:19 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 18:18:19 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 12:18:19 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 18:18:19 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 18:18:19 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 18:18:19 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 12:19:04 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:19:04 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:19:04 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 12:19:10 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 12:19:13 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:19:13 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 12:19:21 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:19:21 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 12:19:29 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 12:19:29 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 12:19:36 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 12:19:57 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 12:20:02 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 12:20:02 | Info    |       | ##### STEP compile duration: 103.03s | SetupLog |||
2023-01-02 12:20:03 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 18:20:05 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 18:20:05 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 18:20:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:20:18 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 18:20:18 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 18:20:18 | Info    |       | There is a total of 648 records in priv_change. | SetupLog |||
2023-01-02 18:20:18 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 18:20:18 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 18:20:18 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 18:20:21 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:21 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:21 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 18:20:21 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:21 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:20:21 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:20:22 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 18:20:23 | Info    |       | 0.014s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 18:20:28 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 18:20:28 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 18:20:28 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 18:20:29 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 18:20:29 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 18:20:29 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:20:29 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:20:29 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 18:20:29 | Info    |       | ##### STEP db-schema duration: 24.82s | SetupLog |||
2023-01-02 18:20:30 | Info    |       | operation 'async_action', peak memory usage. 18151688 | SetupLog |||
2023-01-02 18:20:31 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 18:20:31 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 18:20:33 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:20:39 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:39 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:39 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 18:20:39 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:20:40 | Info    |       | ##### STEP after-db-create duration: 9.27s | SetupLog |||
2023-01-02 18:20:41 | Info    |       | operation 'async_action', peak memory usage. 13962216 | SetupLog |||
2023-01-02 18:20:41 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 18:20:44 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | starting data load session | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 18:21:19 | Info    |       | ending data load session | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:21:19 | Info    |       | ##### STEP load-data duration: 38.38s | SetupLog |||
2023-01-02 18:21:20 | Info    |       | operation 'async_action', peak memory usage. 14012680 | SetupLog |||
2023-01-02 18:21:20 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 18:21:22 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:21:30 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 12:21:30 | Info    |       | ##### STEP create-config duration: 9.73s | SetupLog |||
2023-01-02 12:21:30 | Info    |       | operation 'async_action', peak memory usage. 15321848 | SetupLog |||
2023-01-02 12:21:32 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:24:19 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:27:06 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:27:07 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:27:14 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 12:27:14 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:27:14 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 12:27:15 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 12:27:16 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 12:27:19 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 12:27:19 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:27:19 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 12:27:19 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 18:28:07 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 18:28:07 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 18:28:07 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 18:28:07 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2023-01-02 12:28:08 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 18:28:08 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 18:28:08 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 12:28:08 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 18:28:08 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 18:28:08 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 18:28:08 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 12:28:53 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:28:53 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:28:53 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 12:28:59 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 12:29:02 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:29:02 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 12:29:10 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:29:10 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 12:29:20 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 12:29:20 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 12:29:29 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 12:29:46 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 12:29:48 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 12:29:48 | Info    |       | ##### STEP compile duration: 100.64s | SetupLog |||
2023-01-02 12:29:49 | Info    |       | operation 'async_action', peak memory usage. 26317544 | SetupLog |||
2023-01-02 18:29:50 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 18:29:50 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 18:29:52 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:30:01 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 18:30:01 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 18:30:01 | Info    |       | There is a total of 649 records in priv_change. | SetupLog |||
2023-01-02 18:30:01 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 18:30:01 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 18:30:01 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 18:30:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:03 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:03 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 18:30:03 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:30:04 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 18:30:05 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 18:30:09 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 18:30:09 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 18:30:09 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 18:30:09 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 18:30:09 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 18:30:09 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:30:09 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:30:09 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 18:30:09 | Info    |       | ##### STEP db-schema duration: 19.58s | SetupLog |||
2023-01-02 18:30:11 | Info    |       | operation 'async_action', peak memory usage. 18248552 | SetupLog |||
2023-01-02 18:30:11 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 18:30:11 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 18:30:13 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:30:18 | Info    |       | ##### STEP after-db-create duration: 7.34s | SetupLog |||
2023-01-02 18:30:19 | Info    |       | operation 'async_action', peak memory usage. 14059080 | SetupLog |||
2023-01-02 18:30:19 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 18:30:21 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | starting data load session | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 18:30:54 | Info    |       | ending data load session | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:30:54 | Info    |       | ##### STEP load-data duration: 35.06s | SetupLog |||
2023-01-02 18:30:54 | Info    |       | operation 'async_action', peak memory usage. 14109544 | SetupLog |||
2023-01-02 18:30:54 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 18:30:56 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:31:05 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 12:31:05 | Info    |       | ##### STEP create-config duration: 10.69s | SetupLog |||
2023-01-02 12:31:06 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 12:31:09 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:33:50 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:33:51 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:33:52 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:33:54 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 12:33:54 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:33:54 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 12:33:54 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 12:33:55 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 12:33:56 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 12:33:56 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:33:56 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 12:33:57 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 18:35:12 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 18:35:12 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 18:35:12 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 18:35:12 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2023-01-02 12:35:13 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 18:35:13 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 18:35:13 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 12:35:13 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 18:35:13 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 18:35:13 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 18:35:13 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 12:35:56 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:35:57 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:35:57 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 12:36:03 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 12:36:06 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:36:06 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 12:36:14 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:36:14 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 12:36:23 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 12:36:23 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 12:36:31 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 12:36:48 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 12:36:49 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 12:36:49 | Info    |       | ##### STEP compile duration: 96.67s | SetupLog |||
2023-01-02 12:36:50 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 18:36:51 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 18:36:51 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 18:36:53 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:37:03 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 18:37:03 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 18:37:03 | Info    |       | There is a total of 650 records in priv_change. | SetupLog |||
2023-01-02 18:37:03 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 18:37:03 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 18:37:03 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 18:37:05 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:05 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:05 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 18:37:05 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:37:06 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 18:37:07 | Info    |       | 0.013s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 18:37:14 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 18:37:14 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 18:37:14 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 18:37:14 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 18:37:14 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 18:37:14 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:37:14 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:37:14 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 18:37:14 | Info    |       | ##### STEP db-schema duration: 23.4s | SetupLog |||
2023-01-02 18:37:22 | Info    |       | operation 'async_action', peak memory usage. 18298576 | SetupLog |||
2023-01-02 18:37:23 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 18:37:23 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 18:37:28 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:37:38 | Info    |       | ##### STEP after-db-create duration: 15.75s | SetupLog |||
2023-01-02 18:37:39 | Info    |       | operation 'async_action', peak memory usage. 14109104 | SetupLog |||
2023-01-02 18:37:39 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 18:37:41 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | starting data load session | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 18:38:26 | Info    |       | ending data load session | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:38:26 | Info    |       | ##### STEP load-data duration: 46.7s | SetupLog |||
2023-01-02 18:38:26 | Info    |       | operation 'async_action', peak memory usage. 14159568 | SetupLog |||
2023-01-02 18:38:27 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 18:38:29 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:38:39 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 12:38:39 | Info    |       | ##### STEP create-config duration: 12.89s | SetupLog |||
2023-01-02 12:38:41 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 12:38:45 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:41:41 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:41:43 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:41:43 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:41:43 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:41:44 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:41:45 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 12:41:45 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:41:45 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 12:41:45 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 12:41:46 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 12:41:48 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 12:41:48 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:41:48 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 12:41:48 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 18:42:32 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 18:42:32 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 18:42:32 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 18:42:32 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 12:42:33 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 18:42:33 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 18:42:33 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 12:42:33 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 18:42:33 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 18:42:33 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 18:42:33 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 12:43:22 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:43:23 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:43:23 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 12:43:32 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 12:43:38 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:43:38 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 12:43:50 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:43:50 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 12:43:59 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 12:43:59 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 12:44:10 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 12:44:32 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 12:44:33 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 12:44:34 | Info    |       | ##### STEP compile duration: 120.77s | SetupLog |||
2023-01-02 12:44:34 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 18:44:35 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 18:44:35 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 18:44:37 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:44:48 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 18:44:48 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 18:44:48 | Info    |       | There is a total of 651 records in priv_change. | SetupLog |||
2023-01-02 18:44:48 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 18:44:48 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 18:44:48 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:44:50 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 18:44:51 | Info    |       | 0.013s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 18:44:56 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 18:44:56 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 18:44:56 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 18:44:56 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 18:44:57 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 18:44:57 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:44:57 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 18:44:57 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 18:44:57 | Info    |       | ##### STEP db-schema duration: 21.7s | SetupLog |||
2023-01-02 18:44:58 | Info    |       | operation 'async_action', peak memory usage. 18364984 | SetupLog |||
2023-01-02 18:44:58 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 18:44:58 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 18:45:00 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:45:05 | Info    |       | ##### STEP after-db-create duration: 7.07s | SetupLog |||
2023-01-02 18:45:06 | Info    |       | operation 'async_action', peak memory usage. 14175512 | SetupLog |||
2023-01-02 18:45:06 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 18:45:08 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | starting data load session | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 18:45:45 | Info    |       | ending data load session | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 18:45:45 | Info    |       | ##### STEP load-data duration: 39.3s | SetupLog |||
2023-01-02 18:45:45 | Info    |       | operation 'async_action', peak memory usage. 14225976 | SetupLog |||
2023-01-02 18:45:46 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 18:45:48 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:45:56 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 12:45:56 | Info    |       | ##### STEP create-config duration: 10.79s | SetupLog |||
2023-01-02 12:45:57 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 12:46:02 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:47:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:57:56 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:57:57 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 12:57:59 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 12:58:01 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 12:58:01 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:58:01 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 12:58:01 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 12:58:02 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 12:58:03 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 12:58:03 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 12:58:04 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 12:58:04 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 18:59:00 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 18:59:00 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 18:59:00 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 18:59:00 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 12:59:01 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 18:59:01 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 18:59:01 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 12:59:01 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 18:59:01 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 18:59:01 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 18:59:01 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 12:59:44 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:59:44 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 12:59:44 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 12:59:50 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 12:59:53 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 12:59:53 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:00:01 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:00:01 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:00:09 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:00:09 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:00:18 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:00:44 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:00:49 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:00:50 | Info    |       | ##### STEP compile duration: 108.52s | SetupLog |||
2023-01-02 13:00:50 | Info    |       | operation 'async_action', peak memory usage. 26317544 | SetupLog |||
2023-01-02 19:00:53 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:00:53 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:00:56 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:01:09 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:01:09 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:01:09 | Info    |       | There is a total of 652 records in priv_change. | SetupLog |||
2023-01-02 19:01:09 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 19:01:10 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:01:10 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:01:12 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:01:13 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:01:18 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:01:18 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:01:18 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:01:18 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:01:18 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:01:18 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:01:18 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:01:18 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:01:18 | Info    |       | ##### STEP db-schema duration: 26.51s | SetupLog |||
2023-01-02 19:01:20 | Info    |       | operation 'async_action', peak memory usage. 18412192 | SetupLog |||
2023-01-02 19:01:20 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:01:20 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:01:22 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:01:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:01:28 | Info    |       | ##### STEP after-db-create duration: 7.66s | SetupLog |||
2023-01-02 19:01:28 | Info    |       | operation 'async_action', peak memory usage. 14222720 | SetupLog |||
2023-01-02 19:01:28 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:01:30 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | starting data load session | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 19:02:10 | Info    |       | ending data load session | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:02:10 | Info    |       | ##### STEP load-data duration: 42.26s | SetupLog |||
2023-01-02 19:02:11 | Info    |       | operation 'async_action', peak memory usage. 14273184 | SetupLog |||
2023-01-02 19:02:11 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 19:02:13 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:02:21 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 13:02:21 | Info    |       | ##### STEP create-config duration: 9.62s | SetupLog |||
2023-01-02 13:02:22 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 13:02:24 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:05:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:05:31 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 13:05:31 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:05:31 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 13:05:32 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 13:05:36 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 13:05:38 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 13:05:38 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:05:38 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 13:05:38 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 19:06:38 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:06:38 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 19:06:38 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:06:38 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2023-01-02 13:06:39 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 19:06:39 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:06:39 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:06:39 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 19:06:39 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:06:39 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:06:39 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 19:06:58 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: item line 15 and items
Opening and ending tag mismatch: items line 15 and details
Opening and ending tag mismatch: details line 15 and presentation
Opening and ending tag mismatch: presentation line 15 and class
Opening and ending tag mismatch: class line 15 and classes
Opening and ending tag mismatch: classes line 15 and itop_design
EndTag: '</' not found
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-02 19:06:58 | Ok      |       | Call stack: | SetupLog |||
2023-01-02 19:06:58 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-02 19:06:58 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-02 19:06:58 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-02 19:06:58 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-02 19:06:58 | Info    |       | ##### STEP compile duration: 18.85s | SetupLog |||
2023-01-02 13:06:58 | Info    |       | operation 'async_action', peak memory usage. 15748136 | SetupLog |||
2023-01-02 19:07:53 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:07:53 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:07:53 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2023-01-02 13:07:53 | Info    |       | operation 'async_action', peak memory usage. 3077440 | SetupLog |||
2023-01-02 19:07:53 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:07:53 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:07:53 | Info    |       | operation 'async_action', peak memory usage. 3077472 | SetupLog |||
2023-01-02 19:07:53 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:07:53 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 13:08:25 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:08:25 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:08:25 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:08:31 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:08:35 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:08:35 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:08:43 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:08:43 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:08:52 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:08:52 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:09:00 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:09:17 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:09:19 | Info    |       | ##### STEP compile duration: 85.7s | SetupLog |||
2023-01-02 13:09:19 | Info    |       | operation 'async_action', peak memory usage. 26265888 | SetupLog |||
2023-01-02 19:09:21 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:09:21 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:09:23 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:09:32 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:09:32 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:09:32 | Info    |       | There is a total of 653 records in priv_change. | SetupLog |||
2023-01-02 19:09:32 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 19:09:32 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:09:32 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:09:34 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:09:35 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:09:40 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:09:40 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:09:40 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:09:40 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:09:40 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:09:40 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:09:40 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:09:40 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:09:40 | Info    |       | ##### STEP db-schema duration: 19.76s | SetupLog |||
2023-01-02 19:09:41 | Info    |       | operation 'async_action', peak memory usage. 18548960 | SetupLog |||
2023-01-02 19:09:42 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:09:42 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:09:44 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:48 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:09:49 | Info    |       | ##### STEP after-db-create duration: 7.35s | SetupLog |||
2023-01-02 19:09:49 | Info    |       | operation 'async_action', peak memory usage. 14359488 | SetupLog |||
2023-01-02 19:09:49 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:09:51 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | starting data load session | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 19:10:25 | Info    |       | ending data load session | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:10:25 | Info    |       | ##### STEP load-data duration: 35.53s | SetupLog |||
2023-01-02 19:10:25 | Info    |       | operation 'async_action', peak memory usage. 14409952 | SetupLog |||
2023-01-02 19:10:25 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 19:10:27 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:10:36 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 13:10:36 | Info    |       | ##### STEP create-config duration: 10.71s | SetupLog |||
2023-01-02 13:10:37 | Info    |       | operation 'async_action', peak memory usage. 15350216 | SetupLog |||
2023-01-02 13:10:42 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:13:21 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:13:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:13:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:13:25 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 13:13:25 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:13:25 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 13:13:25 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 13:13:27 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 13:13:28 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 13:13:28 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:13:28 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 13:13:28 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 19:14:11 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:14:11 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 19:14:11 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:14:11 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 13:14:12 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 19:14:12 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:14:12 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:14:12 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 19:14:12 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:14:12 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:14:12 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 13:14:53 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:14:53 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:14:53 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:14:59 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:15:02 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:15:02 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:15:10 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:15:10 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:15:20 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:15:20 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:15:28 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:15:46 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:15:48 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:15:48 | Info    |       | ##### STEP compile duration: 95.98s | SetupLog |||
2023-01-02 13:15:48 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 19:15:50 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:15:50 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:15:52 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:16:01 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:16:02 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:16:02 | Info    |       | There is a total of 654 records in priv_change. | SetupLog |||
2023-01-02 19:16:02 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 19:16:02 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:16:02 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:16:04 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:04 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:04 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:16:04 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:16:05 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:16:06 | Info    |       | 0.013s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:16:11 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:16:11 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:16:11 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:16:12 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:16:12 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:16:12 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:16:12 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:16:12 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:16:12 | Info    |       | ##### STEP db-schema duration: 22.49s | SetupLog |||
2023-01-02 19:16:13 | Info    |       | operation 'async_action', peak memory usage. 18599624 | SetupLog |||
2023-01-02 19:16:14 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:16:14 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:16:16 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:16:23 | Info    |       | ##### STEP after-db-create duration: 9.68s | SetupLog |||
2023-01-02 19:16:24 | Info    |       | operation 'async_action', peak memory usage. 14409672 | SetupLog |||
2023-01-02 19:16:24 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:16:27 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:16:29 | Info    |       | ##### STEP load-data duration: 4.64s | SetupLog |||
2023-01-02 19:16:29 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected ''m_value";s:19:"Trigger.de' (T_ENCAPSED_AND_WHITESPACE), no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-PTBR.php, line=55 | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ##### STEP  duration: 0.04s | SetupLog |||
2023-01-02 13:19:59 | Info    |       | operation 'async_action', peak memory usage. 3077952 | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:19:59 | Info    |       | operation 'async_action', peak memory usage. 3077984 | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:19:59 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:19:59 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 13:20:49 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:20:49 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:20:49 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:20:57 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:21:01 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:21:01 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:21:10 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:21:10 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:21:14 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:21:17 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 13:21:17 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:21:17 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 13:21:18 | Info    |       | operation 'async_action', peak memory usage. 3067728 | SetupLog |||
2023-01-02 13:21:20 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:21:20 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:21:21 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 13:21:25 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 13:21:25 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:21:25 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 13:21:25 | Info    |       | operation 'async_action', peak memory usage. 3067216 | SetupLog |||
2023-01-02 13:21:29 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:21:49 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:21:50 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:21:50 | Info    |       | ##### STEP compile duration: 110.57s | SetupLog |||
2023-01-02 13:21:50 | Info    |       | operation 'async_action', peak memory usage. 26363136 | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 13:24:39 | Info    |       | operation 'async_action', peak memory usage. 3078736 | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:24:39 | Info    |       | operation 'async_action', peak memory usage. 3077984 | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:24:39 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:24:39 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 13:25:32 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:25:32 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:25:32 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:25:40 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:25:45 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:25:45 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:25:55 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:25:55 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:26:04 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:26:04 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:26:15 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:26:32 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:26:33 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:26:33 | Info    |       | ##### STEP compile duration: 113.49s | SetupLog |||
2023-01-02 13:26:34 | Info    |       | operation 'async_action', peak memory usage. 26363136 | SetupLog |||
2023-01-02 19:26:35 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:26:35 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:26:37 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:26:49 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:26:49 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:26:49 | Info    |       | There is a total of 653 records in priv_change. | SetupLog |||
2023-01-02 19:26:49 | Info    |       | There are 1 useless records in priv_change (0.15%) | SetupLog |||
2023-01-02 19:26:49 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:26:49 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:26:52 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:26:53 | Info    |       | 0.013s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:27:00 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:27:00 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:27:01 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:27:01 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:27:01 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:27:01 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:27:01 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:27:01 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:27:01 | Info    |       | ##### STEP db-schema duration: 26.38s | SetupLog |||
2023-01-02 19:27:04 | Info    |       | operation 'async_action', peak memory usage. 18599624 | SetupLog |||
2023-01-02 19:27:05 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:27:05 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:27:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:27:14 | Info    |       | ##### STEP after-db-create duration: 9.79s | SetupLog |||
2023-01-02 19:27:15 | Info    |       | operation 'async_action', peak memory usage. 14409832 | SetupLog |||
2023-01-02 19:27:15 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:27:18 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:27:18 | Info    |       | ##### STEP load-data duration: 3.72s | SetupLog |||
2023-01-02 19:27:18 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected ''m_value";s:19:"Trigger.de' (T_ENCAPSED_AND_WHITESPACE), no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-HUHU.php, line=55 | SetupLog |||
2023-01-02 19:29:24 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:29:24 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:29:24 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 13:29:25 | Info    |       | operation 'async_action', peak memory usage. 3077952 | SetupLog |||
2023-01-02 19:29:25 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:29:25 | Info    |       | ##### STEP copy duration: 0.02s | SetupLog |||
2023-01-02 13:29:25 | Info    |       | operation 'async_action', peak memory usage. 3077984 | SetupLog |||
2023-01-02 19:29:25 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:29:25 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:29:26 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 19:29:46 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: items line 14 and item
Opening and ending tag mismatch: details line 14 and items
Opening and ending tag mismatch: presentation line 14 and details
Opening and ending tag mismatch: class line 14 and presentation
Opening and ending tag mismatch: classes line 14 and class
Opening and ending tag mismatch: itop_design line 14 and classes
Extra content at the end of the document
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-02 19:29:46 | Ok      |       | Call stack: | SetupLog |||
2023-01-02 19:29:46 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-02 19:29:46 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-02 19:29:46 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-02 19:29:46 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-02 19:29:46 | Info    |       | ##### STEP compile duration: 21.01s | SetupLog |||
2023-01-02 13:29:47 | Info    |       | operation 'async_action', peak memory usage. 15748632 | SetupLog |||
2023-01-02 19:30:45 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:30:45 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:30:45 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 13:30:46 | Info    |       | operation 'async_action', peak memory usage. 3077936 | SetupLog |||
2023-01-02 19:30:46 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:30:46 | Info    |       | ##### STEP copy duration: 0.03s | SetupLog |||
2023-01-02 13:30:46 | Info    |       | operation 'async_action', peak memory usage. 3077968 | SetupLog |||
2023-01-02 19:30:46 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:30:46 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:30:53 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: items line 14 and item
Opening and ending tag mismatch: details line 14 and items
Opening and ending tag mismatch: presentation line 14 and details
Opening and ending tag mismatch: class line 14 and presentation
Opening and ending tag mismatch: classes line 14 and class
Opening and ending tag mismatch: itop_design line 14 and classes
Extra content at the end of the document
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-02 19:30:53 | Ok      |       | Call stack: | SetupLog |||
2023-01-02 19:30:53 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-02 19:30:53 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-02 19:30:53 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-02 19:30:53 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-02 19:30:53 | Info    |       | ##### STEP compile duration: 7s | SetupLog |||
2023-01-02 13:30:53 | Info    |       | operation 'async_action', peak memory usage. 15651904 | SetupLog |||
2023-01-02 19:31:44 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:31:44 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:31:44 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2023-01-02 13:31:45 | Info    |       | operation 'async_action', peak memory usage. 3077936 | SetupLog |||
2023-01-02 19:31:45 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:31:45 | Info    |       | ##### STEP copy duration: 0.02s | SetupLog |||
2023-01-02 13:31:45 | Info    |       | operation 'async_action', peak memory usage. 3077968 | SetupLog |||
2023-01-02 19:31:45 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:31:45 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:31:52 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: items line 14 and item
Opening and ending tag mismatch: details line 14 and items
Opening and ending tag mismatch: presentation line 14 and details
Opening and ending tag mismatch: class line 14 and presentation
Opening and ending tag mismatch: classes line 14 and class
Opening and ending tag mismatch: itop_design line 14 and classes
Extra content at the end of the document
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-02 19:31:52 | Ok      |       | Call stack: | SetupLog |||
2023-01-02 19:31:52 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-02 19:31:52 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-02 19:31:52 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-02 19:31:52 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-02 19:31:52 | Info    |       | ##### STEP compile duration: 7.17s | SetupLog |||
2023-01-02 13:31:52 | Info    |       | operation 'async_action', peak memory usage. 15651904 | SetupLog |||
2023-01-02 19:33:11 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:33:11 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:33:11 | Info    |       | ##### STEP  duration: 0.12s | SetupLog |||
2023-01-02 13:33:12 | Info    |       | operation 'async_action', peak memory usage. 3077936 | SetupLog |||
2023-01-02 19:33:12 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:33:12 | Info    |       | ##### STEP copy duration: 0.02s | SetupLog |||
2023-01-02 13:33:12 | Info    |       | operation 'async_action', peak memory usage. 3077968 | SetupLog |||
2023-01-02 19:33:12 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:33:12 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 13:33:51 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:33:51 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:33:51 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:33:57 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:34:01 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:34:01 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:34:11 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:34:11 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:34:23 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:34:23 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:34:33 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:34:51 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:34:51 | Info    |       | ##### STEP compile duration: 99.07s | SetupLog |||
2023-01-02 13:34:52 | Info    |       | operation 'async_action', peak memory usage. 26266424 | SetupLog |||
2023-01-02 19:34:54 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:34:54 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:34:56 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:35:06 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:35:06 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:35:06 | Info    |       | There is a total of 653 records in priv_change. | SetupLog |||
2023-01-02 19:35:06 | Info    |       | There are 1 useless records in priv_change (0.15%) | SetupLog |||
2023-01-02 19:35:06 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:35:06 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:35:08 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:35:09 | Info    |       | 0.013s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:35:14 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:35:14 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:35:14 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:35:14 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:35:14 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:35:14 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:35:14 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:35:14 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:35:14 | Info    |       | ##### STEP db-schema duration: 20.89s | SetupLog |||
2023-01-02 19:35:15 | Info    |       | operation 'async_action', peak memory usage. 18600240 | SetupLog |||
2023-01-02 19:35:16 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:35:16 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:35:18 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:35:22 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:22 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:22 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:35:22 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:35:22 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:35:23 | Info    |       | ##### STEP after-db-create duration: 7.32s | SetupLog |||
2023-01-02 19:35:23 | Info    |       | operation 'async_action', peak memory usage. 14409264 | SetupLog |||
2023-01-02 19:35:23 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:35:25 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | starting data load session | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 19:36:01 | Info    |       | ending data load session | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:36:01 | Info    |       | ##### STEP load-data duration: 37.67s | SetupLog |||
2023-01-02 19:36:02 | Info    |       | operation 'async_action', peak memory usage. 14459248 | SetupLog |||
2023-01-02 19:36:02 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 19:36:04 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:36:15 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 13:36:15 | Info    |       | ##### STEP create-config duration: 12.88s | SetupLog |||
2023-01-02 13:36:16 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 13:36:19 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:38:34 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:38:35 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:38:36 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 13:38:36 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:38:36 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 13:38:37 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 13:38:38 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 13:38:40 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 13:38:40 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:38:40 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 13:38:40 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 19:39:39 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:39:39 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 19:39:39 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:39:39 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 13:39:40 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 19:39:40 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:39:40 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:39:40 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 19:39:40 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:39:40 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:39:40 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 13:40:33 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:40:33 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:40:33 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:40:42 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:40:47 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:40:47 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:40:57 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:40:57 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:41:06 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:41:06 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:41:15 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:41:32 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:41:33 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:41:33 | Info    |       | ##### STEP compile duration: 113s | SetupLog |||
2023-01-02 13:41:34 | Info    |       | operation 'async_action', peak memory usage. 26317544 | SetupLog |||
2023-01-02 19:41:35 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:41:35 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:41:37 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:41:46 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:41:46 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:41:46 | Info    |       | There is a total of 655 records in priv_change. | SetupLog |||
2023-01-02 19:41:46 | Info    |       | There are 2 useless records in priv_change (0.31%) | SetupLog |||
2023-01-02 19:41:46 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:41:46 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:48 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:41:48 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:41:49 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:41:49 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:41:55 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:41:55 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:41:55 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:41:55 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:41:55 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:41:55 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:41:55 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:41:55 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:41:55 | Info    |       | ##### STEP db-schema duration: 20.31s | SetupLog |||
2023-01-02 19:41:56 | Info    |       | operation 'async_action', peak memory usage. 18664664 | SetupLog |||
2023-01-02 19:41:56 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:41:56 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:41:59 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:42:06 | Info    |       | ##### STEP after-db-create duration: 9.97s | SetupLog |||
2023-01-02 19:42:07 | Info    |       | operation 'async_action', peak memory usage. 14475032 | SetupLog |||
2023-01-02 19:42:08 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:42:10 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:42:11 | Info    |       | ##### STEP load-data duration: 3.5s | SetupLog |||
2023-01-02 19:42:11 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected end of file, expecting ')', no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-ESCR.php, line=42 | SetupLog |||
2023-01-02 19:44:32 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:44:32 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:44:32 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 13:44:33 | Info    |       | operation 'async_action', peak memory usage. 3077952 | SetupLog |||
2023-01-02 19:44:33 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:44:33 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:44:33 | Info    |       | operation 'async_action', peak memory usage. 3077984 | SetupLog |||
2023-01-02 19:44:33 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:44:33 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:44:33 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 13:45:33 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:45:33 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:45:33 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:45:40 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:45:43 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:45:43 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:45:53 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:45:53 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:46:01 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:46:01 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:46:10 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:46:28 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:46:29 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:46:29 | Info    |       | ##### STEP compile duration: 115.9s | SetupLog |||
2023-01-02 13:46:29 | Info    |       | operation 'async_action', peak memory usage. 26318080 | SetupLog |||
2023-01-02 19:46:31 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:46:31 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:46:34 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:46:45 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:46:46 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:46:46 | Info    |       | There is a total of 654 records in priv_change. | SetupLog |||
2023-01-02 19:46:46 | Info    |       | There are 1 useless records in priv_change (0.15%) | SetupLog |||
2023-01-02 19:46:46 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:46:46 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:48 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:48 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:46:49 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:46:50 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:46:55 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:46:55 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:46:55 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:46:55 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:46:56 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:46:56 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:46:56 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:46:56 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:46:56 | Info    |       | ##### STEP db-schema duration: 25.07s | SetupLog |||
2023-01-02 19:46:58 | Info    |       | operation 'async_action', peak memory usage. 18666648 | SetupLog |||
2023-01-02 19:46:58 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:46:58 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:47:01 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:47:10 | Info    |       | ##### STEP after-db-create duration: 12.47s | SetupLog |||
2023-01-02 19:47:11 | Info    |       | operation 'async_action', peak memory usage. 14475032 | SetupLog |||
2023-01-02 19:47:11 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:47:14 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:47:15 | Info    |       | ##### STEP load-data duration: 4.23s | SetupLog |||
2023-01-02 19:47:15 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected ''O:20:"CharConc' (T_ENCAPSED_AND_WHITESPACE), no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-FRFR.php, line=222 | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:52:54 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 13:52:58 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 13:53:01 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 13:53:01 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:53:01 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 13:53:01 | Info    |       | operation 'async_action', peak memory usage. 3067744 | SetupLog |||
2023-01-02 13:53:03 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 13:53:05 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 13:53:05 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 13:53:05 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 13:53:05 | Info    |       | operation 'async_action', peak memory usage. 3067232 | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 13:54:04 | Info    |       | operation 'async_action', peak memory usage. 3077952 | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 13:54:04 | Info    |       | operation 'async_action', peak memory usage. 3077984 | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 19:54:04 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 19:54:04 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 13:54:49 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:54:49 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 13:54:49 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 13:54:55 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 13:54:59 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:54:59 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 13:55:10 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 13:55:10 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 13:55:19 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 13:55:19 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 13:55:27 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 13:55:48 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 13:55:48 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 13:55:49 | Info    |       | ##### STEP compile duration: 104.06s | SetupLog |||
2023-01-02 13:55:49 | Info    |       | operation 'async_action', peak memory usage. 26318024 | SetupLog |||
2023-01-02 19:55:51 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 19:55:51 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 19:55:53 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:56:04 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 19:56:04 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 19:56:04 | Info    |       | There is a total of 654 records in priv_change. | SetupLog |||
2023-01-02 19:56:04 | Info    |       | There are 1 useless records in priv_change (0.15%) | SetupLog |||
2023-01-02 19:56:04 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 19:56:04 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:56:07 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 19:56:08 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 19:56:13 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 19:56:13 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 19:56:13 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 19:56:14 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 19:56:14 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 19:56:14 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:56:14 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 19:56:14 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 19:56:14 | Info    |       | ##### STEP db-schema duration: 23.47s | SetupLog |||
2023-01-02 19:56:15 | Info    |       | operation 'async_action', peak memory usage. 18664664 | SetupLog |||
2023-01-02 19:56:15 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 19:56:15 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 19:56:17 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 19:56:22 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:22 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:22 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 19:56:22 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 19:56:22 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 19:56:22 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:56:23 | Info    |       | ##### STEP after-db-create duration: 7.61s | SetupLog |||
2023-01-02 19:56:23 | Info    |       | operation 'async_action', peak memory usage. 14475192 | SetupLog |||
2023-01-02 19:56:23 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 19:56:25 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | starting data load session | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 19:57:00 | Info    |       | ending data load session | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 19:57:00 | Info    |       | ##### STEP load-data duration: 36.46s | SetupLog |||
2023-01-02 19:57:00 | Info    |       | operation 'async_action', peak memory usage. 14525656 | SetupLog |||
2023-01-02 19:57:00 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 19:57:02 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 13:57:11 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 13:57:11 | Info    |       | ##### STEP create-config duration: 10.87s | SetupLog |||
2023-01-02 13:57:12 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 13:57:15 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:03:00 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:03:00 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:03:00 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:03:00 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:03:01 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:03:03 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:03:05 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 14:03:05 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:03:05 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 14:03:05 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 14:03:15 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 14:03:27 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 14:03:27 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:03:27 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 14:03:27 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 20:04:41 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 20:04:41 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 20:04:41 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 20:04:41 | Info    |       | ##### STEP  duration: 0.13s | SetupLog |||
2023-01-02 14:04:41 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 20:04:42 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 20:04:42 | Info    |       | ##### STEP copy duration: 0.02s | SetupLog |||
2023-01-02 14:04:42 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 20:04:42 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 20:04:42 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 20:04:42 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 14:05:39 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:05:40 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:05:40 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 14:05:48 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 14:05:53 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:05:53 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 14:06:03 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:06:03 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 14:06:12 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 14:06:12 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 14:06:21 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 14:06:39 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 14:06:41 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 14:06:41 | Info    |       | ##### STEP compile duration: 119.08s | SetupLog |||
2023-01-02 14:06:41 | Info    |       | operation 'async_action', peak memory usage. 26317544 | SetupLog |||
2023-01-02 20:06:43 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 20:06:43 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 20:06:45 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:06:54 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 20:06:54 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 20:06:54 | Info    |       | There is a total of 656 records in priv_change. | SetupLog |||
2023-01-02 20:06:54 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 20:06:54 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 20:06:55 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:57 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:06:57 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:06:58 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 20:06:59 | Info    |       | 0.012s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 20:07:04 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 20:07:04 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 20:07:04 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 20:07:05 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 20:07:05 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 20:07:05 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:07:05 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:07:05 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 20:07:05 | Info    |       | ##### STEP db-schema duration: 22.48s | SetupLog |||
2023-01-02 20:07:07 | Info    |       | operation 'async_action', peak memory usage. 18714688 | SetupLog |||
2023-01-02 20:07:07 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 20:07:07 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 20:07:10 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:07:16 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:07:17 | Info    |       | ##### STEP after-db-create duration: 9.73s | SetupLog |||
2023-01-02 20:07:17 | Info    |       | operation 'async_action', peak memory usage. 14525216 | SetupLog |||
2023-01-02 20:07:18 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 20:07:20 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | starting data load session | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 20:07:57 | Info    |       | ending data load session | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:07:57 | Info    |       | ##### STEP load-data duration: 39.55s | SetupLog |||
2023-01-02 20:07:57 | Info    |       | operation 'async_action', peak memory usage. 14575680 | SetupLog |||
2023-01-02 20:07:58 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 20:08:00 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:08:12 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 14:08:12 | Info    |       | ##### STEP create-config duration: 14.36s | SetupLog |||
2023-01-02 14:08:13 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 14:08:16 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:09:59 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:10:01 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:10:03 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 14:10:03 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:10:03 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 14:10:03 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 14:10:05 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 14:10:06 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 14:10:06 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:10:06 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 14:10:06 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 20:11:33 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 20:11:33 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 20:11:33 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 20:11:34 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 14:11:34 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 20:11:34 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 20:11:34 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 14:11:34 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 20:11:34 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 20:11:34 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 20:11:34 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 14:12:35 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:12:35 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:12:35 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 14:12:43 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 14:12:49 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:12:49 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 14:13:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:13:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 14:13:12 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 14:13:12 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 14:13:24 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 14:13:46 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 14:13:50 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 14:13:50 | Info    |       | ##### STEP compile duration: 135.99s | SetupLog |||
2023-01-02 14:13:51 | Info    |       | operation 'async_action', peak memory usage. 26317488 | SetupLog |||
2023-01-02 20:13:53 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 20:13:53 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 20:13:55 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:14:06 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 20:14:06 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 20:14:06 | Info    |       | There is a total of 657 records in priv_change. | SetupLog |||
2023-01-02 20:14:06 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 20:14:06 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 20:14:06 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:14:10 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 20:14:11 | Info    |       | 0.012s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 20:14:16 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 20:14:16 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 20:14:16 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 20:14:16 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 20:14:16 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 20:14:16 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:14:16 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:14:16 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 20:14:16 | Info    |       | ##### STEP db-schema duration: 24.42s | SetupLog |||
2023-01-02 20:14:18 | Info    |       | operation 'async_action', peak memory usage. 18764712 | SetupLog |||
2023-01-02 20:14:18 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 20:14:18 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 20:14:20 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:14:26 | Info    |       | ##### STEP after-db-create duration: 8.27s | SetupLog |||
2023-01-02 20:14:27 | Info    |       | operation 'async_action', peak memory usage. 14575240 | SetupLog |||
2023-01-02 20:14:27 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 20:14:29 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | starting data load session | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 20:15:08 | Info    |       | ending data load session | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:15:08 | Info    |       | ##### STEP load-data duration: 41.6s | SetupLog |||
2023-01-02 20:15:09 | Info    |       | operation 'async_action', peak memory usage. 14625704 | SetupLog |||
2023-01-02 20:15:09 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 20:15:12 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:15:24 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 14:15:24 | Info    |       | ##### STEP create-config duration: 14.28s | SetupLog |||
2023-01-02 14:15:25 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 14:15:29 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:45:41 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:45:42 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:45:45 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 14:45:45 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:45:45 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 14:45:46 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 14:45:47 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 14:45:49 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 14:45:49 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:45:49 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 14:45:49 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 14:47:01 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 14:47:01 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 20:47:01 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 20:47:01 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 14:47:51 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:47:51 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:47:51 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 14:47:59 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 14:48:03 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:48:03 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 14:48:13 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:48:13 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 14:48:26 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 14:48:26 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 14:48:37 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 14:48:55 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 14:48:59 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 14:48:59 | Info    |       | ##### STEP compile duration: 117.76s | SetupLog |||
2023-01-02 14:49:00 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 20:49:01 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 20:49:01 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 20:49:04 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:49:14 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 20:49:14 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 20:49:14 | Info    |       | There is a total of 659 records in priv_change. | SetupLog |||
2023-01-02 20:49:14 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 20:49:14 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 20:49:14 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:16 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:49:16 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:49:17 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 20:49:18 | Info    |       | 0.012s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 20:49:23 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 20:49:23 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 20:49:23 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 20:49:23 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 20:49:23 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 20:49:23 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:49:23 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:49:23 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 20:49:23 | Info    |       | ##### STEP db-schema duration: 22.67s | SetupLog |||
2023-01-02 20:49:25 | Info    |       | operation 'async_action', peak memory usage. 18831120 | SetupLog |||
2023-01-02 20:49:25 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 20:49:25 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 20:49:27 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:49:33 | Info    |       | ##### STEP after-db-create duration: 7.73s | SetupLog |||
2023-01-02 20:49:33 | Info    |       | operation 'async_action', peak memory usage. 14641648 | SetupLog |||
2023-01-02 20:49:33 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 20:49:36 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | starting data load session | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 20:50:12 | Info    |       | ending data load session | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:50:12 | Info    |       | ##### STEP load-data duration: 38.63s | SetupLog |||
2023-01-02 20:50:13 | Info    |       | operation 'async_action', peak memory usage. 14692112 | SetupLog |||
2023-01-02 20:50:13 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 20:50:17 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:50:27 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 14:50:27 | Info    |       | ##### STEP create-config duration: 13.92s | SetupLog |||
2023-01-02 14:50:28 | Info    |       | operation 'async_action', peak memory usage. 15349488 | SetupLog |||
2023-01-02 14:50:31 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:53:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 14:53:23 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 14:54:31 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 14:54:31 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:54:31 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 14:54:32 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 14:54:33 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 14:54:36 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 14:54:36 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 14:54:36 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 14:54:36 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 20:55:33 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 20:55:33 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 20:55:33 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 20:55:34 | Info    |       | ##### STEP  duration: 0.12s | SetupLog |||
2023-01-02 14:55:34 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 20:55:34 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 20:55:34 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 14:55:34 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 20:55:34 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 20:55:34 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 20:55:34 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 14:56:22 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:56:22 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 14:56:22 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 14:56:29 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 14:56:33 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:56:33 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 14:56:41 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 14:56:41 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 14:56:50 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 14:56:50 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 14:56:59 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 14:57:16 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 14:57:18 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 14:57:18 | Info    |       | ##### STEP compile duration: 103.74s | SetupLog |||
2023-01-02 14:57:18 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 20:57:20 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 20:57:20 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 20:57:21 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:57:30 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 20:57:30 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 20:57:30 | Info    |       | There is a total of 660 records in priv_change. | SetupLog |||
2023-01-02 20:57:30 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 20:57:30 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 20:57:30 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:32 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:57:33 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 20:57:33 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 20:57:38 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 20:57:38 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 20:57:38 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 20:57:38 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 20:57:38 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 20:57:38 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:57:38 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 20:57:38 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 20:57:38 | Info    |       | ##### STEP db-schema duration: 18.98s | SetupLog |||
2023-01-02 20:57:39 | Info    |       | operation 'async_action', peak memory usage. 18888056 | SetupLog |||
2023-01-02 20:57:40 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 20:57:40 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 20:57:42 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:46 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:57:47 | Info    |       | ##### STEP after-db-create duration: 7.2s | SetupLog |||
2023-01-02 20:57:47 | Info    |       | operation 'async_action', peak memory usage. 14698584 | SetupLog |||
2023-01-02 20:57:47 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 20:57:49 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | starting data load session | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 20:58:22 | Info    |       | ending data load session | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 20:58:22 | Info    |       | ##### STEP load-data duration: 34.74s | SetupLog |||
2023-01-02 20:58:23 | Info    |       | operation 'async_action', peak memory usage. 14749048 | SetupLog |||
2023-01-02 20:58:23 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 20:58:25 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 14:58:32 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 14:58:32 | Info    |       | ##### STEP create-config duration: 9.5s | SetupLog |||
2023-01-02 14:58:33 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 14:58:35 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 15:18:04 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 15:18:05 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 15:18:09 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 15:18:09 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 15:18:09 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 15:18:10 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 15:18:11 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 15:18:12 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 15:18:12 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 15:18:12 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 15:18:13 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 21:27:09 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 21:27:09 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 21:27:09 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 21:27:09 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 15:27:10 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 21:27:10 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 21:27:10 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 15:27:10 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 21:27:10 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 21:27:10 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 21:27:10 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 15:27:55 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 15:27:55 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 15:27:55 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 15:28:02 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 15:28:05 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 15:28:05 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 15:28:14 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 15:28:14 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 15:28:23 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 15:28:23 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 15:28:31 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 15:28:47 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 15:28:50 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 15:28:50 | Info    |       | ##### STEP compile duration: 99.48s | SetupLog |||
2023-01-02 15:28:50 | Info    |       | operation 'async_action', peak memory usage. 26362600 | SetupLog |||
2023-01-02 21:28:51 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 21:28:51 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 21:28:53 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 21:29:01 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 21:29:01 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 21:29:01 | Info    |       | There is a total of 661 records in priv_change. | SetupLog |||
2023-01-02 21:29:01 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 21:29:01 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 21:29:01 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:03 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:03 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 21:29:04 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:04 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:04 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:29:04 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:29:04 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 21:29:04 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 21:29:09 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 21:29:09 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 21:29:09 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 21:29:09 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 21:29:09 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 21:29:09 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 21:29:09 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 21:29:09 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 21:29:09 | Info    |       | ##### STEP db-schema duration: 17.87s | SetupLog |||
2023-01-02 21:29:10 | Info    |       | operation 'async_action', peak memory usage. 18954464 | SetupLog |||
2023-01-02 21:29:11 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 21:29:11 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 21:29:12 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:29:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:29:18 | Info    |       | ##### STEP after-db-create duration: 7.18s | SetupLog |||
2023-01-02 21:29:18 | Info    |       | operation 'async_action', peak memory usage. 14764992 | SetupLog |||
2023-01-02 21:29:18 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 21:29:20 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | starting data load session | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 21:29:57 | Info    |       | ending data load session | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:29:57 | Info    |       | ##### STEP load-data duration: 38.64s | SetupLog |||
2023-01-02 21:29:57 | Info    |       | operation 'async_action', peak memory usage. 14815456 | SetupLog |||
2023-01-02 21:29:57 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 21:29:59 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 15:30:09 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 15:30:09 | Info    |       | ##### STEP create-config duration: 11.69s | SetupLog |||
2023-01-02 15:30:10 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 15:30:13 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 15:33:11 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 15:33:13 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 15:33:14 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 15:33:14 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 15:33:14 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 15:33:15 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 15:33:16 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 15:33:18 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 15:33:18 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 15:33:18 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 15:33:18 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 15:34:53 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 15:34:53 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 21:34:53 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 21:34:53 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 15:35:48 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 15:35:48 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 15:35:48 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 15:35:55 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 15:35:59 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 15:35:59 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 15:36:07 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 15:36:07 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 15:36:16 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 15:36:16 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 15:36:25 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 15:36:45 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 15:36:47 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 15:36:47 | Info    |       | ##### STEP compile duration: 113.95s | SetupLog |||
2023-01-02 15:36:48 | Info    |       | operation 'async_action', peak memory usage. 26317544 | SetupLog |||
2023-01-02 21:36:49 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 21:36:49 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 21:36:51 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 21:37:00 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 21:37:00 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 21:37:00 | Info    |       | There is a total of 662 records in priv_change. | SetupLog |||
2023-01-02 21:37:00 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 21:37:00 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 21:37:00 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:02 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:02 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:37:03 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 21:37:04 | Info    |       | 0.023s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 21:37:12 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 21:37:12 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 21:37:12 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 21:37:13 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 21:37:13 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 21:37:13 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 21:37:13 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 21:37:13 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 21:37:13 | Info    |       | ##### STEP db-schema duration: 24.14s | SetupLog |||
2023-01-02 21:37:15 | Info    |       | operation 'async_action', peak memory usage. 19004488 | SetupLog |||
2023-01-02 21:37:16 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 21:37:16 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 21:37:18 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:37:23 | Info    |       | ##### STEP after-db-create duration: 7.21s | SetupLog |||
2023-01-02 21:37:23 | Info    |       | operation 'async_action', peak memory usage. 14815016 | SetupLog |||
2023-01-02 21:37:23 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 21:37:25 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 21:37:59 | Info    |       | starting data load session | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 21:38:00 | Info    |       | ending data load session | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:38:00 | Info    |       | ##### STEP load-data duration: 36.26s | SetupLog |||
2023-01-02 21:38:00 | Info    |       | operation 'async_action', peak memory usage. 14865480 | SetupLog |||
2023-01-02 21:38:00 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 21:38:02 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 15:38:11 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 15:38:11 | Info    |       | ##### STEP create-config duration: 11.12s | SetupLog |||
2023-01-02 15:38:13 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 15:38:15 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 15:44:03 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 15:44:09 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 15:44:09 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 15:44:09 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 15:44:10 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 15:44:13 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 15:44:16 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 15:44:16 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 15:44:16 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 15:44:16 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-02 15:45:08 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 15:45:08 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 21:45:08 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 21:45:08 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 15:45:58 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 15:45:58 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 15:45:58 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 15:46:04 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 15:46:07 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 15:46:07 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 15:46:18 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 15:46:18 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 15:46:26 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 15:46:26 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 15:46:34 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 15:46:51 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 15:46:54 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 15:46:54 | Info    |       | ##### STEP compile duration: 105.76s | SetupLog |||
2023-01-02 15:46:55 | Info    |       | operation 'async_action', peak memory usage. 26317488 | SetupLog |||
2023-01-02 21:46:56 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 21:46:56 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 21:46:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 21:47:07 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 21:47:07 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 21:47:07 | Info    |       | There is a total of 664 records in priv_change. | SetupLog |||
2023-01-02 21:47:07 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 21:47:07 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 21:47:07 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 21:47:09 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:09 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:09 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 21:47:09 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 21:47:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 21:47:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:47:10 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 21:47:11 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 21:47:15 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 21:47:15 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 21:47:15 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 21:47:15 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 21:47:15 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 21:47:16 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 21:47:16 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 21:47:16 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 21:47:16 | Info    |       | ##### STEP db-schema duration: 19.88s | SetupLog |||
2023-01-02 21:47:17 | Info    |       | operation 'async_action', peak memory usage. 19070896 | SetupLog |||
2023-01-02 21:47:17 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 21:47:17 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 21:47:19 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:47:24 | Info    |       | ##### STEP after-db-create duration: 7.3s | SetupLog |||
2023-01-02 21:47:25 | Info    |       | operation 'async_action', peak memory usage. 14881424 | SetupLog |||
2023-01-02 21:47:25 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 21:47:27 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | starting data load session | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 21:48:01 | Info    |       | ending data load session | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 21:48:01 | Info    |       | ##### STEP load-data duration: 36.09s | SetupLog |||
2023-01-02 21:48:01 | Info    |       | operation 'async_action', peak memory usage. 14931888 | SetupLog |||
2023-01-02 21:48:02 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 21:48:04 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 15:48:12 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 15:48:12 | Info    |       | ##### STEP create-config duration: 10.47s | SetupLog |||
2023-01-02 15:48:13 | Info    |       | operation 'async_action', peak memory usage. 15352304 | SetupLog |||
2023-01-02 15:48:16 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 16:00:13 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 16:00:14 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 16:00:18 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 16:00:18 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 16:00:18 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 16:00:19 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 16:00:20 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 16:00:22 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 16:00:22 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 16:00:22 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 16:00:22 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 22:01:23 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 22:01:23 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 22:01:23 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 22:01:23 | Info    |       | ##### STEP  duration: 0.12s | SetupLog |||
2023-01-02 16:01:23 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 22:01:23 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 22:01:23 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 16:01:24 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 22:01:24 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 22:01:24 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 22:01:24 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 16:02:09 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 16:02:09 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 16:02:09 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 16:02:16 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 16:02:19 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 16:02:19 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 16:02:29 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 16:02:29 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 16:02:38 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 16:02:38 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 16:02:47 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 16:03:06 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 16:03:07 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 16:03:07 | Info    |       | ##### STEP compile duration: 103.92s | SetupLog |||
2023-01-02 16:03:08 | Info    |       | operation 'async_action', peak memory usage. 26317688 | SetupLog |||
2023-01-02 22:03:10 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 22:03:10 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 22:03:12 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 22:03:28 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 22:03:28 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 22:03:28 | Info    |       | There is a total of 665 records in priv_change. | SetupLog |||
2023-01-02 22:03:28 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 22:03:28 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 22:03:28 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 22:03:31 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 22:03:33 | Info    |       | 0.018s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 22:03:39 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 22:03:39 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 22:03:40 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 22:03:40 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 22:03:40 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 22:03:40 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 22:03:40 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 22:03:40 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 22:03:40 | Info    |       | ##### STEP db-schema duration: 30.96s | SetupLog |||
2023-01-02 22:03:43 | Info    |       | operation 'async_action', peak memory usage. 19121320 | SetupLog |||
2023-01-02 22:03:44 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 22:03:44 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 22:03:47 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 22:03:54 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 22:03:55 | Info    |       | ##### STEP after-db-create duration: 10.98s | SetupLog |||
2023-01-02 22:03:55 | Info    |       | operation 'async_action', peak memory usage. 14931848 | SetupLog |||
2023-01-02 22:03:55 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 22:03:57 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | starting data load session | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 22:04:37 | Info    |       | ending data load session | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 22:04:37 | Info    |       | ##### STEP load-data duration: 42.07s | SetupLog |||
2023-01-02 22:04:38 | Info    |       | operation 'async_action', peak memory usage. 14982312 | SetupLog |||
2023-01-02 22:04:38 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 22:04:40 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 16:04:48 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 16:04:48 | Info    |       | ##### STEP create-config duration: 9.91s | SetupLog |||
2023-01-02 16:04:49 | Info    |       | operation 'async_action', peak memory usage. 15352704 | SetupLog |||
2023-01-02 16:04:51 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 17:47:36 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 17:47:41 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 17:47:48 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 17:47:48 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 17:47:48 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 17:47:49 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 17:47:54 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 17:47:59 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 17:47:59 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 17:47:59 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 17:48:00 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-02 23:52:52 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-02 23:52:52 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-02 23:52:52 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-02 23:52:53 | Info    |       | ##### STEP  duration: 0.46s | SetupLog |||
2023-01-02 17:52:56 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-02 23:52:56 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-02 23:52:56 | Info    |       | ##### STEP copy duration: 0.2s | SetupLog |||
2023-01-02 17:52:57 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-02 23:52:57 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-02 23:52:57 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 23:52:57 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 17:54:21 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 17:54:21 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 17:54:21 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 17:54:29 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 17:54:35 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 17:54:35 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 17:54:55 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 17:54:55 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 17:55:08 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 17:55:08 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 17:55:16 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 17:55:54 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 17:56:00 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 17:56:00 | Info    |       | ##### STEP compile duration: 182.82s | SetupLog |||
2023-01-02 17:56:02 | Info    |       | operation 'async_action', peak memory usage. 26362648 | SetupLog |||
2023-01-02 23:56:07 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-02 23:56:07 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-02 23:56:12 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 23:56:35 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-02 23:56:35 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-02 23:56:35 | Info    |       | There is a total of 666 records in priv_change. | SetupLog |||
2023-01-02 23:56:35 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-02 23:56:35 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-02 23:56:36 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:39 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 23:56:39 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 23:56:40 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-02 23:56:41 | Info    |       | 0.016s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-02 23:56:53 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-02 23:56:53 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-02 23:56:53 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-02 23:56:54 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-02 23:56:54 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-02 23:56:54 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-02 23:56:54 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-02 23:56:54 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-02 23:56:54 | Info    |       | ##### STEP db-schema duration: 48.46s | SetupLog |||
2023-01-02 23:56:55 | Info    |       | operation 'async_action', peak memory usage. 19195808 | SetupLog |||
2023-01-02 23:56:56 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-02 23:56:56 | Info    |       | After Database Creation | SetupLog |||
2023-01-02 23:56:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 23:57:09 | Info    |       | ##### STEP after-db-create duration: 13.45s | SetupLog |||
2023-01-02 23:57:09 | Info    |       | operation 'async_action', peak memory usage. 15006336 | SetupLog |||
2023-01-02 23:57:10 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-02 23:57:12 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | starting data load session | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-02 23:58:13 | Info    |       | ending data load session | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-02 23:58:13 | Info    |       | ##### STEP load-data duration: 63.3s | SetupLog |||
2023-01-02 23:58:14 | Info    |       | operation 'async_action', peak memory usage. 15056800 | SetupLog |||
2023-01-02 23:58:14 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-02 23:58:16 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 17:58:36 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 17:58:36 | Info    |       | ##### STEP create-config duration: 22.1s | SetupLog |||
2023-01-02 17:58:38 | Info    |       | operation 'async_action', peak memory usage. 15352400 | SetupLog |||
2023-01-02 17:58:45 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 19:10:09 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 19:10:10 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 19:10:12 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 19:10:12 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 19:10:12 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 19:10:12 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 19:10:15 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 19:10:17 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 19:10:17 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 19:10:17 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 19:10:17 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 01:11:09 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 01:11:09 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 01:11:09 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 01:11:09 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 19:11:10 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 01:11:10 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 01:11:10 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 19:11:10 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 01:11:10 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 01:11:10 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 01:11:10 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 19:12:09 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 19:12:09 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 19:12:09 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 19:12:16 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 19:12:20 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 19:12:20 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 19:12:31 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 19:12:31 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 19:12:44 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 19:12:44 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 19:12:55 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 19:13:15 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 19:13:18 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 19:13:19 | Info    |       | ##### STEP compile duration: 128.81s | SetupLog |||
2023-01-02 19:13:19 | Info    |       | operation 'async_action', peak memory usage. 26362648 | SetupLog |||
2023-01-03 01:13:21 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 01:13:21 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 01:13:23 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 01:13:33 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 01:13:33 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 01:13:33 | Info    |       | There is a total of 667 records in priv_change. | SetupLog |||
2023-01-03 01:13:33 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-03 01:13:33 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 01:13:33 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 01:13:35 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 01:13:36 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 01:13:41 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 01:13:41 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 01:13:41 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 01:13:41 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 01:13:41 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 01:13:41 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 01:13:41 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 01:13:41 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 01:13:41 | Info    |       | ##### STEP db-schema duration: 20.92s | SetupLog |||
2023-01-03 01:13:43 | Info    |       | operation 'async_action', peak memory usage. 19245864 | SetupLog |||
2023-01-03 01:13:43 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 01:13:43 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 01:13:45 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:49 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 01:13:50 | Info    |       | ##### STEP after-db-create duration: 6.92s | SetupLog |||
2023-01-03 01:13:50 | Info    |       | operation 'async_action', peak memory usage. 15056392 | SetupLog |||
2023-01-03 01:13:50 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 01:13:53 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | starting data load session | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 01:14:31 | Info    |       | ending data load session | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 01:14:31 | Info    |       | ##### STEP load-data duration: 40.36s | SetupLog |||
2023-01-03 01:14:31 | Info    |       | operation 'async_action', peak memory usage. 15106856 | SetupLog |||
2023-01-03 01:14:31 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 01:14:33 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 19:14:42 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 19:14:42 | Info    |       | ##### STEP create-config duration: 10.14s | SetupLog |||
2023-01-02 19:14:43 | Info    |       | operation 'async_action', peak memory usage. 15352400 | SetupLog |||
2023-01-02 19:14:45 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 19:55:24 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 19:55:25 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 19:55:27 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 19:55:27 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 19:55:27 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 19:55:27 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 19:55:29 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 19:55:30 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 19:55:30 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 19:55:30 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 19:55:30 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2023-01-02 19:56:46 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 19:56:46 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 01:56:46 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 01:56:46 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-03 01:57:07 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: class line 13 and classes
Opening and ending tag mismatch: class line 13 and itop_design
EndTag: '</' not found
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,combodo-db-tools,itop-config-mgmt,itop-core-update,itop-datacenter-mgmt,itop-endusers-devices,itop-faq-light,itop-hub-connector,itop-incident-mgmt-itil,itop-knownerror-mgmt,itop-problem-mgmt,itop-request-mgmt-itil,itop-service-mgmt,itop-virtualization-mgmt,qv-plugin-itop-customer,qv-plugin-itop-request-customer-field,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-03 01:57:07 | Ok      |       | Call stack: | SetupLog |||
2023-01-03 01:57:07 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-03 01:57:07 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-03 01:57:07 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-03 01:57:07 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-03 01:57:07 | Info    |       | ##### STEP compile duration: 20.5s | SetupLog |||
2023-01-02 19:57:07 | Info    |       | operation 'async_action', peak memory usage. 21801800 | SetupLog |||
2023-01-03 01:58:45 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 01:58:45 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 01:58:45 | Info    |       | ##### STEP  duration: 0.06s | SetupLog |||
2023-01-02 19:58:46 | Info    |       | operation 'async_action', peak memory usage. 3077440 | SetupLog |||
2023-01-03 01:58:46 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 01:58:46 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 19:58:46 | Info    |       | operation 'async_action', peak memory usage. 3077472 | SetupLog |||
2023-01-03 01:58:46 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 01:58:46 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 01:58:53 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: class line 13 and classes
Opening and ending tag mismatch: class line 13 and itop_design
EndTag: '</' not found
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,combodo-db-tools,itop-config-mgmt,itop-core-update,itop-datacenter-mgmt,itop-endusers-devices,itop-faq-light,itop-hub-connector,itop-incident-mgmt-itil,itop-knownerror-mgmt,itop-problem-mgmt,itop-request-mgmt-itil,itop-service-mgmt,itop-virtualization-mgmt,qv-plugin-itop-customer,qv-plugin-itop-request-customer-field,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-03 01:58:53 | Ok      |       | Call stack: | SetupLog |||
2023-01-03 01:58:53 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-03 01:58:53 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-03 01:58:53 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-03 01:58:53 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-03 01:58:53 | Info    |       | ##### STEP compile duration: 7.6s | SetupLog |||
2023-01-02 19:58:53 | Info    |       | operation 'async_action', peak memory usage. 21705088 | SetupLog |||
2023-01-03 02:00:23 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 02:00:23 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 02:00:23 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-02 20:00:24 | Info    |       | operation 'async_action', peak memory usage. 3077440 | SetupLog |||
2023-01-03 02:00:24 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 02:00:24 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 20:00:24 | Info    |       | operation 'async_action', peak memory usage. 3077472 | SetupLog |||
2023-01-03 02:00:24 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 02:00:24 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 02:00:31 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": Data model source file (/var/www/html/itop/extensions/cambio-requerimiento/datamodel.cambio-requerimiento.xml) could not be loaded : 
Opening and ending tag mismatch: class line 315 and itop_design
EndTag: '</' not found
 - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,combodo-db-tools,itop-config-mgmt,itop-core-update,itop-datacenter-mgmt,itop-endusers-devices,itop-faq-light,itop-hub-connector,itop-incident-mgmt-itil,itop-knownerror-mgmt,itop-problem-mgmt,itop-request-mgmt-itil,itop-service-mgmt,itop-virtualization-mgmt,qv-plugin-itop-customer,qv-plugin-itop-request-customer-field,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-03 02:00:31 | Ok      |       | Call stack: | SetupLog |||
2023-01-03 02:00:31 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-03 02:00:31 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-03 02:00:31 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-03 02:00:31 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-03 02:00:31 | Info    |       | ##### STEP compile duration: 7.24s | SetupLog |||
2023-01-02 20:00:31 | Info    |       | operation 'async_action', peak memory usage. 21705088 | SetupLog |||
2023-01-03 02:02:44 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 02:02:44 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 02:02:44 | Info    |       | ##### STEP  duration: 0.06s | SetupLog |||
2023-01-02 20:02:44 | Info    |       | operation 'async_action', peak memory usage. 3077440 | SetupLog |||
2023-01-03 02:02:44 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 02:02:44 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 20:02:44 | Info    |       | operation 'async_action', peak memory usage. 3077472 | SetupLog |||
2023-01-03 02:02:44 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 02:02:44 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 20:03:15 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 20:03:15 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 20:03:15 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 20:03:22 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 20:03:26 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 20:03:26 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 20:03:35 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 20:03:35 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 20:03:43 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 20:03:44 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 20:03:53 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 20:04:11 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 20:04:13 | Info    |       | ##### STEP compile duration: 88.9s | SetupLog |||
2023-01-02 20:04:14 | Info    |       | operation 'async_action', peak memory usage. 26266176 | SetupLog |||
2023-01-03 02:04:15 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 02:04:15 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 02:04:17 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 02:04:27 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 02:04:27 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 02:04:27 | Info    |       | There is a total of 668 records in priv_change. | SetupLog |||
2023-01-03 02:04:27 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-03 02:04:27 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 02:04:27 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 02:04:29 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:29 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:04:30 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 02:04:31 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 02:04:35 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 02:04:35 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 02:04:35 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 02:04:35 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 02:04:36 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 02:04:36 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 02:04:36 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 02:04:36 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 02:04:36 | Info    |       | ##### STEP db-schema duration: 20.93s | SetupLog |||
2023-01-03 02:04:37 | Info    |       | operation 'async_action', peak memory usage. 19309792 | SetupLog |||
2023-01-03 02:04:37 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 02:04:37 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 02:04:39 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 02:04:44 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:44 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:44 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 02:04:44 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:04:45 | Info    |       | ##### STEP after-db-create duration: 7.58s | SetupLog |||
2023-01-03 02:04:45 | Info    |       | operation 'async_action', peak memory usage. 15120320 | SetupLog |||
2023-01-03 02:04:45 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 02:04:47 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | starting data load session | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 02:05:21 | Info    |       | ending data load session | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:05:21 | Info    |       | ##### STEP load-data duration: 35.49s | SetupLog |||
2023-01-03 02:05:21 | Info    |       | operation 'async_action', peak memory usage. 15170784 | SetupLog |||
2023-01-03 02:05:22 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 02:05:24 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 20:05:33 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 20:05:33 | Info    |       | ##### STEP create-config duration: 11s | SetupLog |||
2023-01-02 20:05:34 | Info    |       | operation 'async_action', peak memory usage. 15349888 | SetupLog |||
2023-01-02 20:05:36 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 20:12:44 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 20:12:45 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 20:12:46 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 20:12:46 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 20:12:46 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 20:12:47 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 20:13:14 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 20:13:16 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 20:13:16 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 20:13:16 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 20:13:16 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 02:15:06 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 02:15:06 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 02:15:06 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 02:15:06 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 20:15:07 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 02:15:07 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 02:15:07 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 20:15:07 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 02:15:07 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 02:15:07 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 02:15:07 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-03 02:15:28 | Error   |       | An exception occurred: Error loading module "cambio-requerimiento": /itop_design/classes/class[Incident] at line 313: parent class '' could not be found - Loaded modules: dictionaries,core,application,authent-cas,authent-external,authent-ldap,authent-local,combodo-backoffice-darkmoon-theme,itop-attachments,itop-backup,itop-config,itop-files-information,itop-portal-base,itop-portal,itop-profiles-itil,itop-sla-computation,itop-structure,itop-themes-compat,itop-tickets,itop-welcome-itil,sample-extension-arbol,sample-itop-logos,sample-login-custom-css,sample-portal-new-theme,combodo-db-tools,itop-config-mgmt,itop-core-update,itop-datacenter-mgmt,itop-endusers-devices,itop-faq-light,itop-hub-connector,itop-incident-mgmt-itil,itop-knownerror-mgmt,itop-problem-mgmt,itop-request-mgmt-itil,itop-service-mgmt,itop-virtualization-mgmt,qv-plugin-itop-customer,qv-plugin-itop-request-customer-field,cambio-requerimiento at line 966 in file /var/www/html/itop/setup/modelfactory.class.inc.php | SetupLog |||
2023-01-03 02:15:28 | Ok      |       | Call stack: | SetupLog |||
2023-01-03 02:15:28 | Ok      |       | #0 /var/www/html/itop/setup/applicationinstaller.class.inc.php(604): ModelFactory->LoadModule(...) | SetupLog |||
2023-01-03 02:15:28 | Ok      |       | #1 /var/www/html/itop/setup/applicationinstaller.class.inc.php(289): ApplicationInstaller::DoCompile(...) | SetupLog |||
2023-01-03 02:15:28 | Ok      |       | #2 /var/www/html/itop/setup/wizardsteps.class.inc.php(2430): ApplicationInstaller->ExecuteStep(...) | SetupLog |||
2023-01-03 02:15:28 | Ok      |       | #3 /var/www/html/itop/setup/ajax.dataloader.php(173): WizStepSummary->AsyncAction(...) | SetupLog |||
2023-01-03 02:15:28 | Info    |       | ##### STEP compile duration: 21.08s | SetupLog |||
2023-01-02 20:15:28 | Info    |       | operation 'async_action', peak memory usage. 21801800 | SetupLog |||
2023-01-03 02:19:09 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 02:19:09 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 02:19:09 | Info    |       | ##### STEP  duration: 0.07s | SetupLog |||
2023-01-02 20:19:10 | Info    |       | operation 'async_action', peak memory usage. 3077440 | SetupLog |||
2023-01-03 02:19:10 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 02:19:10 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 20:19:10 | Info    |       | operation 'async_action', peak memory usage. 3077472 | SetupLog |||
2023-01-03 02:19:10 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 02:19:10 | Info    |       | Compiling data model. | SetupLog |||
2023-01-02 20:19:42 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 20:19:42 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 20:19:42 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 20:19:48 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 20:19:52 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 20:19:52 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 20:20:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 20:20:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 20:20:09 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 20:20:09 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 20:20:17 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 20:20:34 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 20:20:35 | Info    |       | ##### STEP compile duration: 85.69s | SetupLog |||
2023-01-02 20:20:36 | Info    |       | operation 'async_action', peak memory usage. 26221064 | SetupLog |||
2023-01-03 02:20:38 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 02:20:38 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 02:20:40 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 02:20:49 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 02:20:49 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 02:20:49 | Info    |       | There is a total of 669 records in priv_change. | SetupLog |||
2023-01-03 02:20:49 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-03 02:20:49 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 02:20:49 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:20:51 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 02:20:52 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 02:20:57 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 02:20:57 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 02:20:57 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 02:20:57 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 02:20:57 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 02:20:57 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 02:20:57 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 02:20:57 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 02:20:57 | Info    |       | ##### STEP db-schema duration: 19.98s | SetupLog |||
2023-01-03 02:20:59 | Info    |       | operation 'async_action', peak memory usage. 19360008 | SetupLog |||
2023-01-03 02:20:59 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 02:20:59 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 02:21:01 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:21:06 | Info    |       | ##### STEP after-db-create duration: 7.43s | SetupLog |||
2023-01-03 02:21:07 | Info    |       | operation 'async_action', peak memory usage. 15170536 | SetupLog |||
2023-01-03 02:21:07 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 02:21:09 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | starting data load session | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 02:21:43 | Info    |       | ending data load session | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:21:43 | Info    |       | ##### STEP load-data duration: 35.86s | SetupLog |||
2023-01-03 02:21:43 | Info    |       | operation 'async_action', peak memory usage. 15221000 | SetupLog |||
2023-01-03 02:21:44 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 02:21:45 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 20:21:53 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 20:21:53 | Info    |       | ##### STEP create-config duration: 9.34s | SetupLog |||
2023-01-02 20:21:54 | Info    |       | operation 'async_action', peak memory usage. 15349888 | SetupLog |||
2023-01-02 20:21:56 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 20:29:46 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-02 20:29:47 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-02 20:30:03 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-02 20:30:03 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 20:30:03 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-02 20:30:04 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-02 20:30:09 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-02 20:30:11 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-02 20:30:11 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-02 20:30:11 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-02 20:30:11 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-02 20:31:21 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-02 20:31:21 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 02:31:21 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 02:31:21 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-02 20:32:03 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 20:32:03 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-02 20:32:03 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-02 20:32:09 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-02 20:32:12 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-02 20:32:13 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-02 20:32:21 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-02 20:32:21 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-02 20:32:28 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-02 20:32:28 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-02 20:32:36 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-02 20:32:52 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-02 20:32:54 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-02 20:32:54 | Info    |       | ##### STEP compile duration: 93.43s | SetupLog |||
2023-01-02 20:32:55 | Info    |       | operation 'async_action', peak memory usage. 26317744 | SetupLog |||
2023-01-03 02:32:56 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 02:32:56 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 02:32:58 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 02:33:07 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 02:33:07 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 02:33:07 | Info    |       | There is a total of 670 records in priv_change. | SetupLog |||
2023-01-03 02:33:07 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-03 02:33:07 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 02:33:07 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:33:09 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 02:33:10 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 02:33:14 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 02:33:14 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 02:33:14 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 02:33:15 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 02:33:15 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 02:33:15 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 02:33:15 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 02:33:15 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 02:33:15 | Info    |       | ##### STEP db-schema duration: 18.86s | SetupLog |||
2023-01-03 02:33:16 | Info    |       | operation 'async_action', peak memory usage. 19426608 | SetupLog |||
2023-01-03 02:33:16 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 02:33:16 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 02:33:18 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:33:23 | Info    |       | ##### STEP after-db-create duration: 7.36s | SetupLog |||
2023-01-03 02:33:24 | Info    |       | operation 'async_action', peak memory usage. 15237136 | SetupLog |||
2023-01-03 02:33:24 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 02:33:26 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | starting data load session | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 02:33:57 | Info    |       | ending data load session | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:58 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:58 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 02:33:58 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 02:33:58 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 02:33:58 | Info    |       | ##### STEP load-data duration: 33.64s | SetupLog |||
2023-01-03 02:33:58 | Info    |       | operation 'async_action', peak memory usage. 15287600 | SetupLog |||
2023-01-03 02:33:58 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 02:34:00 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-02 20:34:08 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-02 20:34:08 | Info    |       | ##### STEP create-config duration: 10.15s | SetupLog |||
2023-01-02 20:34:09 | Info    |       | operation 'async_action', peak memory usage. 15369088 | SetupLog |||
2023-01-02 20:34:12 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-03 08:56:19 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-03 08:56:20 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-03 08:56:24 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-03 08:56:24 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-03 08:56:24 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-03 08:56:25 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-03 08:56:28 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-03 08:56:30 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-03 08:56:30 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-03 08:56:30 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-03 08:56:30 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 14:57:14 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 14:57:14 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 14:57:14 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 14:57:14 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-03 08:57:15 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 14:57:15 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 14:57:15 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-03 08:57:15 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 14:57:15 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 14:57:15 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 14:57:15 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-03 08:57:52 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 08:57:52 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 08:57:52 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-03 08:57:58 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-03 08:58:00 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-03 08:58:00 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-03 08:58:07 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-03 08:58:07 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-03 08:58:14 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-03 08:58:14 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-03 08:58:22 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-03 08:58:35 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-03 08:58:38 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-03 08:58:38 | Info    |       | ##### STEP compile duration: 83.49s | SetupLog |||
2023-01-03 08:58:39 | Info    |       | operation 'async_action', peak memory usage. 26362800 | SetupLog |||
2023-01-03 14:58:40 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 14:58:40 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 14:58:42 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 14:58:49 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 14:58:49 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 14:58:49 | Info    |       | There is a total of 672 records in priv_change. | SetupLog |||
2023-01-03 14:58:49 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-03 14:58:49 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 14:58:49 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 14:58:51 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 14:58:52 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 14:58:56 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 14:58:56 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 14:58:56 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 14:58:56 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 14:58:56 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 14:58:56 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 14:58:56 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 14:58:56 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 14:58:56 | Info    |       | ##### STEP db-schema duration: 16.34s | SetupLog |||
2023-01-03 14:58:57 | Info    |       | operation 'async_action', peak memory usage. 19476824 | SetupLog |||
2023-01-03 14:58:57 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 14:58:57 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 14:58:59 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 14:59:03 | Info    |       | ##### STEP after-db-create duration: 5.92s | SetupLog |||
2023-01-03 14:59:04 | Info    |       | operation 'async_action', peak memory usage. 15287352 | SetupLog |||
2023-01-03 14:59:04 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 14:59:05 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | starting data load session | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 14:59:34 | Info    |       | ending data load session | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 14:59:34 | Info    |       | ##### STEP load-data duration: 30.18s | SetupLog |||
2023-01-03 14:59:34 | Info    |       | operation 'async_action', peak memory usage. 15337816 | SetupLog |||
2023-01-03 14:59:34 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 14:59:36 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-03 08:59:44 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-03 08:59:44 | Info    |       | ##### STEP create-config duration: 9.5s | SetupLog |||
2023-01-03 08:59:45 | Info    |       | operation 'async_action', peak memory usage. 15419304 | SetupLog |||
2023-01-03 08:59:47 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-03 09:19:18 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-03 09:19:20 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-03 09:19:22 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-03 09:19:22 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-03 09:19:22 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-03 09:19:22 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-03 09:19:27 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-03 09:19:28 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-03 09:19:28 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-03 09:19:28 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-03 09:19:28 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 15:20:15 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 15:20:15 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 15:20:15 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 15:20:15 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2023-01-03 09:20:16 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 15:20:16 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 15:20:16 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-03 09:20:16 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 15:20:16 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 15:20:16 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 15:20:16 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-03 09:20:59 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 09:20:59 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 09:20:59 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-03 09:21:05 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-03 09:21:09 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-03 09:21:09 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-03 09:21:19 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-03 09:21:19 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-03 09:21:27 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-03 09:21:27 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-03 09:21:35 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-03 09:21:50 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-03 09:21:53 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-03 09:21:53 | Info    |       | ##### STEP compile duration: 97.07s | SetupLog |||
2023-01-03 09:21:53 | Info    |       | operation 'async_action', peak memory usage. 26363104 | SetupLog |||
2023-01-03 15:22:11 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 15:22:11 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 15:22:11 | Info    |       | ##### STEP  duration: 0.43s | SetupLog |||
2023-01-03 09:22:13 | Info    |       | operation 'async_action', peak memory usage. 5916752 | SetupLog |||
2023-01-03 15:22:13 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 15:22:13 | Info    |       | ##### STEP copy duration: 0.16s | SetupLog |||
2023-01-03 09:22:13 | Info    |       | operation 'async_action', peak memory usage. 3078144 | SetupLog |||
2023-01-03 15:22:13 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 15:22:13 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 15:22:13 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-03 09:22:53 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 09:22:53 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 09:22:53 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-03 09:22:59 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-03 09:23:02 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-03 09:23:02 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-03 09:23:11 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-03 09:23:11 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-03 09:23:21 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-03 09:23:21 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-03 09:23:30 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-03 09:23:54 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-03 09:23:54 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-03 09:23:54 | Info    |       | ##### STEP compile duration: 101.22s | SetupLog |||
2023-01-03 09:23:55 | Info    |       | operation 'async_action', peak memory usage. 26370096 | SetupLog |||
2023-01-03 15:23:57 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 15:23:57 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 15:24:03 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 15:24:14 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 15:24:14 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 15:24:14 | Info    |       | There is a total of 673 records in priv_change. | SetupLog |||
2023-01-03 15:24:14 | Info    |       | There are 2 useless records in priv_change (0.30%) | SetupLog |||
2023-01-03 15:24:14 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 15:24:14 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 15:24:16 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:24:17 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 15:24:18 | Info    |       | 0.015s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 15:24:24 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 15:24:24 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 15:24:24 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 15:24:24 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 15:24:24 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 15:24:24 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 15:24:24 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 15:24:24 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 15:24:24 | Info    |       | ##### STEP db-schema duration: 27.84s | SetupLog |||
2023-01-03 15:24:25 | Info    |       | operation 'async_action', peak memory usage. 19549504 | SetupLog |||
2023-01-03 15:24:26 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 15:24:26 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 15:24:27 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:24:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:24:33 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:24:33 | Info    |       | ##### STEP after-db-create duration: 7.1s | SetupLog |||
2023-01-03 15:24:33 | Info    |       | operation 'async_action', peak memory usage. 15358528 | SetupLog |||
2023-01-03 15:24:33 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 15:24:35 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | starting data load session | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 15:25:06 | Info    |       | ending data load session | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:25:06 | Info    |       | ##### STEP load-data duration: 33.26s | SetupLog |||
2023-01-03 15:25:07 | Info    |       | operation 'async_action', peak memory usage. 15408512 | SetupLog |||
2023-01-03 15:25:07 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 15:25:10 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-03 09:25:19 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-03 09:25:19 | Info    |       | ##### STEP create-config duration: 11.66s | SetupLog |||
2023-01-03 09:25:20 | Info    |       | operation 'async_action', peak memory usage. 15490000 | SetupLog |||
2023-01-03 09:25:23 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-03 09:54:52 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-03 09:54:53 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-03 09:54:57 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-03 09:54:57 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-03 09:54:57 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-03 09:54:58 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-03 09:54:59 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-03 09:55:00 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-03 09:55:00 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-03 09:55:00 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-03 09:55:01 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-03 15:56:45 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-03 15:56:45 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-03 15:56:45 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>sample-extension-arbol</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-03 15:56:45 | Info    |       | ##### STEP  duration: 0.12s | SetupLog |||
2023-01-03 09:56:45 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-03 15:56:46 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-03 15:56:46 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-03 09:56:46 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-03 15:56:46 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-03 15:56:46 | Info    |       | Compiling data model. | SetupLog |||
2023-01-03 15:56:46 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-03 09:57:32 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 09:57:32 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-03 09:57:32 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-03 09:57:38 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-03 09:57:41 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-03 09:57:41 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-03 09:57:48 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-03 09:57:48 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-03 09:57:56 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-03 09:57:56 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-03 09:58:05 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-03 09:58:21 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-03 09:58:23 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-03 09:58:23 | Info    |       | ##### STEP compile duration: 97.82s | SetupLog |||
2023-01-03 09:58:24 | Info    |       | operation 'async_action', peak memory usage. 26364688 | SetupLog |||
2023-01-03 15:58:25 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-03 15:58:25 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-03 15:58:27 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 15:58:35 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-03 15:58:35 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-03 15:58:35 | Info    |       | There is a total of 676 records in priv_change. | SetupLog |||
2023-01-03 15:58:35 | Info    |       | There are 3 useless records in priv_change (0.44%) | SetupLog |||
2023-01-03 15:58:35 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-03 15:58:35 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:37 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:37 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:58:38 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-03 15:58:39 | Info    |       | 0.011s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-03 15:58:43 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-03 15:58:43 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-03 15:58:43 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-03 15:58:43 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-03 15:58:43 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-03 15:58:43 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-03 15:58:43 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-03 15:58:43 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-03 15:58:43 | Info    |       | ##### STEP db-schema duration: 18.56s | SetupLog |||
2023-01-03 15:58:44 | Info    |       | operation 'async_action', peak memory usage. 19597736 | SetupLog |||
2023-01-03 15:58:45 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-03 15:58:45 | Info    |       | After Database Creation | SetupLog |||
2023-01-03 15:58:46 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:58:51 | Info    |       | ##### STEP after-db-create duration: 6.41s | SetupLog |||
2023-01-03 15:58:51 | Info    |       | operation 'async_action', peak memory usage. 15408264 | SetupLog |||
2023-01-03 15:58:52 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-03 15:58:54 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | starting data load session | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-03 15:59:25 | Info    |       | ending data load session | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-03 15:59:25 | Info    |       | ##### STEP load-data duration: 33.79s | SetupLog |||
2023-01-03 15:59:26 | Info    |       | operation 'async_action', peak memory usage. 15458728 | SetupLog |||
2023-01-03 15:59:26 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-03 15:59:28 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-03 09:59:36 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-03 09:59:36 | Info    |       | ##### STEP create-config duration: 10.14s | SetupLog |||
2023-01-03 09:59:37 | Info    |       | operation 'async_action', peak memory usage. 15540216 | SetupLog |||
2023-01-03 09:59:40 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 09:46:31 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 09:46:48 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 09:46:48 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 09:46:48 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 09:46:49 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-04 09:47:06 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 09:47:10 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 09:47:10 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 09:47:10 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 09:47:10 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-04 09:48:22 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 09:48:22 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 15:48:22 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 15:48:22 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 09:49:09 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 09:49:09 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 09:49:09 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 09:49:16 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 09:49:20 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 09:49:20 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 09:49:31 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 09:49:31 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 09:49:39 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 09:49:39 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 09:49:49 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 09:50:06 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 09:50:09 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 09:50:10 | Info    |       | ##### STEP compile duration: 107.25s | SetupLog |||
2023-01-04 09:50:10 | Info    |       | operation 'async_action', peak memory usage. 26364784 | SetupLog |||
2023-01-04 15:50:12 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 15:50:12 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 15:50:14 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 15:50:25 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 15:50:25 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 15:50:25 | Info    |       | There is a total of 678 records in priv_change. | SetupLog |||
2023-01-04 15:50:25 | Info    |       | There are 3 useless records in priv_change (0.44%) | SetupLog |||
2023-01-04 15:50:25 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 15:50:25 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 15:50:27 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 15:50:28 | Info    |       | 0.009s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 15:50:33 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 15:50:33 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 15:50:33 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 15:50:33 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 15:50:33 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 15:50:33 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 15:50:33 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 15:50:33 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 15:50:33 | Info    |       | ##### STEP db-schema duration: 21.5s | SetupLog |||
2023-01-04 15:50:35 | Info    |       | operation 'async_action', peak memory usage. 19648064 | SetupLog |||
2023-01-04 15:50:35 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 15:50:35 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 15:50:37 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 15:50:42 | Info    |       | ##### STEP after-db-create duration: 7.49s | SetupLog |||
2023-01-04 15:50:43 | Info    |       | operation 'async_action', peak memory usage. 15458576 | SetupLog |||
2023-01-04 15:50:43 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 15:50:45 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | starting data load session | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 15:51:19 | Info    |       | ending data load session | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 15:51:19 | Info    |       | ##### STEP load-data duration: 36.51s | SetupLog |||
2023-01-04 15:51:20 | Info    |       | operation 'async_action', peak memory usage. 15509040 | SetupLog |||
2023-01-04 15:51:20 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 15:51:22 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 09:51:31 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 09:51:31 | Info    |       | ##### STEP create-config duration: 11.47s | SetupLog |||
2023-01-04 09:51:32 | Info    |       | operation 'async_action', peak memory usage. 15590528 | SetupLog |||
2023-01-04 09:51:35 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 09:57:03 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 09:57:04 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 09:57:06 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 09:57:06 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 09:57:06 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 09:57:07 | Info    |       | operation 'async_action', peak memory usage. 3067248 | SetupLog |||
2023-01-04 09:57:08 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 09:57:10 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 09:57:10 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 09:57:10 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 09:57:10 | Info    |       | operation 'async_action', peak memory usage. 3066736 | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-04 09:58:29 | Info    |       | operation 'async_action', peak memory usage. 3077928 | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 09:58:29 | Info    |       | operation 'async_action', peak memory usage. 3077488 | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 15:58:29 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 15:58:29 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 09:59:12 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 09:59:12 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 09:59:12 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 09:59:18 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 09:59:21 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 09:59:21 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 09:59:29 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 09:59:29 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 09:59:37 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 09:59:37 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 09:59:45 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 10:00:01 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 10:00:03 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 10:00:04 | Info    |       | ##### STEP compile duration: 94.31s | SetupLog |||
2023-01-04 10:00:04 | Info    |       | operation 'async_action', peak memory usage. 26364872 | SetupLog |||
2023-01-04 16:00:05 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 16:00:05 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 16:00:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 16:00:16 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 16:00:16 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 16:00:16 | Info    |       | There is a total of 678 records in priv_change. | SetupLog |||
2023-01-04 16:00:16 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 16:00:16 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 16:00:16 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 16:00:18 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 16:00:19 | Info    |       | 0.008s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 16:00:23 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 16:00:23 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 16:00:23 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 16:00:23 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 16:00:24 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 16:00:24 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 16:00:24 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 16:00:24 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 16:00:24 | Info    |       | ##### STEP db-schema duration: 18.68s | SetupLog |||
2023-01-04 16:00:25 | Info    |       | operation 'async_action', peak memory usage. 19714760 | SetupLog |||
2023-01-04 16:00:25 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 16:00:25 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 16:00:27 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 16:00:32 | Info    |       | ##### STEP after-db-create duration: 7.08s | SetupLog |||
2023-01-04 16:00:32 | Info    |       | operation 'async_action', peak memory usage. 15525256 | SetupLog |||
2023-01-04 16:00:33 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 16:00:34 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | starting data load session | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 16:01:08 | Info    |       | ending data load session | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 16:01:08 | Info    |       | ##### STEP load-data duration: 35.45s | SetupLog |||
2023-01-04 16:01:08 | Info    |       | operation 'async_action', peak memory usage. 15575720 | SetupLog |||
2023-01-04 16:01:09 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 16:01:10 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 10:01:19 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 10:01:19 | Info    |       | ##### STEP create-config duration: 10.32s | SetupLog |||
2023-01-04 10:01:20 | Info    |       | operation 'async_action', peak memory usage. 15657208 | SetupLog |||
2023-01-04 10:01:22 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 10:56:42 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 10:56:46 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 10:56:47 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 10:56:47 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 10:56:47 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 10:56:47 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 10:56:54 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 10:56:54 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 10:56:54 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 10:56:58 | Info    |       | operation 'async_action', peak memory usage. 3067168 | SetupLog |||
2023-01-04 10:56:58 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 10:57:06 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 10:57:06 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 10:57:06 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 10:57:07 | Info    |       | operation 'async_action', peak memory usage. 3066656 | SetupLog |||
2023-01-04 17:02:23 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 17:02:23 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 17:02:23 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 17:02:23 | Info    |       | ##### STEP  duration: 0.6s | SetupLog |||
2023-01-04 11:02:27 | Info    |       | operation 'async_action', peak memory usage. 3077848 | SetupLog |||
2023-01-04 17:02:27 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 17:02:27 | Info    |       | ##### STEP copy duration: 0.07s | SetupLog |||
2023-01-04 11:02:28 | Info    |       | operation 'async_action', peak memory usage. 3077408 | SetupLog |||
2023-01-04 17:02:28 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 17:02:28 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 17:02:28 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 11:04:29 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 11:04:29 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 11:04:29 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 11:04:54 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 11:05:07 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 11:05:07 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 11:05:45 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 11:05:45 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 11:06:17 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 11:06:17 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 11:06:50 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 11:07:38 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 11:07:43 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 11:07:43 | Info    |       | ##### STEP compile duration: 314.94s | SetupLog |||
2023-01-04 11:07:45 | Info    |       | operation 'async_action', peak memory usage. 26375600 | SetupLog |||
2023-01-04 17:07:49 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 17:07:49 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 17:07:55 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 17:08:29 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 17:08:29 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 17:08:29 | Info    |       | There is a total of 679 records in priv_change. | SetupLog |||
2023-01-04 17:08:29 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 17:08:29 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 17:08:29 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 17:08:36 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:36 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:37 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:37 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:08:38 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 17:08:40 | Info    |       | 0.016s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 17:08:40 | Info    |       | 0.147s - query: ALTER TABLE `ticket` CHANGE `presale_close` `presale_close` ENUM('Ganado','No_aplica','No_ganado','1') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT 'No_aplica', ADD `close_reason` ENUM('No_aplica','Por_alcance','Por_costo') CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, ADD `close_observation` TEXT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci, ADD `cliente` INT(11) DEFAULT 0  | SetupLog |||
2023-01-04 17:08:40 | Info    |       | 0.059s - query: ALTER TABLE `ticket` ADD INDEX `cliente` (`cliente`)  | SetupLog |||
2023-01-04 17:08:55 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 17:08:55 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 17:08:56 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 17:08:56 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 17:08:56 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 17:08:56 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 17:08:56 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 17:08:56 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 17:08:56 | Info    |       | ##### STEP db-schema duration: 68.85s | SetupLog |||
2023-01-04 17:09:00 | Info    |       | operation 'async_action', peak memory usage. 19874016 | SetupLog |||
2023-01-04 17:09:01 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 17:09:01 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 17:09:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:09:21 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:09:22 | Info    |       | ##### STEP after-db-create duration: 21.55s | SetupLog |||
2023-01-04 17:09:24 | Info    |       | operation 'async_action', peak memory usage. 15684272 | SetupLog |||
2023-01-04 17:09:25 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 17:09:30 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | starting data load session | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 17:11:11 | Info    |       | ending data load session | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:11:11 | Info    |       | ##### STEP load-data duration: 106.59s | SetupLog |||
2023-01-04 17:11:15 | Info    |       | operation 'async_action', peak memory usage. 15735104 | SetupLog |||
2023-01-04 17:11:16 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 17:11:21 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 11:11:46 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 11:11:46 | Info    |       | ##### STEP create-config duration: 30.29s | SetupLog |||
2023-01-04 11:11:49 | Info    |       | operation 'async_action', peak memory usage. 15816592 | SetupLog |||
2023-01-04 11:11:57 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 11:23:14 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 11:33:52 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 11:33:55 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 11:33:55 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 11:33:55 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 11:33:55 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 11:33:55 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 11:33:55 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 11:33:56 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 11:34:16 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 11:34:16 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 11:34:16 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 11:34:21 | Info    |       | operation 'async_action', peak memory usage. 3067832 | SetupLog |||
2023-01-04 11:34:22 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 11:34:30 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 11:34:31 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 11:34:31 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 11:34:32 | Info    |       | operation 'async_action', peak memory usage. 3066536 | SetupLog |||
2023-01-04 17:37:13 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 17:37:13 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 17:37:13 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>cambio-requerimiento</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 17:37:13 | Info    |       | ##### STEP  duration: 0.25s | SetupLog |||
2023-01-04 11:37:15 | Info    |       | operation 'async_action', peak memory usage. 3077728 | SetupLog |||
2023-01-04 17:37:16 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 17:37:16 | Info    |       | ##### STEP copy duration: 0.09s | SetupLog |||
2023-01-04 11:37:17 | Info    |       | operation 'async_action', peak memory usage. 3077288 | SetupLog |||
2023-01-04 17:37:17 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 17:37:17 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 17:37:18 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 11:39:29 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 11:39:29 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 11:39:29 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 11:39:47 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 11:39:57 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 11:39:57 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 11:40:13 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 11:40:13 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 11:40:42 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 11:40:42 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 11:41:14 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 11:42:06 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 11:42:17 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 11:42:17 | Info    |       | ##### STEP compile duration: 299.48s | SetupLog |||
2023-01-04 11:42:18 | Info    |       | operation 'async_action', peak memory usage. 26375512 | SetupLog |||
2023-01-04 17:42:21 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 17:42:21 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 17:42:25 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 17:42:53 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 17:42:53 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 17:42:53 | Info    |       | There is a total of 680 records in priv_change. | SetupLog |||
2023-01-04 17:42:53 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 17:42:54 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 17:42:54 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 17:43:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:00 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:00 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 17:43:00 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:43:01 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 17:43:03 | Info    |       | 0.029s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 17:43:15 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 17:43:15 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 17:43:15 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 17:43:16 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 17:43:16 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 17:43:16 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 17:43:16 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 17:43:16 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 17:43:16 | Info    |       | ##### STEP db-schema duration: 56.01s | SetupLog |||
2023-01-04 17:43:19 | Info    |       | operation 'async_action', peak memory usage. 19947416 | SetupLog |||
2023-01-04 17:43:20 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 17:43:20 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 17:43:25 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:39 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:43:40 | Info    |       | ##### STEP after-db-create duration: 20.58s | SetupLog |||
2023-01-04 17:43:42 | Info    |       | operation 'async_action', peak memory usage. 15752688 | SetupLog |||
2023-01-04 17:43:42 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 17:43:49 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 17:45:11 | Info    |       | starting data load session | SetupLog |||
2023-01-04 17:45:11 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 17:45:11 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 17:45:11 | Info    |       | ending data load session | SetupLog |||
2023-01-04 17:45:11 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 17:45:12 | Info    |       | ##### STEP load-data duration: 89.63s | SetupLog |||
2023-01-04 17:45:13 | Info    |       | operation 'async_action', peak memory usage. 15803152 | SetupLog |||
2023-01-04 17:45:14 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 17:45:20 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 11:45:42 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 11:45:42 | Info    |       | ##### STEP create-config duration: 27.43s | SetupLog |||
2023-01-04 11:45:45 | Info    |       | operation 'async_action', peak memory usage. 15884640 | SetupLog |||
2023-01-04 11:45:52 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 12:11:22 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 12:11:23 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 12:11:35 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 12:11:35 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 12:11:35 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 12:11:39 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2023-01-04 12:11:42 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 12:11:48 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 12:11:48 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 12:11:48 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 12:11:50 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2023-01-04 18:14:02 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 18:14:02 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 18:14:02 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 18:14:02 | Info    |       | ##### STEP  duration: 0.11s | SetupLog |||
2023-01-04 12:14:03 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2023-01-04 18:14:03 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 18:14:03 | Info    |       | ##### STEP copy duration: 0.02s | SetupLog |||
2023-01-04 12:14:03 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2023-01-04 18:14:03 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 18:14:03 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 18:14:03 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 12:15:50 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 12:15:50 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 12:15:50 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 12:16:07 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 12:16:15 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 12:16:15 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 12:16:32 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 12:16:32 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 12:16:51 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 12:16:51 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 12:17:11 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 12:17:46 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 12:17:50 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 12:17:50 | Info    |       | ##### STEP compile duration: 227.67s | SetupLog |||
2023-01-04 12:17:52 | Info    |       | operation 'async_action', peak memory usage. 26365696 | SetupLog |||
2023-01-04 18:17:57 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 18:17:57 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 18:18:00 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 18:18:19 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 18:18:19 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 18:18:19 | Info    |       | There is a total of 681 records in priv_change. | SetupLog |||
2023-01-04 18:18:19 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 18:18:19 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 18:18:19 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:24 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:24 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:18:25 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 18:18:26 | Info    |       | 0.028s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 18:18:37 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 18:18:37 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 18:18:37 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 18:18:37 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 18:18:37 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 18:18:37 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 18:18:37 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 18:18:37 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 18:18:37 | Info    |       | ##### STEP db-schema duration: 42.48s | SetupLog |||
2023-01-04 18:18:41 | Info    |       | operation 'async_action', peak memory usage. 19929232 | SetupLog |||
2023-01-04 18:18:42 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 18:18:42 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 18:18:47 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 18:19:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:00 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:19:01 | Info    |       | ##### STEP after-db-create duration: 19.78s | SetupLog |||
2023-01-04 18:19:03 | Info    |       | operation 'async_action', peak memory usage. 15734728 | SetupLog |||
2023-01-04 18:19:04 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 18:19:10 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | starting data load session | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 18:20:59 | Info    |       | ending data load session | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:20:59 | Info    |       | ##### STEP load-data duration: 115.54s | SetupLog |||
2023-01-04 18:21:03 | Info    |       | operation 'async_action', peak memory usage. 15785192 | SetupLog |||
2023-01-04 18:21:04 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 18:21:09 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 12:21:21 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 12:21:21 | Info    |       | ##### STEP create-config duration: 16.86s | SetupLog |||
2023-01-04 12:21:23 | Info    |       | operation 'async_action', peak memory usage. 15866680 | SetupLog |||
2023-01-04 12:21:27 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 12:38:12 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 12:38:14 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 12:38:20 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 12:38:20 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 12:38:20 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 12:38:20 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2023-01-04 12:38:21 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 12:38:23 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 12:38:23 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 12:38:23 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 12:38:23 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2023-01-04 18:39:19 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 18:39:19 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 18:39:19 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 18:39:19 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-04 12:39:20 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2023-01-04 18:39:20 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 18:39:20 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 12:39:20 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2023-01-04 18:39:20 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 18:39:20 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 18:39:20 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 12:40:09 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 12:40:09 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 12:40:09 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 12:40:16 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 12:40:19 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 12:40:19 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 12:40:27 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 12:40:27 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 12:40:36 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 12:40:36 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 12:40:44 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 12:41:01 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 12:41:04 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 12:41:04 | Info    |       | ##### STEP compile duration: 104.18s | SetupLog |||
2023-01-04 12:41:05 | Info    |       | operation 'async_action', peak memory usage. 26365696 | SetupLog |||
2023-01-04 18:41:08 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 18:41:08 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 18:41:11 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 18:41:34 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 18:41:35 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 18:41:35 | Info    |       | There is a total of 682 records in priv_change. | SetupLog |||
2023-01-04 18:41:35 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 18:41:35 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 18:41:35 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:43 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:43 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:41:44 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 18:41:46 | Info    |       | 0.019s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 18:42:00 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 18:42:00 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 18:42:00 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 18:42:01 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 18:42:01 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 18:42:01 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 18:42:01 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 18:42:01 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 18:42:01 | Info    |       | ##### STEP db-schema duration: 54.16s | SetupLog |||
2023-01-04 18:42:05 | Info    |       | operation 'async_action', peak memory usage. 19996136 | SetupLog |||
2023-01-04 18:42:06 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 18:42:06 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 18:42:11 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:42:26 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:42:27 | Info    |       | ##### STEP after-db-create duration: 21.19s | SetupLog |||
2023-01-04 18:42:28 | Info    |       | operation 'async_action', peak memory usage. 15801632 | SetupLog |||
2023-01-04 18:42:29 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 18:42:34 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 18:44:00 | Info    |       | starting data load session | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 18:44:01 | Info    |       | ending data load session | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 18:44:01 | Info    |       | ##### STEP load-data duration: 92.26s | SetupLog |||
2023-01-04 18:44:02 | Info    |       | operation 'async_action', peak memory usage. 15852096 | SetupLog |||
2023-01-04 18:44:03 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 18:44:08 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 12:44:30 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 12:44:30 | Info    |       | ##### STEP create-config duration: 26.9s | SetupLog |||
2023-01-04 12:44:33 | Info    |       | operation 'async_action', peak memory usage. 15933584 | SetupLog |||
2023-01-04 12:44:43 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 13:07:48 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 13:07:49 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 13:07:54 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 13:07:54 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 13:07:54 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 13:07:55 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2023-01-04 13:07:56 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 13:07:58 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 13:07:58 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 13:07:58 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 13:07:58 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2023-01-04 19:08:39 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 19:08:39 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 19:08:39 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 19:08:39 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-04 13:08:40 | Info    |       | operation 'async_action', peak memory usage. 3077272 | SetupLog |||
2023-01-04 19:08:40 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 19:08:40 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 13:08:40 | Info    |       | operation 'async_action', peak memory usage. 3076832 | SetupLog |||
2023-01-04 19:08:40 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 19:08:40 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 19:08:40 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 13:09:40 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 13:09:40 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 13:09:40 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 13:09:47 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 13:09:51 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 13:09:51 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 13:10:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 13:10:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 13:10:09 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 13:10:09 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 13:10:23 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 13:10:46 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 13:10:51 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 13:10:51 | Info    |       | ##### STEP compile duration: 131.14s | SetupLog |||
2023-01-04 13:10:52 | Info    |       | operation 'async_action', peak memory usage. 26354136 | SetupLog |||
2023-01-04 19:10:54 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 19:10:54 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 19:10:57 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 19:11:10 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 19:11:10 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 19:11:10 | Info    |       | There is a total of 683 records in priv_change. | SetupLog |||
2023-01-04 19:11:10 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 19:11:10 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 19:11:10 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:13 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 19:11:13 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:11:14 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 19:11:15 | Info    |       | 0.016s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 19:11:22 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 19:11:22 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 19:11:22 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 19:11:22 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 19:11:22 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 19:11:22 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 19:11:22 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 19:11:22 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 19:11:22 | Info    |       | ##### STEP db-schema duration: 28.76s | SetupLog |||
2023-01-04 19:11:24 | Info    |       | operation 'async_action', peak memory usage. 19947152 | SetupLog |||
2023-01-04 19:11:25 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 19:11:25 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 19:11:27 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:11:35 | Info    |       | ##### STEP after-db-create duration: 10.73s | SetupLog |||
2023-01-04 19:11:36 | Info    |       | operation 'async_action', peak memory usage. 15758024 | SetupLog |||
2023-01-04 19:11:37 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 19:11:39 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 19:11:40 | Info    |       | ##### STEP load-data duration: 3.59s | SetupLog |||
2023-01-04 19:11:40 | Error   |       | Setup error: PHP error occured : msg=syntax error, unexpected ''m_aExpressions";a:1:{i:0;O:15' (T_ENCAPSED_AND_WHITESPACE), no=4, file=/var/www/html/itop/data/cache-production/expressioncache/expressioncache-ESCR.php, line=222 | SetupLog |||
2023-01-04 19:15:34 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 19:15:34 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 19:15:34 | Info    |       | ##### STEP  duration: 0.08s | SetupLog |||
2023-01-04 13:15:35 | Info    |       | operation 'async_action', peak memory usage. 3077296 | SetupLog |||
2023-01-04 19:15:35 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 19:15:35 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 13:15:35 | Info    |       | operation 'async_action', peak memory usage. 3077328 | SetupLog |||
2023-01-04 19:15:35 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 19:15:35 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 19:15:35 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 13:16:31 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 13:16:31 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 13:16:31 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 13:16:41 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 13:16:47 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 13:16:47 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 13:17:00 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 13:17:00 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 13:17:13 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 13:17:13 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 13:17:25 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 13:17:43 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 13:17:43 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 13:17:43 | Info    |       | ##### STEP compile duration: 127.66s | SetupLog |||
2023-01-04 13:17:44 | Info    |       | operation 'async_action', peak memory usage. 26309616 | SetupLog |||
2023-01-04 19:17:45 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 19:17:45 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 19:17:47 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 19:17:55 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 19:17:55 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 19:17:55 | Info    |       | There is a total of 682 records in priv_change. | SetupLog |||
2023-01-04 19:17:55 | Info    |       | There are 1 useless records in priv_change (0.15%) | SetupLog |||
2023-01-04 19:17:55 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 19:17:55 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:17:57 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 19:17:58 | Info    |       | 0.010s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 19:18:03 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 19:18:03 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 19:18:03 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 19:18:03 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 19:18:03 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 19:18:03 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 19:18:03 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 19:18:03 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 19:18:03 | Info    |       | ##### STEP db-schema duration: 19.17s | SetupLog |||
2023-01-04 19:18:05 | Info    |       | operation 'async_action', peak memory usage. 19947152 | SetupLog |||
2023-01-04 19:18:05 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 19:18:05 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 19:18:07 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:18:12 | Info    |       | ##### STEP after-db-create duration: 7.1s | SetupLog |||
2023-01-04 19:18:13 | Info    |       | operation 'async_action', peak memory usage. 15758184 | SetupLog |||
2023-01-04 19:18:13 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 19:18:15 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | starting data load session | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 19:18:53 | Info    |       | ending data load session | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:18:53 | Info    |       | ##### STEP load-data duration: 40.47s | SetupLog |||
2023-01-04 19:18:54 | Info    |       | operation 'async_action', peak memory usage. 15808648 | SetupLog |||
2023-01-04 19:18:54 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 19:18:56 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 13:19:04 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 13:19:04 | Info    |       | ##### STEP create-config duration: 10.55s | SetupLog |||
2023-01-04 13:19:05 | Info    |       | operation 'async_action', peak memory usage. 15890008 | SetupLog |||
2023-01-04 13:19:09 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 13:30:49 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 13:30:50 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 13:30:54 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 13:30:54 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 13:30:54 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 13:30:55 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2023-01-04 13:30:56 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 13:30:59 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 13:30:59 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 13:30:59 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 13:30:59 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2023-01-04 19:32:53 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 19:32:53 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 19:32:53 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 19:32:53 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-04 13:32:53 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2023-01-04 19:32:53 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 19:32:53 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 13:32:54 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2023-01-04 19:32:54 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 19:32:54 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 19:32:54 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 13:33:36 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 13:33:36 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 13:33:36 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 13:33:42 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 13:33:46 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 13:33:46 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 13:33:54 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 13:33:54 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 13:34:02 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 13:34:02 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 13:34:10 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 13:34:28 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 13:34:33 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 13:34:33 | Info    |       | ##### STEP compile duration: 99.18s | SetupLog |||
2023-01-04 13:34:34 | Info    |       | operation 'async_action', peak memory usage. 26375968 | SetupLog |||
2023-01-04 19:34:35 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 19:34:35 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 19:34:38 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 19:34:50 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 19:34:50 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 19:34:50 | Info    |       | There is a total of 684 records in priv_change. | SetupLog |||
2023-01-04 19:34:50 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 19:34:50 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 19:34:50 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:34:54 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 19:34:55 | Info    |       | 0.014s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 19:35:00 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 19:35:00 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 19:35:00 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 19:35:00 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 19:35:00 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 19:35:00 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 19:35:00 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 19:35:00 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 19:35:00 | Info    |       | ##### STEP db-schema duration: 25.69s | SetupLog |||
2023-01-04 19:35:02 | Info    |       | operation 'async_action', peak memory usage. 20185224 | SetupLog |||
2023-01-04 19:35:02 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 19:35:02 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 19:35:05 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:35:11 | Info    |       | ##### STEP after-db-create duration: 8.85s | SetupLog |||
2023-01-04 19:35:11 | Info    |       | operation 'async_action', peak memory usage. 15990480 | SetupLog |||
2023-01-04 19:35:12 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 19:35:14 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | starting data load session | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 19:35:58 | Info    |       | ending data load session | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 19:35:58 | Info    |       | ##### STEP load-data duration: 46.33s | SetupLog |||
2023-01-04 19:35:58 | Info    |       | operation 'async_action', peak memory usage. 16040944 | SetupLog |||
2023-01-04 19:35:59 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 19:36:01 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 13:36:11 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 13:36:11 | Info    |       | ##### STEP create-config duration: 12.16s | SetupLog |||
2023-01-04 13:36:12 | Info    |       | operation 'async_action', peak memory usage. 16122432 | SetupLog |||
2023-01-04 13:36:17 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 14:16:39 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 14:16:40 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 14:16:42 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 14:16:42 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 14:16:42 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 14:16:43 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2023-01-04 14:16:45 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 14:16:47 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 14:16:47 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 14:16:47 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 14:16:47 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2023-01-04 20:17:51 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 20:17:51 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 20:17:51 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 20:17:52 | Info    |       | ##### STEP  duration: 0.1s | SetupLog |||
2023-01-04 14:17:52 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2023-01-04 20:17:52 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 20:17:52 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 14:17:52 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2023-01-04 20:17:52 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 20:17:52 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 20:17:52 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 14:18:32 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 14:18:32 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 14:18:32 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 14:18:38 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 14:18:41 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 14:18:41 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 14:18:49 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 14:18:49 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 14:18:56 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 14:18:56 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 14:19:04 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 14:19:20 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 14:19:21 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 14:19:21 | Info    |       | ##### STEP compile duration: 89.52s | SetupLog |||
2023-01-04 14:19:22 | Info    |       | operation 'async_action', peak memory usage. 26330856 | SetupLog |||
2023-01-04 20:19:23 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 20:19:23 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 20:19:25 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 20:19:33 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 20:19:33 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 20:19:33 | Info    |       | There is a total of 685 records in priv_change. | SetupLog |||
2023-01-04 20:19:33 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 20:19:33 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 20:19:33 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:19:35 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 20:19:36 | Info    |       | 0.008s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 20:19:40 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 20:19:40 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 20:19:40 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 20:19:40 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 20:19:40 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 20:19:40 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 20:19:40 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 20:19:40 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 20:19:40 | Info    |       | ##### STEP db-schema duration: 17.1s | SetupLog |||
2023-01-04 20:19:41 | Info    |       | operation 'async_action', peak memory usage. 20236960 | SetupLog |||
2023-01-04 20:19:42 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 20:19:42 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 20:19:43 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:19:48 | Info    |       | ##### STEP after-db-create duration: 6.73s | SetupLog |||
2023-01-04 20:19:49 | Info    |       | operation 'async_action', peak memory usage. 16042216 | SetupLog |||
2023-01-04 20:19:49 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 20:19:51 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | starting data load session | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 20:20:22 | Info    |       | ending data load session | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:20:22 | Info    |       | ##### STEP load-data duration: 33.06s | SetupLog |||
2023-01-04 20:20:22 | Info    |       | operation 'async_action', peak memory usage. 16092680 | SetupLog |||
2023-01-04 20:20:23 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 20:20:24 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 14:20:33 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 14:20:33 | Info    |       | ##### STEP create-config duration: 10.1s | SetupLog |||
2023-01-04 14:20:34 | Info    |       | operation 'async_action', peak memory usage. 16174168 | SetupLog |||
2023-01-04 14:20:36 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 14:32:08 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - CheckPHPVersion | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - php.ini file(s): '/etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini' | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - Temporary directory for files upload (/tmp) is writable. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - upload_max_filesize: 2M | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - post_max_size: 8M | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - max_file_uploads: 20 | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - memory_limit is 128M, ok. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Info - session.save_path is: '/var/lib/php/sessions'. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run iTop, which is (7.1.3) | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | The current PHP Version (7.4.29) is greater than the minimum version required to run next iTop major release, which is (7.4.0) | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Required PHP extension(s): dom, fileinfo, gd, hash, iconv, json, mbstring, mysqli, pcre, session, simplexml, soap, zip, zlib. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Optional PHP extension(s): curl, ldap, sodium, openssl. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | APC detected (version 5.1.21). The APC cache will be used to speed-up iTop. | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | Loaded php.ini files: /etc/php/7.4/apache2/php.ini, /etc/php/7.4/apache2/conf.d/10-mysqlnd.ini, /etc/php/7.4/apache2/conf.d/10-opcache.ini, /etc/php/7.4/apache2/conf.d/10-pdo.ini, /etc/php/7.4/apache2/conf.d/15-xml.ini, /etc/php/7.4/apache2/conf.d/20-apcu.ini, /etc/php/7.4/apache2/conf.d/20-calendar.ini, /etc/php/7.4/apache2/conf.d/20-ctype.ini, /etc/php/7.4/apache2/conf.d/20-curl.ini, /etc/php/7.4/apache2/conf.d/20-dom.ini, /etc/php/7.4/apache2/conf.d/20-exif.ini, /etc/php/7.4/apache2/conf.d/20-ffi.ini, /etc/php/7.4/apache2/conf.d/20-fileinfo.ini, /etc/php/7.4/apache2/conf.d/20-ftp.ini, /etc/php/7.4/apache2/conf.d/20-gd.ini, /etc/php/7.4/apache2/conf.d/20-gettext.ini, /etc/php/7.4/apache2/conf.d/20-iconv.ini, /etc/php/7.4/apache2/conf.d/20-json.ini, /etc/php/7.4/apache2/conf.d/20-ldap.ini, /etc/php/7.4/apache2/conf.d/20-mbstring.ini, /etc/php/7.4/apache2/conf.d/20-mysqli.ini, /etc/php/7.4/apache2/conf.d/20-pdo_mysql.ini, /etc/php/7.4/apache2/conf.d/20-phar.ini, /etc/php/7.4/apache2/conf.d/20-posix.ini, /etc/php/7.4/apache2/conf.d/20-readline.ini, /etc/php/7.4/apache2/conf.d/20-shmop.ini, /etc/php/7.4/apache2/conf.d/20-simplexml.ini, /etc/php/7.4/apache2/conf.d/20-soap.ini, /etc/php/7.4/apache2/conf.d/20-sockets.ini, /etc/php/7.4/apache2/conf.d/20-sysvmsg.ini, /etc/php/7.4/apache2/conf.d/20-sysvsem.ini, /etc/php/7.4/apache2/conf.d/20-sysvshm.ini, /etc/php/7.4/apache2/conf.d/20-tokenizer.ini, /etc/php/7.4/apache2/conf.d/20-xmlreader.ini, /etc/php/7.4/apache2/conf.d/20-xmlwriter.ini, /etc/php/7.4/apache2/conf.d/20-xsl.ini, /etc/php/7.4/apache2/conf.d/20-zip.ini, /etc/php/7.4/apache2/conf.d/25-apcu_bc.ini | SetupLog |||
2023-01-04 14:32:09 | Ok      |       | The value for session.save_path (/var/lib/php/sessions) is writable for the web server. | SetupLog |||
2023-01-04 14:32:22 | Ok      |       | Info - CheckBackupPrerequisites | SetupLog |||
2023-01-04 14:32:22 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 14:32:22 | Ok      |       | Info - mysqldump -V said: sh: 1: mysqldump: not found | SetupLog |||
2023-01-04 14:32:23 | Info    |       | operation 'async_action', peak memory usage. 3067616 | SetupLog |||
2023-01-04 14:32:24 | Info    |       | GetApplicationVersion returns: product_name: iTop, product_version: 3.0.1-9191 | SetupLog |||
2023-01-04 14:32:27 | Ok      |       | Info - CheckGraphviz | SetupLog |||
2023-01-04 14:32:27 | Ok      |       | Info - PHP functions disabled: pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,pcntl_unshare, | SetupLog |||
2023-01-04 14:32:27 | Ok      |       | Info - /usr/bin/dot -V said: dot - graphviz version 2.43.0 (0) | SetupLog |||
2023-01-04 14:32:27 | Info    |       | operation 'async_action', peak memory usage. 3067104 | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ##### STEP  start | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ----> Entering read only mode | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ======= Installation starts =======
Parameters:
<?xml version="1.0" encoding="UTF-8"?>
<installation>
  <mode>upgrade</mode>
  <preinstall>
    <copies type="array"/>
  </preinstall>
  <source_dir>datamodels/2.x/</source_dir>
  <datamodel_version>3.0.1</datamodel_version>
  <previous_configuration_file>/var/www/html/itop//conf/production/config-itop.php</previous_configuration_file>
  <extensions_dir>extensions</extensions_dir>
  <target_env>production</target_env>
  <workspace_dir></workspace_dir>
  <database>
    <server>192.168.1.38</server>
    <user>dcamargo</user>
    <pwd>**removed**</pwd>
    <name>itop_prod</name>
    <db_tls_enabled></db_tls_enabled>
    <db_tls_ca></db_tls_ca>
    <prefix></prefix>
  </database>
  <url>http://localhost:3000/itop/</url>
  <graphviz_path>/usr/bin/dot</graphviz_path>
  <admin_account>
    <user></user>
    <pwd>**removed**</pwd>
    <language></language>
  </admin_account>
  <language></language>
  <selected_modules type="array">
    <item>authent-cas</item>
    <item>authent-external</item>
    <item>authent-ldap</item>
    <item>authent-local</item>
    <item>combodo-backoffice-darkmoon-theme</item>
    <item>itop-backup</item>
    <item>itop-config</item>
    <item>itop-files-information</item>
    <item>itop-portal-base</item>
    <item>itop-profiles-itil</item>
    <item>itop-sla-computation</item>
    <item>itop-structure</item>
    <item>itop-welcome-itil</item>
    <item>sample-login-custom-css</item>
    <item>combodo-sla-computation</item>
    <item>itop-config-mgmt</item>
    <item>itop-attachments</item>
    <item>itop-tickets</item>
    <item>combodo-db-tools</item>
    <item>combodo-webhook-integration</item>
    <item>itop-core-update</item>
    <item>itop-hub-connector</item>
    <item>itop-themes-compat</item>
    <item>itop-datacenter-mgmt</item>
    <item>itop-endusers-devices</item>
    <item>itop-virtualization-mgmt</item>
    <item>itop-service-mgmt</item>
    <item>itop-bridge-cmdb-ticket</item>
    <item>itop-request-mgmt-itil</item>
    <item>itop-incident-mgmt-itil</item>
    <item>itop-portal</item>
    <item>itop-full-itil</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-faq-light</item>
    <item>itop-knownerror-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-coverage-windows-computation</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-portal-new-theme</item>
  </selected_modules>
  <selected_extensions type="array">
    <item>itop-config-mgmt-core</item>
    <item>itop-config-mgmt-datacenter</item>
    <item>itop-config-mgmt-end-user</item>
    <item>itop-config-mgmt-virtualization</item>
    <item>itop-service-mgmt-enterprise</item>
    <item>itop-ticket-mgmt-itil</item>
    <item>itop-ticket-mgmt-itil-user-request</item>
    <item>itop-ticket-mgmt-itil-incident</item>
    <item>itop-ticket-mgmt-itil-enhanced-portal</item>
    <item>itop-change-mgmt-itil</item>
    <item>itop-kown-error-mgmt</item>
    <item>itop-problem-mgmt</item>
    <item>combodo-sla-considering-business-hours</item>
    <item>qv-plugin-itop-close-usr-rqst</item>
    <item>qv-plugin-itop-customer</item>
    <item>qv-plugin-itop-project-name</item>
    <item>qv-plugin-itop-request-customer-field</item>
    <item>qv-plugin-itop-tree-view</item>
    <item>sample-itop-logos</item>
    <item>sample-login-custom-css</item>
    <item>sample-portal-new-theme</item>
  </selected_extensions>
  <sample_data></sample_data>
  <old_addon></old_addon>
  <options type="array"/>
  <mysql_bindir></mysql_bindir>
</installation>

 | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ##### STEP  duration: 0.09s | SetupLog |||
2023-01-04 14:34:25 | Info    |       | operation 'async_action', peak memory usage. 3078296 | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ##### STEP copy start | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ##### STEP copy duration: 0.01s | SetupLog |||
2023-01-04 14:34:25 | Info    |       | operation 'async_action', peak memory usage. 3077856 | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ##### STEP compile start | SetupLog |||
2023-01-04 20:34:25 | Info    |       | Compiling data model. | SetupLog |||
2023-01-04 20:34:25 | Info    |       | ----> Entering maintenance mode | SetupLog |||
2023-01-04 14:35:05 | Warning |       | CompileThemes: Theme #test-red has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 14:35:05 | Warning |       | CompileThemes: Theme #light-grey has an import (#css-variables) without explicit xsi:type, it will be ignored. Check Datamodel XML Reference to fix it. | SetupLog |||
2023-01-04 14:35:05 | Info    |       | For theme 'darkmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/darkmoon.css' | SetupLog |||
2023-01-04 14:35:11 | Warning |       | Cannot find /var/www/html/itop/env-production/branding/themes/darkmoon/images/arrow.png (images/arrow.png) during SCSS darkmoon precompilation | SetupLog |||
2023-01-04 14:35:14 | Info    |       | No theme 'darkmoon' compilation was required during setup. | SetupLog |||
2023-01-04 14:35:14 | Info    |       | For theme 'fullmoon' precompiled file used: '/var/www/html/itop/data/precompiled_styles/fullmoon.css' | SetupLog |||
2023-01-04 14:35:22 | Info    |       | No theme 'fullmoon' compilation was required during setup. | SetupLog |||
2023-01-04 14:35:22 | Info    |       | For theme 'test-red' precompiled file used: '/var/www/html/itop/data/precompiled_styles/test-red.css' | SetupLog |||
2023-01-04 14:35:30 | Info    |       | No theme 'test-red' compilation was required during setup. | SetupLog |||
2023-01-04 14:35:30 | Info    |       | For theme 'light-grey' precompiled file used: '/var/www/html/itop/data/precompiled_styles/light-grey.css' | SetupLog |||
2023-01-04 14:35:38 | Info    |       | No theme 'light-grey' compilation was required during setup. | SetupLog |||
2023-01-04 14:35:56 | Info    |       | Data model successfully compiled to '/var/www/html/itop/env-production'. | SetupLog |||
2023-01-04 14:35:58 | Info    |       | <---- Exiting maintenance mode | SetupLog |||
2023-01-04 14:35:58 | Info    |       | ##### STEP compile duration: 92.47s | SetupLog |||
2023-01-04 14:35:58 | Info    |       | operation 'async_action', peak memory usage. 26375968 | SetupLog |||
2023-01-04 20:36:00 | Info    |       | ##### STEP db-schema start | SetupLog |||
2023-01-04 20:36:00 | Info    |       | Update Database Schema for environment 'production'. | SetupLog |||
2023-01-04 20:36:01 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 20:36:10 | Info    |       | Renaming 'priv_internalUser' into 'priv_internaluser' (lowercase) | SetupLog |||
2023-01-04 20:36:10 | Info    |       | Cleanup of 'priv_change' to remove orphan records | SetupLog |||
2023-01-04 20:36:10 | Info    |       | There is a total of 686 records in priv_change. | SetupLog |||
2023-01-04 20:36:10 | Info    |       | There are 2 useless records in priv_change (0.29%) | SetupLog |||
2023-01-04 20:36:10 | Info    |       | Removing the orphan records... | SetupLog |||
2023-01-04 20:36:10 | Info    |       | Cleanup completed successfully. | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: AttachmentInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | No orphan attachment found. | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: StructureInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: TicketsInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'DBserver' to 'DBServer': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OSfamily' to 'OSFamily': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OSversion' to 'OSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'Webserver' to 'WebServer': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OSpatch' to 'OSPatch': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'OsLicence' to 'OSLicence': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'IOSversion' to 'IOSVersion': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'IPinterface' to 'IPInterface': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Renaming class in DB - final class from 'IpPhone' to 'IPPhone': 0 rows affected | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: FAQLightInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::BeforeDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: CoverageWindowInstaller::BeforeDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::BeforeDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:36:12 | Info    |       | Creating the structure in 'itop_prod'. | SetupLog |||
2023-01-04 20:36:13 | Info    |       | 0.008s - query: ALTER TABLE `priv_sync_att_linkset` CHANGE `attribute_qualifier` `attribute_qualifier` VARCHAR(255) CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci DEFAULT '\''  | SetupLog |||
2023-01-04 20:36:17 | Ok      |       | Database structure successfully updated. | SetupLog |||
2023-01-04 20:36:17 | Ok      |       | Start of rebuilt of hierchical keys. If you have problems with this step, you can skip it by creating a ".setup-rebuild-hkeys-never" file in data | SetupLog |||
2023-01-04 20:36:17 | Ok      |       | Hierchical keys rebuilt: The attribute parent_id from Organization is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'organization'...
Ok, table 'organization' successfully updated.
The attribute parent_id from Group is a hierarchical key.
Rebuilding the fields parent_id_right and parent_id_left from table 'group'...
Ok, table 'group' successfully updated.
 | SetupLog |||
2023-01-04 20:36:17 | Ok      |       | Data sources checked: There are no Data Sources in the database.
Ok.
 | SetupLog |||
2023-01-04 20:36:17 | Ok      |       | Meta enums rebuilt: Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_incident`.`status` IN ('assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_incident`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_incident` ON `ticket_incident`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_incident`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_problem`.`status` IN ('assigned', 'new') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_problem`.`status` IN ('closed') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_problem` ON `ticket_problem`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_problem`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `ticket_request`.`status` IN ('approved', 'assigned', 'escalated_tto', 'escalated_ttr', 'new', 'pending', 'waiting_for_approval') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `ticket_request`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
Executing query: UPDATE `ticket` JOIN `ticket_request` ON `ticket_request`.id = `ticket`.id SET `ticket`.`operational_status` = 'resolved' WHERE `ticket_request`.`status` IN ('resolved') AND `ticket`.`operational_status` != 'resolved'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'ongoing' WHERE `change`.`status` IN ('approved', 'assigned', 'implemented', 'monitored', 'new', 'notapproved', 'plannedscheduled', 'validated') AND `ticket`.`operational_status` != 'ongoing'
Executing query: UPDATE `ticket` JOIN `change` ON `change`.id = `ticket`.id SET `ticket`.`operational_status` = 'closed' WHERE `change`.`status` IN ('closed', 'rejected') AND `ticket`.`operational_status` != 'closed'
 | SetupLog |||
2023-01-04 20:36:17 | Info    |       | 'priv_change.origin' already initialized, nothing to do. | SetupLog |||
2023-01-04 20:36:17 | Info    |       | 'priv_async_task.status' already initialized, nothing to do. | SetupLog |||
2023-01-04 20:36:17 | Info    |       | Database Schema Successfully Updated for environment 'production'. | SetupLog |||
2023-01-04 20:36:17 | Info    |       | ##### STEP db-schema duration: 18.29s | SetupLog |||
2023-01-04 20:36:19 | Info    |       | operation 'async_action', peak memory usage. 20305080 | SetupLog |||
2023-01-04 20:36:19 | Info    |       | ##### STEP after-db-create start | SetupLog |||
2023-01-04 20:36:19 | Info    |       | After Database Creation | SetupLog |||
2023-01-04 20:36:21 | Info    |       | MetaModel::Startup (ModelOnly = 1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Initializing attachment/item_org_id - null to zero | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Initializing attachment/item_org_id - zero to the container | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Initializing attachment/item_org_id - 0 records have been adjusted | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseCreation(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseCreation(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseCreation(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | URP_Profiles::GetPredefinedObjects() returned 13 elements. | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: StructureInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDatabaseSetup(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDatabaseSetup(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDatabaseSetup(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:36:26 | Info    |       | ##### STEP after-db-create duration: 7s | SetupLog |||
2023-01-04 20:36:26 | Info    |       | operation 'async_action', peak memory usage. 16110336 | SetupLog |||
2023-01-04 20:36:27 | Info    |       | ##### STEP load-data start | SetupLog |||
2023-01-04 20:36:28 | Info    |       | MetaModel::Startup (ModelOnly = ) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | starting data load session | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Loading file: /var/www/html/itop/env-production/combodo-webhook-integration/data.struct.remote_application_type.xml (just to get the keys mapping) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | loading of data.struct.remote_application_type.xml done. | SetupLog |||
2023-01-04 20:37:00 | Info    |       | ending data load session | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: AuthentLDAPInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: AttachmentInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: StructureInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: TicketsInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: ConfigMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: EndUserMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: FAQLightInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: ServiceMgmtInstaller::AfterDataLoad(oConfig, 3.0.1, 3.0.1) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: CoverageWindowInstaller::AfterDataLoad(oConfig, 2.4.0, 2.4.0) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | Calling Module Handler: CoverageWindowComputationInstaller::AfterDataLoad(oConfig, 2.0.7, 2.0.7) | SetupLog |||
2023-01-04 20:37:00 | Info    |       | ##### STEP load-data duration: 33.23s | SetupLog |||
2023-01-04 20:37:00 | Info    |       | operation 'async_action', peak memory usage. 16160800 | SetupLog |||
2023-01-04 20:37:00 | Info    |       | ##### STEP create-config start | SetupLog |||
2023-01-04 20:37:02 | Info    |       | MetaModel::Startup from /var/www/html/itop//conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
2023-01-04 14:37:10 | Info    |       | <---- Exiting read only mode | SetupLog |||
2023-01-04 14:37:10 | Info    |       | ##### STEP create-config duration: 10.07s | SetupLog |||
2023-01-04 14:37:11 | Info    |       | operation 'async_action', peak memory usage. 16250480 | SetupLog |||
2023-01-04 14:37:14 | Info    |       | MetaModel::Startup from /var/www/html/itop/conf/production/config-itop.php (ModelOnly = 1) | SetupLog |||
