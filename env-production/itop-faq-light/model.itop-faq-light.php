<?php
//
// File generated by ... on the 2023-01-04T20:34:56+0100
// Please do not edit manually
//

/**
 * Classes and menus for itop-faq-light (version 3.0.1)
 *
 * @author      iTop compiler
 * @license     http://opensource.org/licenses/AGPL-3.0
 */



class FAQ extends cmdbAbstractObject
{
	public static function Init()
	{
		$aParams = array(			'category' => 'bizmodel,searchable,knownerrormgmt',
			'key_type' => 'autoincrement',
			'name_attcode' => array('title'),
			'image_attcode' => '',
			'state_attcode' => '',
			'reconc_keys' => array('title'),
			'db_table' => 'faq',
			'db_key_field' => 'id',
			'db_finalclass_field' => '',
			'style' =>  new ormStyle(null, null, null, null, null, 'itop-faq-light/../../images/icons/icons8-faq.svg'),);
		MetaModel::Init_Params($aParams);
		MetaModel::Init_InheritAttributes();
		MetaModel::Init_AddAttribute(new AttributeString("title", array("allowed_values"=>null, "sql"=>'title', "default_value"=>'', "is_null_allowed"=>false, "depends_on"=>array(), "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeText("summary", array("allowed_values"=>null, "sql"=>'summary', "default_value"=>'', "is_null_allowed"=>true, "depends_on"=>array(), "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeHTML("description", array("allowed_values"=>null, "sql"=>'description', "default_value"=>'', "is_null_allowed"=>true, "depends_on"=>array(), "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeExternalKey("category_id", array("targetclass"=>'FAQCategory', "allowed_values"=>null, "sql"=>'category_id', "is_null_allowed"=>false, "on_target_delete"=>DEL_MANUAL, "depends_on"=>array(), "display_style"=>'select', "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeExternalField("category_name", array("allowed_values"=>null, "extkey_attcode"=>'category_id', "target_attcode"=>'name', "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeString("error_code", array("allowed_values"=>null, "sql"=>'error_code', "default_value"=>'', "is_null_allowed"=>true, "depends_on"=>array(), "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeString("key_words", array("allowed_values"=>null, "sql"=>'key_words', "default_value"=>'', "is_null_allowed"=>true, "depends_on"=>array(), "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeTagSet("domains", array("allowed_values"=>null, "sql"=>'domains', "is_null_allowed"=>true, "depends_on"=>array(), "max_items"=>12, "tag_code_max_len"=>20, "always_load_in_tables"=>false, "tracking_level"=>ATTRIBUTE_TRACKING_ALL)));



		MetaModel::Init_SetZListItems('details', array (
  0 => 'category_id',
  1 => 'title',
  2 => 'error_code',
  3 => 'key_words',
  4 => 'domains',
  5 => 'summary',
  6 => 'description',
));
		MetaModel::Init_SetZListItems('standard_search', array (
  0 => 'category_id',
  1 => 'title',
  2 => 'summary',
  3 => 'error_code',
  4 => 'domains',
));
		MetaModel::Init_SetZListItems('default_search', array (
  0 => 'title',
  1 => 'summary',
  2 => 'category_id',
));
		MetaModel::Init_SetZListItems('list', array (
  0 => 'category_id',
  1 => 'error_code',
  2 => 'domains',
));
;
	}


}


class TagSetFieldDataFor_FAQ__domains extends TagSetFieldData
{
	public static function Init()
	{
		$aParams = array (
  'category' => 'bizmodel',
  'key_type' => 'autoincrement',
  'name_attcode' => 
  array (
    0 => 'label',
  ),
  'state_attcode' => '',
  'reconc_keys' => 
  array (
    0 => 'code',
  ),
  'db_table' => '',
  'db_key_field' => 'id',
  'db_finalclass_field' => 'finalclass',
);
		MetaModel::Init_Params($aParams);
		MetaModel::Init_InheritAttributes();
        MetaModel::Init_SetZListItems('default_search', array (
            0 => 'code',
            1 => 'label',
        ));
	}


}


class FAQCategory extends cmdbAbstractObject
{
	public static function Init()
	{
		$aParams = array(			'category' => 'bizmodel,searchable,knownerrormgmt',
			'key_type' => 'autoincrement',
			'name_attcode' => array('name'),
			'image_attcode' => '',
			'state_attcode' => '',
			'reconc_keys' => array('name'),
			'db_table' => 'faqcategory',
			'db_key_field' => 'id',
			'db_finalclass_field' => '',);
		MetaModel::Init_Params($aParams);
		MetaModel::Init_InheritAttributes();
		MetaModel::Init_AddAttribute(new AttributeString("name", array("allowed_values"=>null, "sql"=>'nam', "default_value"=>'', "is_null_allowed"=>false, "depends_on"=>array(), "always_load_in_tables"=>false)));
		MetaModel::Init_AddAttribute(new AttributeLinkedSet("faq_list", array("linked_class"=>'FAQ', "ext_key_to_me"=>'category_id', "count_min"=>0, "count_max"=>0, "edit_mode"=>LINKSET_EDITMODE_ADDONLY, "allowed_values"=>null, "depends_on"=>array(), "always_load_in_tables"=>false)));



		MetaModel::Init_SetZListItems('details', array (
  0 => 'name',
  1 => 'faq_list',
));
		MetaModel::Init_SetZListItems('standard_search', array (
  0 => 'name',
));
		MetaModel::Init_SetZListItems('default_search', array (
  0 => 'name',
));
;
	}


}
//
// Menus
//
class MenuCreation_itop_faq_light extends ModuleHandlerAPI
{
	public static function OnMenuCreation()
	{
		global $__comp_menus__; // ensure that the global variable is indeed global !
		$__comp_menus__['ProblemManagement'] = new MenuGroup('ProblemManagement', 42, 'fas fa-question' , null, UR_ACTION_MODIFY, UR_ALLOWED_YES, null);
		$__comp_menus__['Problem:Shortcuts'] = new TemplateMenuNode('Problem:Shortcuts', '', $__comp_menus__['ProblemManagement']->GetIndex(), 5 , null, UR_ACTION_MODIFY, UR_ALLOWED_YES, null);
		$__comp_menus__['FAQCategory'] = new OQLMenuNode('FAQCategory', "SELECT FAQCategory", $__comp_menus__['Problem:Shortcuts']->GetIndex(), 4.5, true , null, UR_ACTION_MODIFY, UR_ALLOWED_YES, null, true);
		$__comp_menus__['FAQ'] = new OQLMenuNode('FAQ', "SELECT FAQ", $__comp_menus__['Problem:Shortcuts']->GetIndex(), 6, true , null, UR_ACTION_MODIFY, UR_ALLOWED_YES, null, true);
	}
} // class MenuCreation_itop_faq_light
